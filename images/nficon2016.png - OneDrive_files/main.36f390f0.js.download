"use strict";(this.webpackChunkonedrive_photos=this.webpackChunkonedrive_photos||[]).push([[179],{8128:(e,t,n)=>{n.d(t,{n:()=>d});var o=n(72243),r=n(2408),a=n(84851),i=n(82435);let s=0;const l=[],c="data-modal-generation";function d(e){const{selector:t}=e,[n]=o.useState((()=>s++));return(0,r.OR)(document,"focusin",(e=>{if(n===l[l.length-1]){const{body:n}=document,o=n.querySelector(t);let r=e.target;for(;r&&r!==n&&null!==r.parentElement;){if(r.getAttribute("data-modal-generation")){const t=(0,a.$)(o);if(t.length){let n=0;for(;n<t.length-1&&"-1"===t[n].getAttribute("tabIndex");)n++;t[n].focus(),e.stopImmediatePropagation();break}}r=r.parentElement}}}),{capture:!0}),o.useEffect((()=>{const{body:e}=document,o=e.querySelector(t);if(o){let t=o;for(l.push(n);t!==e&&null!==t.parentElement;){const e=t.parentElement.children;for(const o of e)o===t||"SCRIPT"===o.nodeName||"STYLE"===o.nodeName||o.getAttribute("aria-hidden")||o.querySelector("[data-modal-generation]")||(o.setAttribute(c,n.toString()),o.setAttribute("aria-hidden","true"));t=t.parentElement}return()=>{const t=e.querySelectorAll(`*[data-modal-generation='${n}']`);for(const e of t)e.removeAttribute("aria-hidden"),e.removeAttribute(c);l.splice(l.indexOf(n),1)}}}),[n,t]),(0,i.jsx)(i.Fragment,{children:e.children})}},26107:(e,t,n)=>{n.d(t,{U:()=>c});var o=n(72243),r=n(23190),a=n(67280),i=n(8128),s=n(82435);let l=0;function c(e){const{children:t,componentRef:n,contentClassName:c,modal:d}=e,u=o.useRef(null),[h]=o.useState((()=>"aria-callout-element-"+ ++l));o.useImperativeHandle(n,(()=>({updateLayout:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.updateLayout()}})));let m=t;return d&&(m=(0,s.jsx)(i.n,{selector:`.${h}`,children:t})),(0,s.jsx)(r.UW,{...e,contentClassName:(0,a.iv)(c,h),ref:u,children:m})}},37140:(e,t,n)=>{n.d(t,{V:()=>c});var o=n(72243),r=n(14766),a=n(14288),i=n(78465),s=n(63693),l=n(82435);function c(e){const t={default:void 0};let n;const c=()=>(n=n||new Promise(((n,o)=>e().then((e=>{t.default=e.default,n(e)})).catch(o))),n);return function(e){const n=o.useContext(r.A),d=o.useContext(a.r),u=o.useRef(void 0),h=o.useRef(void 0),{trackPromise:m}=(0,i.f)(),[,p]=o.useState(0),[{reject:v,resolve:f,promise:g}]=o.useState((()=>(0,s.PQ)()));let x;if(!t.default){const e=m(c(),"Shim.componentPromise"),o=d.getScenario();o&&(u.current=o.waitUntil(g,{scenarioName:"lazyLoad",scenarioType:"scriptDownload"},(e=>{var n;Object.assign(e.properties,{componentName:null===t||void 0===t||null===(n=t.default)||void 0===n?void 0:n.name})}))),e.then((()=>p((e=>e+1)))).catch((e=>{e.isCanceled||n.dispatchEvent("telemetryAvailable",{action:"exception",error:e,name:"lazyLoad"}),v(e)}))}h.current||(h.current=o.lazy(c));if(x=o.createElement(h.current,e),u.current){const e=u.current;x=(0,l.jsx)(a.r.Provider,{value:{getScenario:()=>{if("working"===e.status())return e}},children:x})}return o.useEffect((()=>{t.default&&f()})),x}}},77357:(e,t,n)=>{n.d(t,{Q:()=>a});var o=n(18421),r=n(72243);function a(e){const{children:t,values:n}=e,[,a]=r.useState(0),[i]=r.useState((()=>new Set)),s={};i.forEach((e=>{let{delegate:t,observableValue:n}=e;return n.unsubscribe(t)})),i.clear();for(const r in n){const e=n[r];if(o.PY.isObservable(e)){const t=n[r].value,o=e=>{e!==t&&a((e=>e+1))};e.subscribe(o),i.add({delegate:o,observableValue:e,resolvedValue:t}),s[r]=t}else s[r]=n[r]}return r.useEffect((()=>()=>{i.forEach((e=>{let{delegate:t,observableValue:n}=e;return n.unsubscribe(t)})),i.clear()}),[i]),t?t(s):null}},69902:(e,t,n)=>{n.d(t,{b:()=>i});var o=n(72243),r=n(69873),a=n(43409);function i(e){const{children:t,containerElement:n,responsiveSelectors:i}=e,s=o.useRef(-1),[,l]=o.useState(0),{setTimeout:c}=(0,a.K)();return(0,r.a)(n,o.useCallback(d,[i])),o.useLayoutEffect((()=>{const e=u();let t=s.current;for(;t>=0;){const n=e[i[t--]];n&&n.forEach((e=>e.classList.add("hidden")))}d()})),t({responsiveIndex:s.current});function d(){const{current:e}=n,t=u();if(e){let n=s.current;if(e.scrollWidth>e.clientWidth)for(;n<i.length-1;){const o=t[i[++n]];if(o&&(o.forEach((e=>e.classList.add("hidden"))),e.scrollWidth<=e.clientWidth))break}else for(;n>=0;){const o=t[i[n]];if(o&&(o.forEach((e=>e.classList.remove("hidden"))),e.scrollWidth>e.clientWidth)){o.forEach((e=>e.classList.add("hidden")));break}n--}n!==s.current&&(s.current=n,c((()=>l((e=>e+1))),0))}}function u(){const{current:e}=n,t={};if(e)for(let n=0;n<i.length;n++){const o=i[n],r=e.querySelectorAll(o);r.length?t[o]=r:t[o]=null}return t}}},32580:(e,t,n)=>{n.d(t,{$:()=>p});var o=n(72243),r=n(14766),a=n(13812),i=n(14288),s=n(2408),l=n(98444),c=n(74278),d=n(63693),u=n(50956),h=n(82435);const m=!0;function p(e){const{completeCallback:t,properties:n,scenarioName:p,startTime:v,waitForPaint:f=m}=e;n&&n.pathname&&n.pathname.replace(/\.[^.]*$/,"");const g=o.useContext(r.A),x=o.useContext(a.S),C=o.useContext(i.r),w=o.useRef(!1),b=o.useRef("hidden"===document.visibilityState?Date.now():void 0),y=o.useRef(0),[{reject:j,resolve:L,promise:P}]=o.useState((()=>(0,d.PQ)())),[N]=o.useState((()=>{const e=C.getScenario();let o;return e?o=e.waitUntil(P,{properties:n,scenarioName:p,scenarioType:"componentRender",startTime:v,waitForPaint:f},t):(o=(0,u.x)(P,{properties:n,scenarioName:p,scenarioType:"componentRender",startTime:v,waitForPaint:f},((e,n)=>{y.current>0&&(e.inactiveTime=y.current,o.log({excludeTDC:"runInBackground"})),t&&t(e,n);const r=(0,u.f)("scenarioComplete",e);g.dispatchEvent("scenarioComplete",r),g.dispatchEvent("telemetryAvailable",r),x.featureEnabled("breakOnTTI").value&&(0,l.T4)()})),g.dispatchEvent("scenarioStart",o)),o.scenarioPromise.catch(c.Z),o}));return(0,s.OR)(document,"visibilitychange",o.useCallback((function(){"hidden"===document.visibilityState?b.current=Date.now():b.current&&(y.current+=Date.now()-b.current)}),[])),o.useEffect((()=>{w.current||e.complete&&!e.complete()||(w.current=!0,L())})),o.useEffect((()=>()=>{j({isCanceled:!0,reason:{unmount:!0},tag:"Scenario"})}),[j]),(0,h.jsx)(i.r.Provider,{value:{getScenario:()=>{if("working"===N.status())return N}},children:e.children})}},14766:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(72243),r=n(67744);const a=o.createContext(new r.E)},13812:(e,t,n)=>{n.d(t,{S:()=>s});var o=n(18421),r=n(72243);const a=new o.fA(!1),i=new o.fA(void 0),s=r.createContext({experiments:{},experimentGroup:()=>i,features:{},featureEnabled:()=>a,setExperimentGroup:()=>{},setFeatureEnabled:()=>{}})},7803:(e,t,n)=>{n.d(t,{k:()=>o});const o=n(72243).createContext({navigate:()=>{},prepare:e=>e})},14288:(e,t,n)=>{n.d(t,{r:()=>a});var o=n(72243),r=n(74278);const a=o.createContext({getScenario:r.Z})},29612:(e,t,n)=>{n.d(t,{J:()=>o,h:()=>r});const o=n(72243).createContext({getSetting:e=>{},mergeSetting:(e,t)=>{},setSetting:(e,t)=>{}});class r{constructor(e){this.settingsRoot=void 0,this.settingsRoot=e}getSetting(e){const t=localStorage.getItem(this.getSettingPath(e));if(t)try{return JSON.parse(t)}catch{}}mergeSetting(e,t){this.setSetting(e,Object.assign({},this.getSetting(e),t))}setSetting(e,t){localStorage.setItem(this.getSettingPath(e),JSON.stringify(t))}getSettingPath(e){return`${this.settingsRoot}${e}`}}},8577:(e,t,n)=>{n.d(t,{N:()=>r});var o=n(18421);const r=n(72243).createContext({currentTheme:new o.fA({backgroundColor:"",foregroundColor:"",themeId:"",themeName:"",userVisible:!1}),setCurrentTheme:()=>{},themes:{}})},69989:(e,t,n)=>{n.d(t,{Y:()=>l});var o=n(18421),r=n(72243),a=n(1632),i=n(36003),s=n(43409);function l(e){const{holdDelay:t=500,minDistance:n=8}=e||{},l=r.useRef(void 0),d=r.useRef(void 0),u=r.useRef(void 0),[h,m]=(0,o.mA)(void 0),{clearTimeout:p,setTimeout:v}=(0,s.K)(),f=r.useCallback((()=>{l.current=void 0,d.current=void 0,p(),m(void 0)}),[p,m]),g=r.useCallback(((e,t,n,o,r)=>{const a=t.getBoundingClientRect();l.current=e,d.current=t,u.current={x:n-a.x,y:o-a.y},0===r&&m({height:0,left:u.current.x,top:u.current.y,width:0})}),[m]),x=r.useCallback(((e,t,n)=>{const o=d.current,r=u.current;if(o&&r){const a=o.getBoundingClientRect(),i=e-a.x,s=t-a.y;(h.value||Math.abs(r.x-i)>=n||Math.abs(r.y-s)>=n)&&m(c(r,{x:i,y:s}))}}),[h.value,m]),C=r.useCallback((e=>{1&e.buttons&&x(e.clientX,e.clientY,n)}),[n,x]),w=r.useCallback((e=>{1&e.buttons||f()}),[f]),{onMouseDown:b}=(0,a.Y)(C,w),y=r.useCallback((e=>{e.defaultPrevented||(b(e),0===e.button&&g("mouse",e.currentTarget,e.clientX,e.clientY,n))}),[n,b,g]),j=r.useCallback((e=>{1===e.touches.length&&("touch"===l.current?x(e.touches[0].clientX,e.touches[0].clientY,0):u.current&&(Math.abs(u.current.x-e.touches[0].clientX)>=n||Math.abs(u.current.y-e.touches[0].clientY)>=n)&&f())}),[f,n,x]),{onTouchStart:L}=(0,i.R)(j,f),P=r.useCallback((e=>{if(!e.defaultPrevented)if(L(e),1===e.touches.length){const n=e.currentTarget;v((()=>g("touch",n,e.touches[0].clientX,e.touches[0].clientY,0)),t)}else f()}),[f,t,L,v,g]);return{dragRect:h,onMouseDown:y,onTouchStart:P}}function c(e,t){const n=Math.min(e.x,t.x),o=Math.min(e.y,t.y);return{height:Math.max(e.y,t.y)-o,left:n,top:o,width:Math.max(e.x,t.x)-n}}},25624:(e,t,n)=>{n.d(t,{V:()=>a});var o=n(72243),r=n(14766);function a(e,t){const n=o.useContext(r.A),a=o.useRef(void 0);a.current!==t&&(a.current&&n.removeEventListener(e,a.current),n.addEventListener(e,t),a.current=t),o.useEffect((()=>()=>{n.removeEventListener(e,t)}),[n,e,t])}},13332:(e,t,n)=>{n.d(t,{i:()=>l});var o=n(72243),r=n(14766),a=n(14288),i=n(22481),s=n(78465);function l(e,t){const n=o.useContext(r.A),l=o.useContext(a.r),[c]=o.useState(l.getScenario()),{blocking:d=!0,data:u,parentScenario:h=c,telemetryProperties:m={},...p}=t||{},{allowDuplicate:v,eventDispatch:f=n,name:g="__unnamed__"}=p;!m.scenarioName&&null!==h&&void 0!==h&&h.scenarioName&&(m.scenarioName=h.scenarioName);const{trackPromise:x}=(0,s.f)([u,f,e,v,g]),C=o.useMemo((()=>(0,i.h)(e,{...p,data:u,eventDispatch:f,name:g,telemetryProperties:m})),[v,u,f,e,g]);return o.useCallback((function(){const e=Date.now(),t=x(C(...arguments),`useFetch ${g}`);return d&&h&&h.waitUntil(t,{scenarioName:g,scenarioType:"networkRequest",startTime:e}),t}),[d,h,g,C,x])}},25496:(e,t,n)=>{n.d(t,{U:()=>a});var o=n(72243);const r=o.createContext({callbacks:[]});function a(e){const t=o.useContext(r),n=o.useRef(),a=o.useCallback((()=>{for(let e=t.callbacks.length-1;e>=0&&!t.callbacks[e]();e--);}),[t]);return o.useEffect((()=>{let t;t="string"===typeof e?document.querySelector(e):null===e||void 0===e?void 0:e.current,t&&t.focus()}),[]),o.useEffect((()=>{return t.callbacks.push(e),()=>{t.callbacks.splice(t.callbacks.indexOf(e),1),a()};function e(){if(n.current&&document.contains(n.current))return n.current.focus({preventScroll:!0}),!0}}),[a,t]),{onBlur:function(e){document.hasFocus()&&!e.relatedTarget&&a()},onFocus:function(e){e.currentTarget.contains(e.target)?n.current=e.target:n.current=void 0}}}},62119:(e,t,n)=>{n.d(t,{q:()=>c});var o=n(72243),r=n(67744),a=n(43409);const i=new r.E;let s=!1;document.body.addEventListener("focusin",(e=>{s=!1})),document.body.addEventListener("focusout",(e=>{s=!0,window.setTimeout((()=>{s&&(s=!1,document.activeElement===document.body&&i.dispatchEvent("focusout",e))}),0)}));const l=["A","BUTTON","IFRAME","INPUT","SELECT","TEXTAREA"];function c(e){const{blurOnDocumentFocus:t=!1,onFocusChange:n,onFocusLost:r,reset:s=!1}=e||{},[l]=o.useState(document.activeElement),c=o.useRef(!1),[d,u]=o.useState(!1),{setTimeout:h}=(0,a.K)();return o.useEffect((()=>{if(r&&d)return i.addEventListener("focusout",r),()=>i.removeEventListener("focusout",r)}),[d,r]),{hasFocus:d,onBlur:()=>{c.current=!0,h((()=>{(t||document.hasFocus())&&c.current&&(c.current=!1,u(!1),n&&n(!1),s&&l&&l.focus())}),0)},onFocus:()=>{c.current=!1,d||(u(!0),n&&n(!0))}}}document.body.addEventListener("mousedown",(e=>{let t=e.target;for(;t;){if(t.classList.contains("prevent-mouse-action")){e.preventDefault();break}if(l.indexOf(t.nodeName)>=0||t.getAttribute("tabIndex")||t.classList.contains("allow-mouse-action"))return;t=t.parentElement}}))},2408:(e,t,n)=>{n.d(t,{AE:()=>i,OR:()=>s,qf:()=>a});var o=n(72243),r=n(52557);const a={passive:!1},i={passive:!0};function s(e,t,n,a){o.useEffect((()=>{if(e)return e.addEventListener(t,o,a),()=>e.removeEventListener(t,o,a);function o(e){(0,r.unstable_batchedUpdates)((()=>{n&&n(e)}))}}),[e,t,n,a])}},1632:(e,t,n)=>{n.d(t,{Y:()=>a});var o=n(72243);const r={capture:!0,passive:!0};function a(e,t){const n=o.useRef(void 0),a=o.useCallback((o=>{let a=o.nativeEvent;function s(t){a=t,e(t)}function l(e){t&&t(e),0===e.buttons&&i()}function c(){e(a)}n.current||(document.addEventListener("dragend",l),document.addEventListener("mousemove",s),document.addEventListener("mouseup",l),document.addEventListener("scroll",c,r),n.current={_onMouseMove:s,_onMouseUp:l,_onScroll:c})}),[e,t]);return o.useEffect((()=>i),[]),{onMouseDown:a};function i(){const{current:e}=n;e&&(document.removeEventListener("dragend",e._onMouseUp),document.removeEventListener("mousemove",e._onMouseMove),document.removeEventListener("mouseup",e._onMouseUp),document.removeEventListener("scroll",e._onScroll,r),n.current=void 0)}}},90743:(e,t,n)=>{n.d(t,{Y:()=>a});var o=n(72243),r=n(43409);function a(e){const{leaveDelay:t=0,onMouseChange:n}=e||{},a=o.useRef(!1),[i,s]=o.useState(!1),{setTimeout:l}=(0,r.K)();return{hasMouse:i,onMouseEnter:()=>{a.current=!1,i||(s(!0),n&&n(!0))},onMouseLeave:()=>{a.current=!0,t?l((()=>{a.current&&(a.current=!1,s(!1),n&&n(!1))}),t):(s(!1),n&&n(!1))}}}},98667:(e,t,n)=>{n.d(t,{q:()=>r});var o=n(72243);function r(){const e=o.useRef();return o.useEffect((()=>t),[]),{createObjectURL:o.useCallback((function(t){e.current&&e.current.object!==t&&(window.URL.revokeObjectURL(e.current.url),e.current=void 0);e.current||(e.current={object:t,url:window.URL.createObjectURL(t)});return e.current.url}),[]),revokeObjectURL:o.useCallback(t,[])};function t(){e.current&&(window.URL.revokeObjectURL(e.current.url),e.current=void 0)}}},98540:(e,t,n)=>{n.d(t,{Qe:()=>c,ih:()=>s,mA:()=>i,mU:()=>l});var o=n(18421),r=n(72243),a=n(52557);function i(e){const[t]=r.useState(e),[n]=r.useState(new o.fA(t)),a=r.useCallback((e=>{n.value="function"===typeof e?e(n.value):e}),[n]);return[n,a]}function s(e){const[t]=r.useState(e),[n]=r.useState(new o.db(t)),a=r.useCallback((e=>{n.value="function"===typeof e?e(n.value):e}),[n]);return[n,a]}function l(e,t,n){const i=r.useRef(void 0),[,s]=r.useState(o.PY.getValue(e)),l=r.useCallback(((e,n)=>{(0,a.unstable_batchedUpdates)((()=>{t?t(e,n)&&s(e):s(e)}))}),[t]);return r.useMemo((()=>{i.current&&o.PY.unsubscribe(e,i.current,n),o.PY.subscribe(e,l,n),i.current=l}),[n,l,i,e]),r.useEffect((()=>()=>{o.PY.unsubscribe(e,l,n)}),[n,l,e]),o.PY.getValue(e)}function c(e,t,n){const i=r.useRef(void 0),[,s]=r.useState(0),l=r.useCallback(((e,n)=>{(0,a.unstable_batchedUpdates)((()=>{t?t(e,n)&&s((e=>e+1)):s((e=>e+1))}))}),[t]);return r.useMemo((()=>{i.current&&o.PY.unsubscribe(e,i.current,n),o.PY.subscribe(e,l,n),i.current=l}),[n,l,e]),r.useEffect((()=>()=>{o.PY.unsubscribe(e,l,n)}),[n,l,e]),o.PY.getValue(e)}},78465:(e,t,n)=>{n.d(t,{f:()=>a});var o=n(72243),r=n(63693);function a(e){const t=o.useRef([]);return o.useMemo((()=>t.current=[]),e),o.useEffect((()=>{const e=t.current;return()=>{e.forEach((e=>e.cancel({unmount:!0}))),e.splice(0,e.length-1)}}),[]),{trackPromise:o.useCallback((function(e,n){const o=(0,r.BZ)(e,n||"trackPromise");return t.current.push(o),o.finally((()=>{t.current.splice(t.current.indexOf(o),1)}))}),[])}}},69873:(e,t,n)=>{n.d(t,{a:()=>a});var o=n(72243),r=n(43409);function a(e,t){const n=o.useRef(void 0),{setTimeout:a}=(0,r.K)(),i=o.useMemo((()=>new ResizeObserver(((e,o)=>{const r=e[0].contentRect,i=n.current;i&&i.height===r.height&&i.width===r.width||a((()=>{t(e,o),n.current=r}),0)}))),[t,a]);o.useEffect((()=>{if(e&&e.current){const t=e.current;return i.observe(t),()=>{i.unobserve(t)}}}),[t,e,i])}},43409:(e,t,n)=>{n.d(t,{K:()=>i,Y:()=>s});var o=n(72243),r=n(52557);const a={preserve:!1};function i(e){const{preserve:t}=e||a,n=o.useRef(-1);return o.useEffect((()=>i),[]),{clearTimeout:o.useCallback(i,[]),setTimeout:o.useCallback((function(e,o){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];if(t&&-1!==n.current)return n.current;return i(),n.current=window.setTimeout((function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];(0,r.unstable_batchedUpdates)((()=>{n.current=-1,e(...o)}))}),o,...s),n.current}),[t])};function i(){-1!==n.current&&(window.clearTimeout(n.current),n.current=-1)}}function s(){const e=o.useRef(-1);return o.useEffect((()=>t),[]),{clearInterval:o.useCallback(t,[]),setInterval:o.useCallback((function(n,o){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s];return t(),e.current=window.setInterval((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];(0,r.unstable_batchedUpdates)((()=>{n(...t)}))}),o,...i),e.current}),[])};function t(){-1!==e.current&&(window.clearInterval(e.current),e.current=-1)}}},32382:(e,t,n)=>{n.d(t,{d:()=>s,i:()=>l});var o=n(72243),r=n(43409),a=n(36003);let i=0;function s(e){(i||"touch"===e.nativeEvent.pointerType)&&e.preventDefault()}function l(e,t){const{holdDelay:n=500}=t||{},s=o.useRef({clientX:-1,clientY:-1,identifier:-1}),{clearTimeout:l,setTimeout:c}=(0,r.K)(),d=o.useCallback((e=>{i=e.touches.length,l()}),[l]),u=o.useCallback((e=>{for(let t=0;t<e.changedTouches.length;t++){const n=e.changedTouches[t];if(n.identifier===s.current.identifier){(Math.abs(s.current.clientX-n.clientX)>8||Math.abs(s.current.clientY-n.clientY)>8)&&l();break}}}),[l]),{onTouchStart:h}=(0,a.R)(u,d);return{onTouchStart:o.useCallback((t=>{if(h(t),1===(i=t.touches.length)){const o=t.touches[0];s.current={clientX:o.clientX,clientY:o.clientY,identifier:o.identifier},c((()=>{s.current={clientX:-1,clientY:-1,identifier:-1},e(t)}),n)}else l()}),[l,n,h,e,c])}}},36003:(e,t,n)=>{n.d(t,{R:()=>a});var o=n(72243),r=n(2408);function a(e,t){const n=o.useRef(void 0),a=o.useCallback((()=>{function o(t){e(t)}function a(e){t&&t(e),i()}n.current||(document.addEventListener("touchmove",o,r.AE),document.addEventListener("touchend",a),n.current={onTouchEnd:a,onTouchMove:o})}),[e,t]);return o.useEffect((()=>i),[]),{onTouchStart:a};function i(){const{current:e}=n;e&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd),n.current=void 0)}}},1375:(e,t,n)=>{n.d(t,{J:()=>w});var o=n(72243),r=n(51150),a=n(81284),i=n(67502),s=n(39086),l=n(10995),c=n(46303),d=n(14766),u=n(13812),h=n(98444),m=n(13332),p=n(98540);var v=n(78465);const{VideoGeoLocked:f,VideoUnavailable:g,VideoUnhandledError:x,VideoBlockItalianLanguage:C}=window.Resources.Common;function w(e){const{driveId:t,loadFailure:w,logLevel:b=0,loadPlayer:y,manifestUrl:j,photoId:L,playbackSession:P,player:N,setFeedback:k,ttmlElement:S,videoElement:T}=e,A=o.useContext(s.KX),E=o.useContext(d.A),M=o.useContext(u.S),D=o.useContext(l.B3),[,R]=o.useState(0),I=!(M.featureEnabled("DisableVideoPlaybackForItalianLanguageUsers").value&&"it"===D.locale.split("-",1)[0].toLowerCase()),{trackPromise:V}=(0,v.f)(),F=function(e){const t=o.useRef(!1);return function(){t.current||(e&&e(...arguments),t.current=!0)}}(w),O=(0,m.i)(r.sU,{blocking:!1,name:"downloadManifest"}),U=(0,c.X7)(),B=(0,p.mU)(j),H=(0,h.BM)(),Z=H&&y&&!!B&&I;I||(F(),k&&k(C));const _=o.useMemo((()=>Z?V(n.e(7864).then(n.t.bind(n,47864,23))):void 0),[Z,V]);o.useEffect((()=>{let e;return _&&T.current&&_.then((t=>{const n=t.MediaPlayer().create(),o=[];e=n,n.on(t.MediaPlayer.events.ERROR,F),n.on(t.MediaPlayer.events.METRIC_ADDED,(e=>{if("RequestsQueue"===e.metric){const i=n.getDashMetrics().getCurrentHttpRequest(e.mediaType);if(!i)return;const{responsecode:s=0,trequest:l,type:c="",url:d="",_responseHeaders:u,_tfinish:h}=i;if(!o.includes(i)&&h){const n=h&&h.getTime?h.getTime():0,m="getVideoSegment",p=l&&l.getTime?l.getTime():0;let v,C,w,b=x;if(u&&"string"===typeof u){const e=u.split("\r\n");for(let t=0;t<e.length;t++){const n=e[t].split(":",2),o=n[1]?n[1].trim():"";"ms-cv"===n[0]&&(C=o),"x-clienterrorcode"===n[0]&&(v=o,"GeoLocInvalidRequest"===v&&(b=f))}}if(s<200||s>299){404===s&&(v=v||"itemNotFound",b=g);const n=e.value.executedRequests.find((e=>e.url===d));if(n){var t,r,a;const e={bytesLoaded:n.bytesLoaded,codec:null===(t=n.mediaInfo)||void 0===t?void 0:t.codec,index:n.index,segmentDuration:n.duration,startTime:n.startTime,timescale:n.timescale,totalVideoDuration:null===(r=n.mediaInfo)||void 0===r||null===(a=r.streamInfo)||void 0===a?void 0:a.duration};b=`${b} ${JSON.stringify(e)}`}w={reason:{error:{code:v||"videoNetworkFailure",message:b},response:new Response(JSON.stringify({error:{code:v||"vidoNetworkFailure",message:b}}),{headers:{"content-type":"application/json"},status:s})},status:"rejected"},k&&k(b)}else w={status:"fulfilled",value:null};E.dispatchEvent("fetchStart",{name:m,options:{scenarioName:c},url:d}),E.dispatchEvent("fetchComplete",{duration:n-p,endTime:n,ms_cv:C,name:m,options:{scenarioName:c},result:w,startTime:p,telemetryProperties:{httpStatus:s},url:d}),o.push(i)}}})),n.on(t.MediaPlayer.events.PLAYBACK_ERROR,(e=>{E.dispatchEvent("telemetryAvailable",{action:"exception",error:{code:"videoPlaybackError",message:e.error},name:"videoPlaybackError",playbackId:P,videoId:L}),k&&k(x)})),N&&n.on("streamInitialized",(()=>{N.current=n,R((e=>e+1))})),n.updateSettings({debug:{logLevel:b},streaming:{retryAttempts:{MPD:0}}}),n.extend("RequestModifier",(0,i.bR)(A,D),!0),n.initialize(T.current,B,!1,i.R3),S&&n.attachTTMLRenderingDiv(S.current)})).catch(U),()=>{N&&(N.current=void 0),e&&e.destroy()}}),[_,T,B]),o.useMemo((()=>{!H&&I&&L&&t&&O(t,L,{select:"id,@microsoft.graph.downloadUrl"}).then((e=>{const t=T.current;if(e["@content.downloadUrl"]&&t){const n=new URL(e["@content.downloadUrl"]);(0,a.re)(n),t.src=n.toString(),t.currentTime=i.R3,y&&t.load()}})).catch(U)}),[t,L,T])}},52520:(e,t,n)=>{function o(e,t,n){let o=e.length-1,r=0,a=0,i=0;for(;r<=o&&(a=Math.floor((r+o)/2),i=n(e[a],t),0!==i);)i>0?r=a+1:o=a-1;return i>0&&a++,a}n.d(t,{r:()=>o})},98444:(e,t,n)=>{function o(){return"WebKitMediaSource"in window||"MediaSource"in window}function r(){}n.d(t,{$1:()=>l,BM:()=>o,T4:()=>r,d8:()=>c,ej:()=>s,kT:()=>i});let a={};function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";c(e,"",t,"Thu, 01 Jan 1970 00:00:01 GMT")}function s(e){const t=document.cookie||"",n=a[t];return n?n[e]||"":d(t)[e]||""}function l(){const e=document.cookie||"",t=a[e];return t||d(e)}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;const a=[`${e}=${t}`,`path=${n}`];o&&a.push(`expires=${o}`),r&&a.push(`max-age=${r}`),-1!==window.location.protocol.indexOf("https")&&a.push("secure"),document.cookie=a.join(";")}function d(e){const t=e.split(";");a={};const n={};a[e]=n;for(let o=0;o<t.length;o++){const e=t[o].trimStart().split("=");2===e.length&&(n[e[0]]=decodeURIComponent(e[1]))}return n}},67744:(e,t,n)=>{n.d(t,{E:()=>r});var o=n(52557);class r{constructor(e){this.batchUpdates=void 0,this.listeners={},this.parentDispatch=void 0;const{batchUpdates:t=!0,parentDispatch:n}=e||{};this.batchUpdates=t,this.parentDispatch=n}addEventListener(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({once:!1,delegate:t})}dispatchEvent(e,t){const n=this.listeners[e];let r;if(this.batchUpdates?(0,o.unstable_batchedUpdates)(a):a(),r)for(let o=0;o<r.length;o++){const t=this.listeners[e].indexOf(r[o]);-1!==t&&this.listeners[e].splice(t,1)}function a(){if(n){const o=n.slice();for(let n=0;n<o.length;n++){const a=o[n];try{a.delegate(t)}catch(e){}a.once&&(r?r.push(a):r=[a])}}}this.parentDispatch&&this.parentDispatch.dispatchEvent(e,t)}once(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({once:!0,delegate:t})}removeEventListener(e,t){if(!(e in this.listeners))return;const n=this.listeners[e];for(let o=0,r=n.length;o<r;o++)if(n[o].delegate===t)return void n.splice(o,1)}}},22481:(e,t,n)=>{n.d(t,{h:()=>r});var o=n(92772);function r(e,t){const n=[];return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];const{allowDuplicate:s=!1,eventDispatch:l,fetch:c=window.fetch,name:d="__unnamed__",parseFailure:u=!0,retryCallback:h,timeoutMs:m}=t||{};let p=1;if(!s)for(let e=0;e<n.length;e++){const t=n[e];if(a.length===t.args.length){let e=!0;for(let n=0;n<t.args.length;n++)if(a[n]!==t.args[n]){e=!1;break}if(e)return t.fetchPromise}}const v=new Promise(((r,i)=>{const s={...null===t||void 0===t?void 0:t.telemetryProperties},f=Date.now();let g;function x(e){const a=Date.now(),c=[];let h=0;return null===l||void 0===l||l.dispatchEvent("fetchTranslate",{translate:e=>{c.push(e)}}),function e(t){if(c.length>h)return c[h++](t).then((t=>{if("rejected"===t.status){const{reason:n}=t;if(u&&("object"===typeof Response||"function"===typeof Response)&&n instanceof Response)return(0,o.U)(n).then((t=>e({reason:t,status:"rejected"})))}return e(t)})).catch((()=>e(t)));return Promise.resolve(t)}(e).then((e=>{const o={duration:a-f,endTime:a,name:d,options:t,result:e,startTime:f,telemetryProperties:s,url:g};null===l||void 0===l||l.dispatchEvent("fetchComplete",o),n.splice(n.findIndex((e=>e.fetchPromise===v)),1),"fulfilled"===e.status?r(e.value):i(e.reason)}))}e((function e(n,o){const r={...o},a=[],i={init:r,name:d,options:t,telemetryProperties:s,url:n,waitUntil:e=>a.push(e)};let u;m&&(u=new AbortController,window.setTimeout((()=>{var e;return null===(e=u)||void 0===e?void 0:e.abort()}),m));return g=i.url,null===l||void 0===l||l.dispatchEvent("fetchPrepare",i),Promise.all(a).catch((e=>(g=i.url,Promise.reject({error:{code:"preparationFailed",message:e instanceof Error?e.toString():"string"===typeof e?e:JSON.stringify(e)}})))).then((()=>{var a;g=i.url,null===l||void 0===l||l.dispatchEvent("fetchStart",{name:d,options:t,url:g});const m=c(g,{signal:null===(a=u)||void 0===a?void 0:a.signal,...r}).then((a=>(u=void 0,h&&a.status>=400&&a.status<600&&p--?h(g,r,a,t).then((t=>t?(s.retry=!0,e(n,o)):v(a))):v(a))));return m}));function v(e){return null===l||void 0===l||l.dispatchEvent("fetchEnd",{options:t,response:e,telemetryProperties:s}),e}}),...a).then((e=>x({status:"fulfilled",value:e}))).catch((e=>{if(u&&("object"===typeof Response||"function"===typeof Response)&&e instanceof Response)return(0,o.U)(e).then((e=>{x({reason:e,status:"rejected"})}));x({reason:e,status:"rejected"})}))}));return s||n.push({args:a,fetchPromise:v}),v}}},84851:(e,t,n)=>{function o(e,t){const n=[];let o="a[href],button,iframe,input,select,textarea,[tabIndex]";if(e){const a=e.querySelectorAll(o);e.matches(o)&&r(e,t)&&n.push(e);for(let e=0;e<a.length;e++){const o=a[e];r(o,t)&&n.push(o)}}return n}function r(e,t){if(e.hasAttribute("disabled"))return!1;if(!t){const t=window.getComputedStyle(e);if("hidden"===t.visibility||"none"===t.display||!(e.clientWidth||e.clientHeight||e.getClientRects().length))return!1}return!0}n.d(t,{$:()=>o})},6558:(e,t,n)=>{n.d(t,{R4:()=>i,WU:()=>r,X8:()=>l,cc:()=>s});var o=n(72243);function r(e,t){if(t)for(const n of Object.keys(t))e=e.replace(new RegExp(`{{${n}}}`,"g"),t[n]);return e}const a=/(?:\[\[)([^\]]*)(?:\]\])/;function i(e,t){const n=[],r=e.split(a);for(let o=0,a=0;o<r.length;o++)1&o?n.push(t(r[o],a++)):r[o]&&n.push(r[o]);return o.createElement(o.Fragment,null,n)}function s(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=t?new Date(e.getTime()+60*e.getTimezoneOffset()*1e3):e;return r(`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}T${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}:${n.getSeconds().toString().padStart(2,"0")}.${n.getMilliseconds().toString().padStart(3,"0")}Z`)}function l(e,t){const n={};return Object.keys(t).forEach((e=>{const o=t[e];n[e]="object"===typeof o?o.toString():"string"===typeof o?encodeURIComponent(o):o})),r(e,n)}},74278:(e,t,n)=>{function o(){}function r(e){e.preventDefault()}n.d(t,{P:()=>r,Z:()=>o})},77633:(e,t,n)=>{let o;function r(e){return!!o&&o.has(e)}function a(){o||(o=new Set,window.addEventListener("keydown",(e=>o.add(e.key)),!0),window.addEventListener("keyup",(e=>o.delete(e.key)),!0))}n.d(t,{K:()=>r,P:()=>a})},92772:(e,t,n)=>{function o(e){const t=e.headers.get("content-type");return e.status>=400&&e.status<=599?e.bodyUsed?Promise.resolve({error:{code:"bodyUsed",message:"Unable to retrieve response details"},response:e}):e.clone().json().then((t=>({...t,response:e}))).catch((()=>{const n=e.headers.get("content-length");return Promise.resolve({error:{code:"nonJsonError",message:`Unexpected content type ${t}, length ${n}`},response:e})})):Promise.resolve({error:{code:"unexpectedStatus",message:`Unexpected network response ${t}`},response:e})}n.d(t,{U:()=>o})},63693:(e,t,n)=>{n.d(t,{BZ:()=>i,PQ:()=>r,gf:()=>a});var o=n(74278);function r(){let e=o.Z,t=o.Z;const n=new Promise(((n,o)=>{t=n,e=o}));return{reject:e,resolve:t,promise:n}}function a(e){return function(t){const n=e(t);return n||Promise.reject(t)}}const i=(e,t)=>{const{promise:n,reject:o,resolve:a}=r();return e.then(a,o),{cancel(e){o({isCanceled:!0,reason:e,tag:t})},catch:n.catch.bind(n),finally:n.finally.bind(n),then:n.then.bind(n)}}},41414:(e,t,n)=>{n.d(t,{M:()=>i});var o=n(18421),r=n(44721);const a={};class i extends r.Y{constructor(e,t){const{ignoreProposal:n,selected:o}=t||a;super({multiSelect:!0,selected:o}),this._ignoreProposal=void 0,this._items=void 0,this._previousSelection=void 0,this._proposed=void 0,this._ignoreProposal=n||(()=>!1),this._items=e}proposeSelection(e){this._ignoreProposal()||(e?this._proposed!==e&&this.notify(this.getRange(e),"proposeSelection"):this._proposed&&this.notify(new Set,"proposeSelection"),this._proposed=e)}selectRange(e,t){const n=this.pivot;if(n){const o=this.getRange(e);if(!t&&this._previousSelection&&this._previousSelection.pivot===n){const e=[],t=this._previousSelection.range;for(const n of t)o.has(n)||e.push(n);this.unselect(e)}this.select(o,!0),this._previousSelection={pivot:n,range:o}}}getRange(e){const t=new Set,n=this.pivot;let r=!1;if(n&&n!==e){const a=o.PY.getValue("function"===typeof this._items?this._items():this._items);let i=!1;for(let o=0;o<a.length;o++){const s=a[o];if(s.id===e||s.id===n){if(r=r||s.id===n,i){t.add(s.id);break}i=!0}i&&t.add(s.id)}}return r?t:new Set}}},50956:(e,t,n)=>{n.d(t,{f:()=>i,x:()=>r});var o=n(92772);function r(e,t,n){return a(e,t,n)}function a(e,t,n,r){const{properties:i={},scenarioName:s,scenarioType:l,startTime:c,waitForPaint:d=!1}=t,u={completeCallback:n,children:[],endTime:0,parentScenario:r,properties:i,scenarioName:s,scenarioType:l,status:"working",startTime:c||Date.now()};r&&r.children.push(u);const h=new Promise(((t,n)=>{let r;e.then((e=>{r={status:"fulfilled",value:e}})).catch((e=>{if(e instanceof Response)return(0,o.U)(e).then((e=>{r={reason:e,status:"rejected"}}));r={status:"rejected",reason:e}})).finally((()=>{u.status="pending",Promise.allSettled(u.children.map((e=>e.promise))).then((e=>{function o(){const{completeCallback:e}=u;if(u.endTime=Date.now(),u.result=r,u.status="complete",e)try{e(u,r)}catch(o){}"fulfilled"===r.status?t(r.value):n(r.reason)}d&&"visible"===document.visibilityState?window.requestAnimationFrame((()=>{window.setTimeout(o,0)})):o()}))}))}));return u.promise=h,{log:function(e){u.properties=Object.assign(u.properties,e)},scenarioName:s,scenarioPromise:h,status:function(){return u.status},waitUntil:function(e,t,n){const o="working"===u.status?u:void 0,r=a(e,t,n,o);return{log:r.log,scenarioName:s,scenarioPromise:r.scenarioPromise,status:r.status,waitUntil:r.waitUntil}}}}function i(e,t){return{action:e,children:t.children.map((t=>i(e,t))),duration:t.endTime-t.startTime-(t.inactiveTime||0),endTime:t.endTime,properties:t.properties,result:t.result,scenarioName:t.scenarioName,scenarioType:t.scenarioType,startTime:t.startTime,status:t.status}}},44721:(e,t,n)=>{n.d(t,{Y:()=>r});var o=n(18421);class r extends o.y${constructor(e){super(),this._multiSelect=void 0,this._pivot=void 0,this._value=new Set;const{multiSelect:t=!1,selected:n}=e||{};this._multiSelect=t,this._pivot=void 0,this._value=new Set(n)}get multiSelect(){return this._multiSelect}get pivot(){return this._pivot}get selectedCount(){return this._value.size}get value(){return this._value}allSelected(e){for(let t=0;t<e.length;t++)if(!this._value.has(e[t].id))return!1;return!0}clear(){const e=this._value;this._pivot=void 0,this._value=new Set,e.size&&this.notify(new Set(e),"unselect")}selected(e){return this._value.has(e)}select(e,t){const n=new Set,o="string"===typeof e?[e]:e,r=new Set,a=new Set;let i,s=0;for(const c of o){var l;i=null!==(l=i)&&void 0!==l?l:c,s++,n.add(c),this._value.has(c)||(r.add(c),this._value.add(c))}t&&this._multiSelect||(this._value.forEach((e=>{n.has(e)||a.add(e)})),a.forEach((e=>{this._value.delete(e)}))),1===s?this._pivot=i:t||(this._pivot=void 0),a.size&&this.notify(a,"unselect"),r.size&&this.notify(r,"select")}toggle(e){const t=new Set;t.add(e),this._value.has(e)?(this._pivot=void 0,this._value.delete(e),this.notify(t,"unselect")):(this._pivot=e,this._value.add(e),this.notify(t,"select"))}unselect(e){const t="string"===typeof e?[e]:e,n=new Set;for(const o of t)this.value.has(o)&&(this._pivot===o&&(this._pivot=void 0),n.add(o),this.value.delete(o));n.size&&this.notify(n,"unselect")}}},97845:(e,t,n)=>{n.d(t,{y:()=>r});var o=n(63693);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],n=0,r=0;function a(e){n--,i(),e.callback=void 0,e.deferredTask=void 0}function i(){if(n<e&&r<t.length){const e=t[r++];n++,e.callback().then((t=>{e.deferredTask.resolve(t),a(e)}),(t=>{e.deferredTask.reject(t),a(e)}))}}function s(){return t.length-r}function l(e){const n=(0,o.PQ)();return t.push({callback:e,deferredTask:n}),i(),n.promise}return{getQueueLength:s,queueTask:l}}},29075:(e,t,n)=>{var o=n(18421),r=n(77633),a=n(72243),i=n(52557),s=n(13634),l=n(66261),c=n(22658),d=n(14766),u=n(13812),h=n(29612),m=n(8577),p=n(25624),v=n(98667),f=n(98540),g=n(98444),x=n(6558),C=n(74278),w=n(92772),b=n(26321);function y(e,t){return(0,b.Ge)(e((0,x.X8)("{{vroomOrigin}}/{{accountVersion}}/drive?expand=unifiedStorageQuota(expand=services)&prefer=isusqenlightened",{driveId:t})).then((e=>400===e.status?(0,w.U)(e).then((t=>(0,b.xT)(t,["apiNotFound"])?new Response(JSON.stringify({error:"generalException",innererror:{code:"userContentMigrated"},message:"User migrated."}),{headers:{"Content-Type":"application/json"},status:404}):e)).catch((()=>e)):e)))}function j(e,t){const n=new FormData;return n.append("<Feedback>",new File([JSON.stringify(t.metadata)],"<Feedback>",{type:"application/json"})),t.screenshot&&n.append("<Sceenshot>",new File([t.screenshot],"<Screenshot>",{type:"image/jpg"})),e((0,x.X8)("{{feedbackOrigin}}/SendFeedback?{{parameters}}",{parameters:new URLSearchParams({mkt:t.market})}),{body:n,method:"POST"}).then((e=>{if(200!==e.status)return Promise.reject(e)}))}var L=n(14560);function P(e){return(0,b.Ge)(e("{{vroomOrigin}}/{{apiVersion2}}/drive/userPreferences/email"))}var N=n(7407),k=n(81284);class S extends a.Component{constructor(){super(...arguments),this.state={}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.props.errorCallback&&this.props.errorCallback(e,t),this.context.dispatchEvent("telemetryAvailable",{action:"exception",error:e,errorInfo:t,name:"unhandledException",errorName:"errorBoundary"})}render(){if(this.state.error&&this.state.errorInfo){const{fallbackComponent:e}=this.props;return e?a.createElement(e,{error:this.state.error,errorInfo:this.state.errorInfo}):null}return this.props.children}}S.contextType=d.A;var T=n(32580),A=n(53199),E=n(75894),M=n(23190),D=n(78070),R=n(67280),I=n(43409),V=n(960),F=n(82435);const{DismissButton:O}=window.Resources.Common;let U=0;function B(e){const{contentJustification:t=M.vN.Center,contentLocation:n=M.RD.End,hideDelay:o=3e3,maxVisible:r=3,route:i}=e,s=a.useContext(d.A),[l]=(0,f.ih)([]),c=(0,f.Qe)(l);return a.useEffect((()=>{return s.addEventListener("hideMessage",e),s.addEventListener("showMessage",t),()=>{s.removeEventListener("hideMessage",e),s.removeEventListener("showMessage",t)};function e(e){const t=l.value.find((t=>t.message===e));var n;t&&t.cardRef.current&&t.cardRef.current.dismiss(!1,null!==(n=e.hideDelay)&&void 0!==n?n:o)}function t(t){l.push({id:++U,message:t,cardRef:{current:void 0}}),t.promise&&t.promise.finally((()=>{e(t)}))}}),[l,s,o]),a.useEffect((()=>{l.splice(0,l.length)}),[l,i]),(0,F.jsx)(M.UW,{blurDismiss:!1,className:"message-center margin-12 pointer-events-none",contentClassName:"transparent",contentJustification:t,contentLocation:n,escDismiss:!1,fixedLayout:!0,modal:!1,portalProps:{className:"message-center-portal"},children:(0,F.jsx)("div",{"aria-live":"assertive",className:"flex-column overflow-hidden","data-modal-generation":"-1",role:"status",children:c.map(((e,t)=>{const{cardRef:n,id:o,message:a}=e;return t<r?(0,F.jsx)(H,{componentRef:n,message:a,onDismiss:()=>{const t=l.value.indexOf(e);t>=0&&l.splice(t,1)}},o):null})).reverse()})})}function H(e){const{componentRef:t,onDismiss:n,message:o}=e,{timeout:r}=o;let i,s,l,c;const u=a.useContext(d.A),h=a.useRef(null);a.useImperativeHandle(t,(()=>({dismiss:L})));const[m,p]=a.useState(void 0),[v,g]=a.useState(void 0),x=(0,f.mU)(o.completedWork),C=(0,f.mU)(o.messageType),w=(0,f.mU)(o.totalWork),{setTimeout:b}=(0,I.K)(),{setTimeout:y}=(0,I.K)();switch(a.useEffect((()=>{v&&p("close-animation")}),[v]),a.useEffect((()=>{r&&b((()=>P()),r)}),[b,r]),c="function"===typeof o.title?o.title():o.title,s="function"===typeof o.content?o.content():o.content,l="function"===typeof o.customIcon?o.customIcon():o.customIcon,C){case"error":i=V.jj;break;case"progress":i=V.hY;break;case"success":i=V.fB;break;case"warning":i=V.d;break;default:i=V.t3}const j=(0,F.jsx)("span",{className:"message-card-title flex-row flex-align-center flex-grow flex-wrap margin-horizontal-8 overflow-hidden whitespace-prewrap",children:c});return(0,F.jsxs)("div",{className:(0,R.iv)("message-card relative flex-column flex-grow margin-bottom-4 padding-12 rounded-4 depth-4 pointer-events-auto overflow-hidden",m),"data-theme":o.theme||"dark",onTransitionEnd:e=>{e.target===h.current&&n()},ref:h,style:{maxHeight:v},children:[(0,F.jsxs)("div",{className:"flex-row flex-grow flex-align-center overflow-hidden",children:[l?(0,F.jsx)("div",{className:"flex-noshrink margin-left-4 invisible",children:l}):(0,F.jsx)(i,{className:"flex-noshrink margin-left-4 invisible"}),s?(0,F.jsxs)("div",{className:"flex-column flex-align-start flex-grow overflow-hidden",children:[j,(0,F.jsx)("div",{className:"message-card-content flex-row margin-horizontal-8",children:s})]}):j,(0,F.jsx)(E.Button,{className:"invisible",iconProps:{iconName:"Clear",size:D.J.small},role:"presentation",subtle:!0,tabIndex:-1})]}),void 0!==w&&w>0&&void 0!==x&&(0,F.jsx)("div",{className:"message-card-progress flex-row flex-noshrink margin-top-4 overflow-hidden rounded-8",children:(0,F.jsx)("div",{className:"message-card-completed",style:{width:`${Math.min(100,Math.max(0,x/w*100))}%`}})}),(0,F.jsxs)("div",{className:(0,R.iv)("message-card-overlay absolute flex-row flex-align-center padding-horizontal-12 pointer-events-none",o.className),children:[o.customIcon?(0,F.jsx)("div",{className:"flex-noshrink",children:o.customIcon}):(0,F.jsx)(i,{className:"flex-noshrink"}),(0,F.jsx)("div",{className:"flex-grow flex-self-stretch margin-horizontal-8"}),(0,F.jsx)(E.Button,{ariaLabel:O,className:"pointer-events-auto",iconProps:{iconName:"Clear",size:D.J.small},onClick:()=>L(!0,0),subtle:!0})]})]});function L(e,t){e&&u.dispatchEvent("telemetryAvailable",{action:"userAction",name:"dismissMessage"}),t?y(P,t):P()}function P(){var e;g(null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect().height)}}function Z(e){const{error:t,errorInfo:n}=e,o=a.useContext(d.A);return a.useEffect((()=>{o.dispatchEvent("showMessage",{messageType:"error",title:t})}),[t,n,o]),null}function _(e){const{completeCallback:t,perfGoal:n,pillar:o,modifyVetoes:r,...i}=e,s=a.useContext(d.A),l=a.useRef(void 0);return i.properties={...i.properties,pillar:o},(0,F.jsx)(T.$,{...i,completeCallback:function(e,a){t&&t(e,a);const d=e.endTime-e.startTime,h={action:"customerPromise",duration:d,properties:i.properties,pillar:o,resultType:"Success",scenarioName:i.scenarioName},m=(0,A.qS)(e);d>n&&(c(e,u)?m.push({name:`${o}SubScenarioThrottled`,errorCode:"One or more sub-scenarios were throttled"}):m.push({name:`${o}PerformanceGoalNotMet`,errorCode:"Performance goal not met"}));l.current&&m.push(l.current);r&&r(e,m);if(m.length>0){const e=m[Math.floor(Math.random()*m.length)];Object.assign(h,{resultType:"Failure",veto:e})}s.dispatchEvent("telemetryAvailable",h)},children:(0,F.jsx)(S,{fallbackComponent:Z,errorCallback:function(e,t){var n;l.current={name:`PhotosWebApp${o}ComponentRenderError`,errorCode:null!==(n=e.name)&&void 0!==n?n:"UnknownRenderError"}},children:e.children})});function c(e,t){if(t(e))return e;for(const n of e.children){const e=c(n,t);if(e)return e}}function u(e){return"throttleChildren"===e.scenarioName}}var $=n(39086);const z={},G=a.createContext({getBackground:e=>{let t=z[e];return t||(z[e]=t=new o.fA(void 0)),t},setBackground:(e,t)=>{let n=z[e];n?n.value=t:z[e]=new o.fA(t)}});var W=n(43834),q=n(13097);const{PhotoLayoutCategory:Q,CompactLayoutDescription:X,CompactLayoutTitle:Y,GroupPhotosDescription:K,GroupPhotosTitle:J,InlineDateDescription:ee,InlineDateTitle:te}=window.Resources.Feature;class ne{constructor(e,t){this.disabledFeature=new o.fA(!1),this.settingsContext=void 0,this._features={},this._experiments={},this.setFeatureEnabled=(e,t)=>{if(this._features[e]&&(this._features[e].featureEnabled.value=t,this.settingsContext)){const e={};for(const t in this._features){const n=this._features[t];n.transient||(e[t]=n.featureEnabled.value)}this.settingsContext.setSetting("featureStates",e)}};const n=(0,g.ej)("Development"),r=(0,g.ej)("PseudoLoc"),a="localhost"===window.location.hostname||!!n;if(Object.assign(this._features,{autoGroupPhotos:{featureCategory:Q,featureDescription:K,featureEnabled:new o.fA(!1),featureName:J,userVisible:!1},backgroundImage:{featureCategory:"General",featureDescription:"Allow the user to select an image to show as the background of the application.",featureEnabled:new o.fA(!1),featureName:"Custom backgrounds",userVisible:!0},excludeTagsFromAllPhotosClient:{featureCategory:"General",featureDescription:"Speed up All Photos View by not fetching tag metadata",featureEnabled:new o.fA(!0),featureName:"Exclude Tags from All Photos View",userVisible:!0},searchDebug:{featureCategory:"General",featureDescription:"Show details about how photos were matched in the search results",featureEnabled:new o.fA(!1),featureName:"Show Search Metadata",userVisible:!0},showAlbums:{featureCategory:"General",featureDescription:"Show the albums pivot.",featureEnabled:new o.fA(!0),featureName:"Show Albums",userVisible:!0},showCompactLayout:{featureCategory:Q,featureDescription:X,featureEnabled:new o.fA(!0),featureName:Y,userVisible:!1},showFilenames:{featureCategory:Q,featureDescription:"",featureEnabled:new o.fA(!(null===t||void 0===t||!t.embedded)),userVisible:!1},showHeaders:{featureCategory:Q,featureDescription:ee,featureEnabled:new o.fA(!0),featureName:te,userVisible:!1},showHome:{featureCategory:"General",featureDescription:"Enable the Home pivot",featureEnabled:new o.fA(!1),featureName:"Show home pivot",userVisible:!0},throttleNetwork:{featureCategory:"General",featureDescription:"Throttle the network requests based on rate limits.",featureEnabled:new o.fA(!0),featureName:"Throttle network requests",transient:!0,userVisible:!0},useSandbox:{featureCategory:"Network",featureDescription:"Use the sandbox API endpoint for VRoom COB requests.",featureEnabled:new o.fA(!1),featureName:"Use Sandbox",userVisible:!0},useSearchV2API:{featureCategory:"Network",featureDescription:"When available, use the Vroom 2.0 Search API",featureEnabled:new o.fA(!1),featureName:"Use Search V2 API",userVisible:!0},enableSearchFilters:{featureCategory:"General",featureDescription:"Enable search filters",featureEnabled:new o.fA(!1),featureName:"Search Filters",userVisible:!0},iframeReportAbuse:{featureCategory:"General",featureDescription:"Use iframe-based report abuse dialog.",featureEnabled:new o.fA(!1),featureName:"iFrame Report Abuse",userVisible:!0}}),a&&Object.assign(this._features,{breakOnTTI:{featureCategory:"Developer Only",featureDescription:"Break into the debugger when UX scenarios are marked complete. MUST have developer tools open for this to work!",featureEnabled:new o.fA(!1),featureName:"Break on TTI",userVisible:!0},enableQuickCache:{featureCategory:"Developer Only",featureDescription:"Cache parsed cookies for performance improvement",featureEnabled:new o.fA(!1),featureName:"Enable Quick Cache",userVisible:!0,transient:!0},fullSearchResults:{featureCategory:"Developer Only",featureDescription:"Show the entire search result set when using ACS",featureEnabled:new o.fA(!1),featureName:"Full search results",userVisible:!0},pseudoLoc:{featureCategory:"Developer Only",featureDescription:"Enable pseudo localization. This helps developers ensure the product is prepared for localization. NOTE: This requires a pseudo-loc build.",featureEnabled:new o.fA(!!r),featureName:"Enable pseudo localization",requireRefresh:!0,userVisible:!0},useOnePlayer:{featureCategory:"General",featureDescription:"Use OnePlayer to play videos",featureEnabled:new o.fA(!1),featureName:"Use OnePlayer",transient:!0,userVisible:!0}}),t&&(Object.keys(t.ramps).forEach((e=>{this._features[e]?this._features[e].featureEnabled.value=t.ramps[e]:this._features[e]={featureCategory:"Server ramp",featureDescription:"",featureEnabled:new o.fA(t.ramps[e]),featureName:e,transient:!0,userVisible:a}})),Object.keys(t.experiments).forEach((e=>{this._experiments[e]={description:"",experimentGroup:new o.fA(t.experiments[e])}}))),e)try{const t=e.getSetting("featureStates");if(t)for(const e in t){const n=this._features[e];n&&!n.transient&&(n.featureEnabled.value=!!t[e])}const n=e.getSetting("experimentStates");if(n)for(const e in n){const t=this._experiments[e];t&&(t.experimentGroup.value=n[e])}}catch{}this.settingsContext=e}get experiments(){return this._experiments}get features(){return this._features}getFeatureStates(){const e={};for(const t in this._features)e[t]=this._features[t].featureEnabled.value;return e}experimentGroup(e){const t=this._experiments[e];return t?t.experimentGroup:("localhost"===window.location.hostname&&console.warn(`Requested experiment ${e} is not currently defined.`),new o.fA(void 0))}featureEnabled(e,t){const n=this._features[e];return n?n.featureEnabled:("localhost"===window.location.hostname&&console.warn(`Requested feature ${e} is not currently defined.`),this.disabledFeature)}setExperimentGroup(e,t){if(this._experiments[e]&&(this._experiments[e].experimentGroup.value=t,this.settingsContext)){const e={};for(const t in this._experiments){const n=this._experiments[t];e[t]=n.experimentGroup.value}this.settingsContext.setSetting("experimentStates",e)}}}var oe=n(42822),re=n(85230),ae=n(7803);function ie(e){const{navigationParameters:t,children:n}=e,o=[window.location.pathname],r=a.useContext(d.A),i=(0,re.k6)();return i&&i.listen(((e,t)=>{if("POP"===t)for(;o.length&&o[o.length-1]!==e.pathname;)o.splice(o.length-1,1);else"REPLACE"===t?o[o.length-1]=e.pathname:o.push(e.pathname)})),(0,F.jsx)(ae.k.Provider,{value:{navigate:function(e,t,n){const{href:a,state:s,telemetryProperties:l,useBack:c,useReplace:d}=n||{},u=!!e&&function(e){return"click"===e.type&&(1===e.buttons||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}(e);let h=a||e&&e.currentTarget.getAttribute("href")||c&&o.length>1&&o[o.length-2]||(null===n||void 0===n?void 0:n.fallback);if(r.dispatchEvent("telemetryAvailable",{action:"userAction",name:t,...l,metaNavigation:u}),i&&!u&&h){const t=new URL(h,window.location.origin);if(t.origin===window.location.origin){if(h=t.toString().substring(t.origin.length),e&&e.preventDefault(),c)for(let e=o.length-2;e>=0;e--)if(o[e]===t.pathname)return void i.go(e-o.length+1);if(d)return void i.replace(h,s);i.push(h,s)}else new Promise(((e,t)=>{const n=[];r.dispatchEvent("beforeNavigate",{location:new URL(h),waitUntil:e=>{n.push(e)}}),Promise.allSettled(n).then((()=>e()),t)})).finally((()=>{window.location.href=h})),e&&e.preventDefault()}},prepare:function(e){if(e&&t){const n=new URL(e,window.location.origin);if(n.origin===window.location.origin){for(const e of t)n.searchParams.set(e[0],e[1]);e=n.toString().substring(n.origin.length)}}return e}},children:n})}var se=n(64695);const{SearchInspirations:le}=window.Resources,ce=a.createContext({addSearch:C.Z,clearSearches:C.Z,getSearches:()=>Promise.resolve([]),getSuggestions:()=>[],removeSearch:C.Z}),de=[];let ue;for(ue in le)de.push(le[ue]);class he{constructor(e,t,n){this.eventDispatch=void 0,this.recentSearches=void 0,this.settingsContext=void 0,this.eventDispatch=e,this.recentSearches=n,this.settingsContext=t}addSearch(e){const t=[...this.recentSearches.value];for(let n=0;n<t.length;n++)if(0===e.localeCompare(t[n],void 0,{sensitivity:"base"})){t.splice(n,1);break}t.unshift(e),t.splice(6,1),this.recentSearches.splice(0,this.recentSearches.length,...t)}clearSearches(){this.recentSearches.splice(0,this.recentSearches.length)}getSearches(){return Promise.resolve(this.recentSearches.value)}getSuggestions(){const e=Date.now(),{lastRefresh:t,suggestedSearches:n}=this.settingsContext.getSetting("suggestedSearches")||{lastRefresh:0,suggestedSearches:[]};if("number"!==typeof t||t+432e5<e){(0,se.hG)(N.KF,{eventDispatch:this.eventDispatch,name:"getSearchSuggestions"})().then((e=>{this.settingsContext.mergeSetting("suggestedSearches",{suggestedSearches:e})})).catch(C.Z),this.settingsContext.mergeSetting("suggestedSearches",{lastRefresh:e})}return Array.isArray(n)&&n.length>0?n.filter((e=>"string"===typeof e)):de}removeSearch(e){const t=this.recentSearches.value.indexOf(e);-1!==t&&this.recentSearches.splice(t,1)}}var me=n(10995);const{Light:pe,Dark:ve}=window.Resources.Theme;class fe{constructor(e){this._currentTheme=void 0,this._themes={light:{backgroundColor:"#fff",dark:!1,foregroundColor:"#c8c8c8",themeId:"light",themeName:pe,userVisible:!0},dark:{backgroundColor:"#201918",dark:!0,foregroundColor:"#605d5b",themeId:"dark",themeName:ve,userVisible:!0}},this.setCurrentTheme=e=>{const t=this._themes[e];if(t){const n=document.querySelector("[data-theme]");n&&n.setAttribute("data-theme",t.themeId),this._currentTheme.value=this._themes[e]}};const t=e.getSetting("uxSetting");this._currentTheme=new o.fA(this._themes.light),null!==t&&void 0!==t&&t.themeId&&this.setCurrentTheme(t.themeId)}get currentTheme(){return this._currentTheme}get themes(){return this._themes}}var ge=n(55539),xe=n(62873),Ce=n(78669),we=n(39146),be=n(14260),ye=n(52953),je=n(82809),Le=n(26977),Pe=n(18143);const Ne=new Set(["GeoLocInvalidRequest","ItemDoesNotExist","activityLimitReached","extensionError","invalidRange","itemNotFound","malwareDetected","nameAlreadyExists","notAllowed","quotaLimitReached","resourceModified","resyncRequired","syncStateNotFound","unauthenticated"]),ke=new Set(["The user aborted a request.","<safe>The user aborted a request.</safe>","The operation was aborted. ","<safe>The operation was aborted. </safe>","Fetch is aborted","<safe>Fetch is aborted</safe>","Failed to fetch","<safe>Failed to fetch</safe>","NetworkError when attempting to fetch resource.","<safe>NetworkError when attempting to fetch resource.</safe>","The Internet connection appears to be offline.","<safe>The Internet connection appears to be offline.</safe>","Connection reset by peer","<safe>Connection reset by peer</safe>",'{"status":-1,"code":"NoConnection"}','<safe>{"status":-1,"code":"NoConnection"}</safe>',"Timeout","<safe>Timeout</safe>","Load failed","User migrated.","The Permission and password is not matched.","The sharing link no longer exists, or you do not have permission to access it.","ownerCannotShareWithSelf"]),Se=["faceAINotAccessibleException","faceAINotReadyException","faceAITemporarilyUnavailableException","biometricConsentPendingException","biometricConsentNotFoundException","biometricConsentDeniedException","biometricConsentRevokedException","biometricConsentRequiredForDefaultUsersException","faceAIUsageRestrictedException"];function Te(e,t,n){return Ne.has(e)||t&&(ke.has(t)||t.includes("Network issue"))||n&&(0,b.xT)(n,Se)?"ExpectedFailure":"Failure"}const Ae={commandComplete:"Qos_extraData",customerPromise:"CustomerPromise_extraData",engagement:"Engagement_extraData",exception:"Qos_extraData",fetchComplete:"Qos_extraData",fetchStart:"Qos_extraData",operationComplete:"Engagement_extraData",performance:"RUMOneDataUpload_dictionary",scenarioComplete:"Engagement_extraData",userAction:"Engagement_extraData"},Ee=new Set(["cachedDownload","scrollWheelDown","scrollWheelUp"]),Me=[];let De=0;function Re(e,t){var n;if("componentRender"===e.scenarioType&&e.properties)for(const o of Object.keys(e.properties))null==t[o]||"pillar"===o?t[o]=e.properties[o]:console.warn(`Duplicate telemetry property ${o} found, existing value ${t[o]} new value ${e.properties[o]}, skipping it. Event is `,e);null===(n=e.children)||void 0===n||n.forEach((e=>Re(e,t)))}function Ie(e,t){const n={};for(const o in t){const r=t[o];void 0!==r&&(n[`${Ae[e]}_${o}`]="object"===typeof r?JSON.stringify(r):r)}return n}function Ve(){const e=a.useContext(d.A),t=a.useContext(me.B3),n=a.useRef({}),[o]=a.useState((()=>new ye.Z)),{setInterval:r}=(0,I.Y)();if(r((function(){const e=[];for(const t of Object.keys(n.current))e.push(...s(n.current[t]));n.current={},l(e)}),1e4),t.ariaToken)try{const e=t.authenticated(),r="business"===t.accountType?"ODBPhotos Web":"ODCPhotos Web",a="business"===t.accountType?"ODBPhotos":"ODCPhotos_"+("dogfood"===t.ring?"DF":"production"===t.environment?"Prod":"Dev"),c="business"===t.accountType?"ODBPhotos":"ODCPhotos",d=new Pe.Z;d.setProperty("AppInfo.Manifest","photos.manifest"),d.setProperty("AppInfo.Version",t.clientVersion),d.setProperty("BrowserIsMobile",!!navigator.userAgent.toLowerCase().match(/mobile/i)),d.setProperty("BrowserUserAgent",navigator.userAgent),d.setProperty("ClientName",r),d.setProperty("Environment",a),d.setProperty("IsAuthenticated",e&&t.userProfile?"1":"0"),d.setProperty("Workload",c),d.setProperty("SessionId",t.session);const u={populateBrowserInfo:!0};var i=new Le.q;const h={notificationEventName:"ev_privacyguard",iKey:t.ariaToken,enabled:!0,disableAdvancedScans:!0,scanForUrls:!1},m={channels:[[new je.Z]],cookieCfg:{enabled:!1},endpointUrl:t.telemetryEndpoint,instrumentationKey:t.ariaToken,extensions:[d],extensionConfig:{[d.identifier]:u,[i.identifier]:h}};if(o.initialize(m,[i]),e&&t.userId){const e="BigInt"in window?BigInt.asIntN(64,BigInt(`0x${t.userId}`)).toString(10):t.userId;d.setProperty("UserInfo_Id",e);const n=d.getPropertiesContext();n&&n.user&&(d.getPropertiesContext().user.localId=`m:${e}`)}return e=>{if(Ee.has(e.name)){const{action:t,name:o,result:r}=e,a=`${t}-${o}${"rejected"!==(null===r||void 0===r?void 0:r.status)?"":"-"+De++}`,i=n.current[a];i?i.count++:n.current[a]={...e,count:1}}else l(s(e))}}catch(c){e.dispatchEvent("telemetryAvailable",{action:"exception",name:"1dsInitialization",error:c})}function s(e){var n,o;const r=e.action.toLowerCase(),a=t.getPage(),i={AccountType:"business"===t.accountType?"Business":t.authenticated()?(null!==(n=null===(o=e.telemetryProperties)||void 0===o?void 0:o.migrated)&&void 0!==n?n:t.migrated)?"ConsumerOnSPO":"Consumer":"ConsumerAnonymous"};switch(r){case"engagement":{const{action:t,scenarioName:n,name:o,...r}=e;return[{name:"ev_engagement",data:{...i,CurrentPage:a.current,Name:`PhotosEngagement.${n||o}`,...Ie(t,r)}}]}case"exception":{const{action:t,colno:n,error:o,filename:r,lineno:a,name:s,scenarioName:l,stack:c,...d}=e;if("unhandledException"===s){return[{name:"ev_unhandlederror",data:{...i,Name:"OneDrivePhotos.unhandledException",UnhandledError_col:n,UnhandledError_filename:r,UnhandledError_line:a,UnhandledError_message:o,UnhandledError_stack:c,...Ie(t,d)}}]}{const e=(null===o||void 0===o?void 0:o.code)||o||"noErrorCode",n=(null===o||void 0===o?void 0:o.message)||o;return[{name:"ev_qos",data:{...i,Error:n,Name:`OneDrivePhotos.${l||s}`,ResultCode:e,ResultType:Te(e,n),WebLog_EventType:"End",...Ie(t,d)}}]}}case"fetchcomplete":{const{action:t,count:n,duration:o,endTime:r,name:a,result:m,scenarioName:p,startTime:v,telemetryProperties:f,url:g}=e,{migrated:x,httpStatus:C,ms_cv:w,spRequestGuid:b,spRequestDuration:y,...j}=f||{},L={ResultType:"Success"};if("rejected"===(null===m||void 0===m?void 0:m.status)){var s,l,c,d,u,h;const e=(null===(s=m.reason)||void 0===s||null===(l=s.error)||void 0===l?void 0:l.code)||(null===m||void 0===m||null===(c=m.reason)||void 0===c?void 0:c.message)||"noResultCode",t=(null===(d=m.reason)||void 0===d||null===(u=d.error)||void 0===u?void 0:u.message)||(null===m||void 0===m||null===(h=m.reason)||void 0===h?void 0:h.message);Object.assign(L,{Error:t,ResultCode:e,ResultType:Te(e,t,m.reason)})}if(y)try{j.spRequestDuration=parseInt(y),j.networkTime=parseInt(o)-j.spRequestDuration}catch{}const P={...j,count:n,endTime:r,startTime:v};return[{name:"ev_qos",data:{...i,Api_url:g,CorrelationVector:w||b,Duration:null===o||void 0===o?void 0:o.toString(),ExtraMetrics_httpStatus:C,Name:`OneDrivePhotos.${p||a}`,WebLog_EventType:"End",...L,...Ie(t,P)}}]}case"fetchstart":{const{action:t,options:n,name:o,scenarioName:r,url:a,...s}=e;return[{name:"ev_qos",data:{...i,Api_url:a,Name:`OneDrivePhotos.${r||o}`,WebLog_EventType:"Start",...Ie(t,s)}}]}case"commandcomplete":{var m;const{action:t,duration:n,name:o,result:r,scenarioName:a,...s}=e,l={ResultType:"Success"};if("rejected"===(null===r||void 0===r?void 0:r.status)){var p,v,f,g,x,C,w;const e=(null===(p=r.reason)||void 0===p||null===(v=p.error)||void 0===v?void 0:v.code)||(null===r||void 0===r||null===(f=r.reason)||void 0===f?void 0:f.message)||"noResultCode",t=(null===(g=r.reason)||void 0===g||null===(x=g.error)||void 0===x?void 0:x.message)||(null===r||void 0===r||null===(C=r.reason)||void 0===C?void 0:C.message);Object.assign(l,{Error:t,ResultCode:e,ResultType:null!==(w=r.reason)&&void 0!==w&&w.expectedFailure?"ExpectedFailure":Te(e,t)})}return[{name:"ev_qos",data:{...i,Name:`OneDrivePhotos.${a||o}`,Duration:null===n||void 0===n?void 0:n.toString(),WebLog_EventType:"End",...l,...Ie(t,s)}},{name:"ev_engagement",data:{...i,Name:`PhotosCommand.${a||o}`,...Ie(t,{duration:n,ResultType:"Failure"===l.ResultType?"Failure":"Success",..."rejected"===(null===r||void 0===r?void 0:r.status)?{error:JSON.stringify((null===r||void 0===r||null===(m=r.reason)||void 0===m?void 0:m.error)||{})}:{}})}}]}case"operationcomplete":case"scenariocomplete":{const{action:t,children:n,duration:o,properties:r,scenarioName:s,name:l}=e;let c=(0,A.JX)(e,[]),d={...i,CurrentPage:a.current,Name:`PhotosScenario.${s||l}`,PreviousPage:a.previous};const u=c.length>0?"Failure":"Success",h=c.length>0?JSON.stringify(c[0]):void 0,m={...r};return null===n||void 0===n||n.forEach((e=>Re(e,m))),"photosAppLoad"===s&&null!==n&&void 0!==n&&n.length&&n[0].scenarioName&&(d.Name=`PhotosScenario.${n[0].scenarioName}`,m.pageLoad=!0),Object.assign(d,Ie(t,{...m,duration:o,ResultType:u,error:h})),[{name:"ev_engagement",data:d}]}case"useraction":{const{action:t,scenarioName:n,name:o,...r}=e;return[{name:"ev_engagement",data:{...i,Name:`PhotosAction.${n||o}`,CurrentPage:a.current,PreviousPage:a.previous,...Ie(t,r)}}]}case"experimentevaluation":{const{name:t,variant:n,defaultValue:o="Default"}=e;return[{name:"ev_experiment",data:{...i,CurrentPage:a.current,Experiment:t,IsInRamp:n!==o,Variant:n}}]}case"customerpromise":{const{duration:n,properties:o,scenarioName:r,pillar:a,resultType:s,veto:l}=e,c={...i,CustomerPromise_extraData_excludeTDC:null===o||void 0===o?void 0:o.excludeTDC,CustomerRing:t.ring,Duration:null===n||void 0===n?void 0:n.toString(),Pillar:a,ResultType:s,Scenario:r,WebLog_EventType:"End"};return"Failure"===s&&Object.assign(c,{ErrorCode:l.errorCode,Veto:l.name}),[{name:"ev_customerpromise",data:c}]}case"performance":{const{action:t,duration:n,properties:o,scenarioName:r,name:s,...l}=e;return[{name:"ev_rumonedataupload",data:{...i,CurrentPage:a.current,Name:`PhotosPerf.${r||s}`,RUMOneDataUpload_dictionary_EUPL:n,...Ie(t,l)}}]}default:return Me}}function l(e){if(("development"===t.environment||(0,g.ej)("Development"))&&e.length)for(let t=0;t<e.length;t++)console.debug(e[t].name,e[t]);for(let t of e)o.track(t)}}var Fe=n(46303),Oe=n(69176),Ue=n(37140),Be=n(77357),He=n(2408),Ze=n(51150),_e=n(64126),$e=n(15690);function ze(e){const{downloadPhoto:t,name:n}=e,o=a.useContext(G),r=(0,f.mU)(e.background||o.getBackground(n));return r?(0,F.jsx)(Ge,{background:r,downloadPhoto:t,name:n}):null}function Ge(e){const{background:t,dimensinons:n={height:window.outerHeight,width:window.outerWidth},downloadPhoto:o,name:r}=e,{attributes:a,customContent:i,overlayAttributes:s,photo:l}=t,c=(0,_e.r)(l.id,o,{photoScale:(0,$e.Wl)(n.height,n.width,l.dimensions.height,l.dimensions.width)}),d=(0,f.mU)(c.url),u=(0,f.mU)(c.status),h=i?"function"===typeof i?i(r):i:null;return d&&"fulfilled"===u?(0,F.jsxs)("div",{...a,className:(0,R.iv)(null===a||void 0===a?void 0:a.className,`background-layer-${r}`,"background-layer absolute-fill"),style:{backgroundImage:`url(${d})`},children:[h,(0,F.jsx)("div",{...s,className:(0,R.iv)(null===s||void 0===s?void 0:s.className,"background-layer-overlay absolute-fill")})]}):null}var We=n(71914),qe=n(26107);const{SettingsButton:Qe,ShareFeedback:Xe,PositiveFeedback:Ye,NegativeFeedback:Ke}=window.Resources.Common,Je=(0,Ue.V)((()=>n.e(8491).then(n.bind(n,48491)))),et=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(6768),n.e(6133)]).then(n.bind(n,77705))));function tt(e){const t=a.useContext(d.A),n=a.useContext(oe.l),o=a.useContext(me.B3),r=a.useContext(h.J),i=a.useRef(null),[,s]=a.useState(0),[l,c]=a.useState(!1),[u,m]=a.useState(!1),[p,v]=a.useState("Like");a.useEffect((()=>{return t.addEventListener("feedbackCustomized",e),()=>t.removeEventListener("feedbackCustomized",e);function e(){s((e=>e+1))}}),[t,n,s]);const f="development"===o.environment||"dogfood"===o.ring||(0,g.ej)("Development"),x=n.customizeFeedback("toggle",p),w=o.getPage().current,b=r.getSetting("feedback");return(!oe.KE.has(w)||void 0===b||void 0===b.lastProvided||Date.now()>b.lastProvided+12096e5)&&(void 0===b||b.show)||f?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(qe.U,{ariaLabel:Xe,className:"beta-callout flex-row flex-align-end flex-justify-end",contentClassName:"beta-callout-content depth-16",fixedLayout:!0,onDismiss:C.Z,portalProps:{className:"beta-portal"},role:"banner",children:(0,F.jsxs)("div",{className:"flex-row flex-gap-4 flex-align-center padding-left-12 padding-right-4 padding-vertical-4 white-space-pre-wrap",ref:i,children:[(null===x||void 0===x?void 0:x.content)||(0,F.jsx)("span",{className:"margin-right-4",children:Xe}),(0,F.jsx)(E.Button,{ariaLabel:Ye,className:"positive-feedback transparent",iconProps:{render:e=>(0,F.jsx)(V.Vw,{className:e})},onClick:e=>nt(e,t,o,"Like",v,c)}),(0,F.jsx)(E.Button,{ariaLabel:Ke,className:"negative-feedback transparent",iconProps:{render:e=>(0,F.jsx)(V.LX,{className:e})},onClick:e=>nt(e,t,o,"Dislike",v,c)}),f&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:"separator-line-left"}),(0,F.jsx)(E.Button,{ariaHasPopup:!0,ariaLabel:Qe,className:"rounded-8",iconProps:{render:e=>(0,F.jsx)(V.Zr,{className:e})},onClick:()=>{t.dispatchEvent("telemetryAvailable",{action:"userAction",name:"openBetaSettings"}),m(!0)},subtle:!0})]})]})}),l&&(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"feedbackdialog",children:(0,F.jsx)(et,{onDismiss:()=>c(!1),feedbackType:p})})}),u&&i.current&&(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"betasettingsdialog",children:(0,F.jsx)(Je,{anchorElement:i.current,anchorOrigin:{horizontal:We.Ye.end,vertical:We.Ye.start},calloutOrigin:{horizontal:We.Ye.end,vertical:We.Ye.end},onDismiss:()=>m(!1)})})})]}):null}function nt(e,t,n,o,r,a){var i;switch(t.dispatchEvent("telemetryAvailable",{action:"userAction",name:"giveFeedback",value:o}),null===(i=n.graphProfile.value)||void 0===i?void 0:i.ageGroup){case"0":case"3":case"4":r(o),a(!0),e.preventDefault()}}var ot=n(13332),rt=n(67744),at=n(57083);const it=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(1461)]).then(n.bind(n,35405)))),{LoadFailure:st}=window.Resources.Common,{SharingPasswordError:lt}=window.Resources.PasswordDialog;function ct(e){var t,n;const{migrated:o,...r}=e,s=a.useContext(d.A),l=a.useContext(me.B3),[c,u]=a.useState(e.badgerToken),[h,m]=a.useState(!!e.badgerToken),[p,v]=a.useState(null!==(t=null!==(n=e.url.searchParams.get("drvId"))&&void 0!==n?n:e.url.searchParams.get("cid"))&&void 0!==t?t:l.driveId),[f]=a.useState((()=>new rt.E({parentDispatch:s}))),g=o?(0,F.jsx)(dt,{...r,badgerToken:c,badgerValidated:h,setBadgerToken:x,setDriveId:v}):(0,F.jsx)(ut,{...r,badgerToken:c,badgerValidated:h,setBadgerToken:x,setDriveId:v});return(0,F.jsx)(d.A.Provider,{value:f,children:(0,F.jsx)(me.B3.Provider,{value:{...l,apiOrigin:o?k.Tb:k.O0,apiVersion:o?k.nk:k.P5,driveId:p,migrated:o},children:g})});function x(e,t){(0,i.unstable_batchedUpdates)((()=>{u(e),m(t)}))}}function dt(e){const{badgerToken:t,badgerValidated:n,children:r,url:s,setBadgerToken:l,setDriveId:c}=e,u=a.useContext(d.A),h=a.useContext(me.B3),[m,p]=a.useState(!1),[v,f]=(0,o.mA)(!1),g=(0,Fe.X7)(),C=s.searchParams.get("redeem")||"",w=(0,ot.i)(at.fn,{name:"requestBadgerToken"}),y=(0,ot.i)(at.li,{blocking:!1,name:"redeemToken"}),j=(0,ot.i)(at.gQ,{blocking:!1,name:"validatePassword"});a.useLayoutEffect((()=>(u.addEventListener("fetchPrepare",N),u.addEventListener("fetchComplete",P),u.addEventListener("fetchTranslate",k),()=>{u.removeEventListener("fetchPrepare",N),u.removeEventListener("fetchComplete",P),u.removeEventListener("fetchTranslate",k)}))),a.useMemo((()=>{C&&m&&!t&&w().then((e=>{y(C,e).then((t=>{(0,i.unstable_batchedUpdates)((()=>{l(e,!0),t.parentReference&&c(t.parentReference.driveId)}))})).catch((t=>{l(e,!1),g(t)}))})).catch(g)}),[w,y,m,t,g,C,l,c]);const L=a.useMemo((()=>new $.Qc(u,h,C,t)),[t,u,C,h]);return(0,F.jsxs)($.KX.Provider,{value:L,children:[(0,F.jsx)(a.Fragment,{children:r},`${t}-${n}`),(0,F.jsx)(Be.Q,{values:{showPasswordDialog:v},children:e=>{let{showPasswordDialog:n}=e;return n?(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"validatePassword",children:(0,F.jsx)(it,{onDismiss:()=>f(!1),validatePassword:e=>j(e,C,t).then((()=>{(0,i.unstable_batchedUpdates)((()=>{l(t,!0),f(!1)}))}))})})}):null}})]});function P(e){"rejected"===e.result.status&&(0,b.xT)(e.result.reason,["sharingPasswordIncorrect"])&&u.dispatchEvent("showMessage",{messageType:"error",timeout:3e3,title:()=>lt})}function N(e){e.url=(0,x.WU)(e.url,h.apiOrigin),e.url=(0,x.WU)(e.url,h.apiVersion);const n=new URL(e.url);h.domainSettings[n.hostname].badger&&t&&(e.init.headers=Object.assign({Authorization:`Badger ${t}`},e.init.headers))}function k(e){e.translate((e=>("rejected"===e.status&&((0,b.xT)(e.reason,["userContentMigrated"])?e=(0,b.ne)({reason:{error:{code:"shareeContentMigrated",message:st}},status:"rejected"}):(0,b.xT)(e.reason,["sharingPasswordRequired"])?(f(!0),e=(0,b.ne)(e)):(0,b.xT)(e.reason,["accessDenied","itemNotFound","unauthenticated"])&&(m||p(!0),n||-1!==e.reason.response.url.indexOf("/shares/u!")?h.authenticated()||(e=(0,b.ne)(e),window.location.href=(0,me.Z8)(h,"sb")):e=(0,b.ne)(e))),Promise.resolve(e))))}}function ut(e){const{badgerToken:t,children:n,url:r,id:s,setBadgerToken:l}=e,c=a.useContext(d.A),u=a.useContext(me.B3),[h,m]=a.useState(),[p,v]=(0,o.mA)(!1),[f,g]=a.useState(0),C=(0,Fe.X7)(),w=r.searchParams.get("authkey")||void 0,y=(0,ot.i)(at.fn,{name:"requestBadgerToken"}),j=(0,ot.i)(at.uo,{blocking:!1,name:"validatePassword"});a.useEffect((()=>(c.addEventListener("fetchPrepare",N),c.addEventListener("fetchComplete",P),c.addEventListener("fetchTranslate",k),()=>{c.removeEventListener("fetchPrepare",N),c.removeEventListener("fetchComplete",P),c.removeEventListener("fetchTranslate",k)})));const L=a.useMemo((()=>u.authenticated()?new $.Qc(c,u,t):new $.Qc(c,u,w,t)),[w,t,c,u]);return(0,F.jsxs)($.KX.Provider,{value:L,children:[(0,F.jsx)(a.Fragment,{children:n},f),(0,F.jsx)(Be.Q,{values:{showPasswordDialog:p},children:e=>{let{showPasswordDialog:t}=e;return t?(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"validatePassword",children:(0,F.jsx)(it,{onDismiss:()=>v(!1),validatePassword:e=>h?h.then((t=>{if("string"===typeof t)return j(s,e,w||"",u.authenticated(),t).then((()=>{(0,i.unstable_batchedUpdates)((()=>{l(t,!0),g(f+1),v(!1)}))}))})):j(s,e,w||"",u.authenticated()).then((()=>{(0,i.unstable_batchedUpdates)((()=>{g(f+1),v(!1)}))}))})})}):null}})]});function P(e){"rejected"===e.result.status&&(0,b.xT)(e.result.reason,["sharingPasswordIncorrect"])&&c.dispatchEvent("showMessage",{messageType:"error",timeout:3e3,title:()=>lt})}function N(e){e.url=(0,x.WU)(e.url,u.apiOrigin),e.url=(0,x.WU)(e.url,u.apiVersion);const n=new URL(e.url);u.domainSettings[n.hostname].badger&&(t?e.init.headers=Object.assign({Authorization:`Badger ${t}`},e.init.headers):w&&!n.searchParams.get("authkey")&&(n.searchParams.set("authkey",w),e.url=n.toString()))}function k(e){e.translate((e=>("rejected"===e.status&&((0,b.xT)(e.reason,["userContentMigrated"])?e=(0,b.ne)({reason:{error:{code:"shareeContentMigrated",message:st}},status:"rejected"}):(0,b.xT)(e.reason,["sharingPasswordRequired"])?(u.authenticated()?v(!0):(0,i.unstable_batchedUpdates)((()=>{m(y().catch(C)),v(!0)})),e=(0,b.ne)(e)):!u.authenticated()&&(0,b.xT)(e.reason,["unauthenticated"])&&(e=(0,b.ne)(e),window.location.href=(0,me.Z8)(u,"sb"))),Promise.resolve(e))))}}var ht=n(68684);const mt=(0,Ue.V)((()=>n.e(8678).then(n.bind(n,28678))));function pt(e){var t;const{children:n,className:o,getDragDropOptions:r,...i}=e,s=a.useContext(d.A),l=a.useContext(me.B3),c=a.useRef(!1),[u,h]=a.useState(!1),m=(0,Fe.X7)();return(0,F.jsxs)("div",{...i,className:(0,R.iv)("upload-target",o,"relative flex-column flex-grow overflow-hidden"),onDragEnd:function(){c.current=!1},onDragEnter:function(e){var t;e.defaultPrevented||null!==(t=r())&&void 0!==t&&t.disabled||c.current||!e.dataTransfer||!(e.dataTransfer.types.indexOf("Files")>=0)||(e.preventDefault(),h(!0))},onDragStart:function(){c.current=!0},children:[u&&(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(mt,{message:null===(t=r())||void 0===t?void 0:t.message,onDragLeave:function(){h(!1)},onDrop:function(e){if(e.dataTransfer&&e.dataTransfer.types.indexOf("Files")>=0){var t;let n;n=e.dataTransfer.files&&e.dataTransfer.files.length?[...e.dataTransfer.files]:[...e.dataTransfer.items].map((e=>e.getAsFile())).filter((e=>e)),(0,ht.eG)(s,l.driveId,n,null===(t=r())||void 0===t?void 0:t.getTargetFolder).catch(m),h(!1),e.preventDefault()}}})}),n]})}var vt=n(28966),ft=n(98381),gt=n(69902),xt=n(62119),Ct=n(69873),wt=n(84851),bt=n(92039),yt=n(87501),jt=n(60718),Lt=n(26746);var Pt=n(57025),Nt=n(81097);const{ClearAllButton:kt,ClearButton:St}=window.Resources.Common,{FilterHeader:Tt,InspirationHeader:At,RecentHeader:Et,SearchDropdownList:Mt}=window.Resources.SearchInput;function Dt(e){const{anchorElement:t,clearSearch:n,comboboxElement:r,componentRef:s,executeSearch:l,inspirations:c,listId:u,matchedFilters:h,onDismiss:m,recentSearches:p}=e,v=a.useContext(d.A),f=a.useRef(),g=a.useRef(null),x=a.useRef(null),[,w]=a.useState(0),[b]=a.useState((()=>{const e=new o.db([]);return p.then((t=>{(0,i.unstable_batchedUpdates)((()=>{let n=0;for(let o=0;o<t.length;o++){const r=t[o];e.length||e.push({clear:!0,text:Et,type:"header"}),e.push({index:n++,text:r,type:"recent"})}if(c.length){e.push({text:At,type:"header"});for(let e=c.length-1;e>0;e--){const t=Math.round(Math.random()*e),n=c[t];c[t]=c[e],c[e]=n}e.push(...c.slice(0,3).map((e=>({index:n++,text:e,type:"insipration"}))))}e.push({text:Tt,type:"header"}),e.push({index:n++,text:"placeholder",type:"filter"}),v.dispatchEvent("telemetryAvailable",{action:"userAction",name:"searchOpened",count:t.length})}))})),e}));a.useImperativeHandle(s,(()=>({focus:L,updateLayout:N}))),(0,He.OR)(document,"mousedown",(e=>{var n,o;null!==(n=t.current)&&void 0!==n&&n.contains(e.target)||null!==(o=g.current)&&void 0!==o&&o.contains(e.target)||m()}));const y=function(e){return function(t){if(e.current){const n=(0,wt.$)(e.current);let o=!0;for(let e of n)if(e.contains(t.target)){o=!1;break}o&&t.preventDefault()}}}(g);return t.current?(0,F.jsx)(qe.U,{anchorElement:t.current,anchorOffset:{horizontal:0,vertical:4},anchorOrigin:{horizontal:We.Ye.start,vertical:We.Ye.end},className:"search-dropdown-callout",componentRef:f,contentClassName:"search-dropdown-content depth-8 rounded-8 overflow-auto",contentSize:M.Qb.Auto,fixedLayout:!0,focuszoneProps:{circularNavigation:!0,handleTabKey:!0,includeDefaults:!0},onDismiss:m,width:t.current.getBoundingClientRect().width,children:(0,F.jsx)("div",{className:"flex-row flex-grow padding-horizontal-8 padding-vertical-8",onKeyDown:e=>{var t;e.defaultPrevented||("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(null===(t=r.current)||void 0===t||t.focus(),e.preventDefault()))},onMouseDown:y,ref:g,children:(0,F.jsx)(jt.List,{ariaLabel:Mt,className:"search-dropdown-list",id:u,itemProvider:b,onActivate:function(e,t){const{text:n,type:o}=t.data;"recent"!==o&&"insipration"!==o||l(n,"recent"===o?"recent":"suggested")},renderRow:function(e,t,n){if("header"===t.type)return t.text===Tt?(0,F.jsx)(Be.Q,{values:{matchedFilters:h},children:o=>{let{matchedFilters:r}=o;return r.length?j(t,e,n):null}}):j(t,e,n);if("filter"===t.type)return(0,F.jsx)(Be.Q,{values:{matchedFilters:h},children:t=>{let{matchedFilters:o}=t;const r=o;return r.length?(0,F.jsx)("tr",{"aria-posinset":e+1,"aria-selected":!1,"aria-setsize":n.listProps.itemProvider.length,role:"option",tabIndex:(0,Lt.p)(n),children:(0,F.jsx)("td",{children:(0,F.jsx)("div",{className:"flex-row flex-wrap flex-noshrink flex-gap-4 padding-horizontal-12 overflow-hidden",children:r.map(((e,t)=>(0,F.jsx)(Nt.F,{displayName:e.displayName,filterType:e.filterType,active:e.active,onClick:()=>{e.active=!e.active}},t)))})})}):null}});if("recent"===t.type)return(0,F.jsx)(Pt.m,{"aria-selected":!1,"aria-setsize":b.length-2,className:"photos-list-row",details:n,index:e,role:"option",onKeyDown:e=>{e.defaultPrevented||"Delete"!==e.key||(P(t.text),e.preventDefault())},children:(0,F.jsx)(yt.kP,{direction:yt.Uj.Horizontal,handleTabKey:!1,children:(0,F.jsxs)("div",{className:"flex-row flex-align-center padding-left-12",children:[(0,F.jsx)(V.lE,{className:"flex-noshrink"}),(0,F.jsx)("span",{className:"flex-grow padding-left-8 text-ellipsis",children:t.text}),(0,F.jsx)("span",{"aria-hidden":!0,className:"flex-noshrink",children:(0,F.jsx)(E.Button,{ariaLabel:St,excludeTabStop:!0,iconProps:{render:e=>(0,F.jsx)(V.UZ,{className:(0,R.iv)("small",e)})},onClick:e=>{P(t.text),e.preventDefault()},subtle:!0})})]})})},e);return(0,F.jsx)(Pt.m,{"aria-selected":!1,"aria-setsize":b.length-("recent"===b.value[1].type?2:1),className:"photos-list-row",details:n,index:e,role:"option",children:(0,F.jsxs)("div",{className:"flex-row flex-align-center padding-horizontal-12 padding-vertical-4",children:[(0,F.jsx)(V.my,{className:"flex-noshrink"}),(0,F.jsx)("span",{className:"flex-grow padding-left-8 text-ellipsis",children:t.text})]})},e)},role:"listbox",singleClickActivation:!0,virtualize:!1,width:"100%"})})}):null;function j(e,t,n){return"header"===e.type?(0,F.jsx)("tr",{onFocus:o=>{var r;e.clear&&(null===(r=x.current)||void 0===r||r.focus(),n.onFocusItem(t,o))},onKeyDown:e=>{var t;e.defaultPrevented||"Enter"!==e.key||(P(),null===(t=r.current)||void 0===t||t.focus(),e.preventDefault())},tabIndex:e.clear?(0,Lt.p)(n):void 0,children:(0,F.jsx)("td",{children:(0,F.jsxs)("div",{className:"flex-row flex-align-baseline font-weight-semibold padding-8",onClick:C.P,children:[(0,F.jsx)("div",{"aria-hidden":!0,className:"flex-grow",children:e.text}),e.clear&&(0,F.jsx)(vt.Link,{className:"body-s focus-treatment",excludeTabStop:!0,onClick:()=>{var e;P(),null===(e=r.current)||void 0===e||e.focus()},ref:x,children:kt})]})})}):null}function L(e){if(g.current){const{item:t}=e,n=g.current.querySelectorAll("tr[tabindex]");"first"===t?n[0].focus():n[n.length-1].focus()}}function P(e){n(e);for(let t=0;t<b.length;t++)if("recent"===b.value[t].type&&(!e||b.value[t].text===e)){if(b.splice(t,1),1===t&&"header"===b.value[1].type){b.splice(0,1);break}t--}}function N(){var e;w((e=>e+1)),null===(e=f.current)||void 0===e||e.updateLayout()}}const{ClearSearchButton:Rt,PreviewLabel:It,SearchButton:Vt}=window.Resources.SearchInput;function Ft(e){const{activeSearch:t="",className:n,componentRef:o,enableDropdown:r=!1,placeholder:i}=e,s=a.useContext(d.A),l=a.useContext(u.S),c=a.useContext(ae.k),h=a.useContext(ce),m=a.useContext(xe.v),p=a.useRef(null),v=a.useRef(null),g=a.useRef(),[x,C]=a.useState(t||""),[w,b]=a.useState(!1),[y]=(0,f.ih)([]),{setTimeout:j}=(0,I.K)(),{setTimeout:L}=(0,I.K)(),{setTimeout:P}=(0,I.K)(),{setTimeout:N}=(0,I.K)(),{onBlur:k,onFocus:S}=(0,xt.q)({onFocusChange:e=>{P((()=>b(r&&e)),0),D(x)}}),T=(0,f.mU)(l.featureEnabled("enableSearchFilters")),A=(0,f.mU)(m.getUserPreferences("photo"));return a.useImperativeHandle(o,(()=>({updateLayout:O}))),a.useEffect((()=>{var e,t;null===(e=v.current)||void 0===e||e.setAttribute("name","q"),null===(t=v.current)||void 0===t||t.setAttribute("enterkeyhint","search")}),[]),(0,F.jsxs)("form",{action:"/search",className:(0,R.iv)(n,"relative search-form flex-row flex-justify-center flex-grow",x&&"search-term-available"),onBlur:k,onClick:e=>{var t;e.defaultPrevented||(null===(t=v.current)||void 0===t||t.focus(),P((()=>b(r)),0))},onFocus:S,onKeyDown:e=>{!e.defaultPrevented&&r&&("ArrowDown"===e.key||"ArrowUp"===e.key?(b(!0),e.preventDefault(),L((()=>{var t;return null===(t=g.current)||void 0===t?void 0:t.focus({item:"ArrowDown"===e.key?"first":"last"})}),0)):"Escape"===e.key&&b(!1))},ref:p,role:"search",method:"get",children:[(0,F.jsx)(bt.nv,{ariaControls:w?"search-dropdown":void 0,ariaExpanded:r?w:void 0,ariaHasPopup:!!r||void 0,className:"search-text-field overflow-hidden",containerClassName:"search-input flex-grow body-m overflow-hidden",inputClassName:"overflow-hidden",inputElement:v,onChange:(e,t)=>{C(t),N((()=>D(t)),300)},onKeyDown:e=>{e.defaultPrevented||"Enter"===e.key&&(x&&M(e,x,"keyboard"),e.preventDefault())},placeholder:i,prefixIconProps:{render:e=>(0,F.jsx)(V.ol,{className:(0,R.iv)(e,"flex-noshrink small")})},role:r?"combobox":void 0,suffixIconProps:{render:()=>(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(E.Button,{ariaLabel:Rt,className:(0,R.iv)("input-button",!x&&"hidden"),iconProps:{render:e=>(0,F.jsx)(V.UZ,{className:e})},onClick:e=>{var t;s.dispatchEvent("telemetryAvailable",{action:"userAction",name:"clearSearch"}),C(""),null===(t=v.current)||void 0===t||t.focus(),e.preventDefault()},subtle:!0}),(0,F.jsx)(E.Button,{ariaLabel:Vt,className:(0,R.iv)("input-button search-arrow-button",!x&&"hidden"),iconProps:{render:e=>(0,F.jsx)(V.ZJ,{className:(0,R.iv)("xsmall margin-4",e)})},onClick:e=>M(e,x,"button"),primary:!0}),r?(0,F.jsx)("span",{className:"search-preview-label margin-horizontal-16 body-s",children:It}):null]})},value:x}),w?(0,F.jsx)(Dt,{anchorElement:p,clearSearch:e=>e?h.removeSearch(e):h.clearSearches(),comboboxElement:v,componentRef:g,executeSearch:(e,t)=>M(void 0,e,t),inspirations:h.getSuggestions(),listId:"search-dropdown",matchedFilters:y,onDismiss:()=>b(!1),recentSearches:h.getSearches()}):null]});function M(e,n,o){n=n.trim(),C(n),j((()=>b(!1)),1),h.addSearch(n),D(n);const r=new URLSearchParams;r.append("q",n),y.value.forEach((e=>{e.active&&("date"===e.filterType?(r.append("displayDate",e.displayName),r.append("startDate",e.startDate.toISOString()),r.append("endDate",e.endDate.toISOString())):"person"===e.filterType&&(r.append("personName",e.displayName),r.append("personId",e.recognizedEntityId)))})),c.navigate(e,"navigateSearch",{href:c.prepare(`/search?${r}`),telemetryProperties:{florenceSearch:(null===A||void 0===A?void 0:A.florenceSearch)||!1,mode:o},useReplace:!!t})}function D(e){const t=[];if(!T)return void y.removeAll();const n=[];[].forEach((e=>{var t;const o=null===(t=e.identity.user.displayName)||void 0===t?void 0:t.split(/\W+/).filter((e=>e));o&&o.forEach((t=>{n.push([t.toLowerCase(),e])}))}));const o=new Set(e.split(/\W+/).filter((e=>e))),r=new Set;o.forEach((e=>{const o=e.match(/\d{4}/),a=n.filter((t=>{let[n]=t;return 0===e.toLowerCase().localeCompare(n)}));if(o){const e=o[0];if(!r.has(e)){const n=parseInt(e);if(1900<n&&n<(new Date).getFullYear()+50){const o=new Date(`${n}-01-01`),a=new Date(`${n+1}-01-01`);t.push({filterType:"date",active:!1,displayName:e,id:e,endDate:a,startDate:o}),r.add(e)}}}else if(a)for(const[,n]of a)r.has(n.id)||(t.push({filterType:"person",active:!1,displayName:n.identity.user.displayName||e,id:n.id,recognizedEntityId:n.id}),r.add(n.id))})),y.value.forEach((e=>{const n=t.find((t=>t.id===e.id));n&&(n.active=e.active)})),function(e,t){const n=new Set(e.map((e=>e.id))),o=new Set(t.map((e=>e.id)));if(n.size!==o.size)return!0;for(const r of n)if(!o.has(r))return!0;return!1}(y.value,t)&&y.splice(0,y.length,...t)}function O(){var e;null===(e=g.current)||void 0===e||e.updateLayout()}}var Ot=n(78649),Ut=n(8945);function Bt(){const e=a.useContext(me.B3),t=a.useContext(m.N),n=(0,f.mU)(e.userProfile),o=(0,f.mU)(e.profileUrl),r=e.locale,i=(0,me.Z8)(e,"me2"),s=(0,x.WU)("https://login.live.com/logout.srf?ct=1665689758&id=250206&ru={{redirectUrl}}%3Fmkt%3D{{market}}&mkt={{market}}",{redirectUrl:encodeURIComponent(window.location.origin),market:r}),l=new URLSearchParams({wreply:i}),c=`${s}&${l.toString()}`,d=(0,x.WU)("https://account.microsoft.com/profile/edit-picture?username={{username}}&ref=MeControl",{username:encodeURIComponent((null===n||void 0===n?void 0:n.preferred_username)||"")}),u=e.authenticated();let h=null,[p]=(0,f.mA)([]);u&&(h=function(e,t){return{id:(null===e||void 0===e?void 0:e.oid)||"",accountType:"MSA",preferredUsername:(null===e||void 0===e?void 0:e.preferred_username)||"",friendlyName:null===e||void 0===e?void 0:e.name,profilePicUrl:t}}(n,o));const v=(0,f.mU)(t.currentTheme),g=(0,a.useCallback)((()=>{window.location.href=d}),[d]);return(0,F.jsx)(Ut.J,{locale:r,currentAccount:h,theme:v.dark?"dark":"light",handlers:{addNewAccount:()=>{window.location.href=c},signIn:()=>{window.location.href=i},signOut:()=>{(0,me.LD)(),window.location.href=s},switchTo:()=>{},updateProfilePicture:g},rememberedAccounts:p.value})}const{MoreButton:Ht,SignIn:Zt}=window.Resources.Common,{AppLauncher:_t,HelpAltText:$t,SettingsAltText:zt,UpgradeAltText:Gt}=window.Resources.Header,{MobileSearchPlaceholder:Wt,SearchButton:qt,SearchPlaceholder:Qt,SearchPlaceholder2:Xt}=window.Resources.SearchInput,Yt=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(1135)]).then(n.bind(n,95908)))),Kt=(0,Ue.V)((()=>n.e(6020).then(n.bind(n,16020)))),Jt=(0,Ue.V)((()=>n.e(3852).then(n.bind(n,13852))));function en(e){const{className:t}=e,n=a.useContext(me.B3),o=a.useContext(xe.v),r=a.useRef(null),i=a.useRef(null),s=a.useRef(),[l,c]=(0,f.mA)(!1),[d,u]=(0,f.mA)(!1),[h,m]=(0,f.mA)(!1),[p,v]=(0,f.mA)(!1),g="mobile"===(0,Ot.W)(),{onBlur:x,onFocus:C}=(0,xt.q)({onFocusChange:c}),w=(0,f.mU)(o.getUserPreferences("photo"));return(0,Ct.a)(r,a.useCallback((()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.updateLayout()}),[])),(0,F.jsx)(gt.b,{containerElement:r,responsiveSelectors:[(0,R.SS)("header-commands"),(0,R.SS)("title")],children:o=>{let{responsiveIndex:f}=o;return(0,F.jsxs)("div",{"aria-hidden":e["aria-hidden"],className:(0,R.iv)("photo-view-header",t,"body-l flex-row flex-noshrink flex-align-center"),ref:r,role:"banner",children:[(0,F.jsx)("div",{className:"flex-row flex-noshrink",children:n.standalone?(0,F.jsx)(V.t3,{className:"onedrive-application-icon margin-8"}):(0,F.jsx)(E.Button,{ariaHasPopup:!0,ariaLabel:_t,className:"header-button app-launcher-button focus-treatment",iconProps:{className:"padding-horizontal-8",iconName:"WaffleOffice365"},onClick:e=>{u(!0),e.preventDefault()},subtle:!0})}),(0,F.jsx)(vt.Link,{className:"photo-view-product-title flex-row flex-align-center flex-align-self-stretch flex-noshrink font-weight-semibold",href:"https://onedrive.live.com",id:(0,R.AS)("title"),children:(0,F.jsx)("span",{children:"OneDrive"})}),(0,F.jsx)("div",{className:"flex-row flex-grow flex-align-center flex-justify-center",children:(0,F.jsx)("div",{className:"search-bar-container flex-row flex-justify-center pointer-events-none",children:(0,F.jsx)(Be.Q,{values:{searchActive:l},children:e=>{let{searchActive:t}=e;return(0,F.jsx)("div",{className:(0,R.iv)("search-bar flex-row flex-noshrink overflow-hidden pointer-events-auto",t&&"active",g?"absolute margin-horizontal-12":"margin-horizontal-44",g&&!t&&"hidden"),onBlur:x,onFocus:C,ref:i,children:null!==w&&void 0!==w&&w.florenceSearch?(0,F.jsx)(Ft,{activeSearch:(0,Oe.Xq)(n),componentRef:s,enableDropdown:!0,placeholder:Xt}):(0,F.jsx)(Ft,{activeSearch:(0,Oe.Xq)(n),className:"basic-search",placeholder:g?Wt:Qt})})}})})}),g&&(0,F.jsx)(E.Button,{ariaLabel:qt,className:"header-button focus-treatment",iconProps:{className:"margin-horizontal-8",render:e=>(0,F.jsx)(V.ol,{className:e})},onClick:()=>{c(!0),setTimeout((()=>{let e;if(r.current&&(e=(0,wt.$)(r.current,!0)),e&&e.length){const t=e.find((e=>"INPUT"===e.nodeName));t&&t.focus()}}))},subtle:!0}),(0,F.jsx)(E.Button,{ariaLabel:Gt,className:"header-button focus-treatment",href:"https://onedrive.live.com/?ocid=PROD%5FOneDrive%2DWeb%5FSuiteNav%5FNormal%5FHeaderDiamond&v=upgrade&hideLeftNav=true",iconProps:{render:e=>(0,F.jsx)(V.tv,{className:e})},subtle:!0}),(0,F.jsxs)("div",{className:"flex-row flex-justify-end flex-noshrink",id:(0,R.AS)("header-commands"),children:[(0,F.jsx)(E.Button,{ariaLabel:zt,className:"header-button focus-treatment",iconProps:{render:e=>(0,F.jsx)(V.Zr,{className:e})},onClick:()=>v(!0),subtle:!0}),(0,F.jsx)(E.Button,{ariaLabel:$t,className:"header-button focus-treatment",iconProps:{render:e=>(0,F.jsx)(V.WW,{className:(0,R.iv)(e,"no-rotate")})},onClick:()=>m(!0),subtle:!0})]}),(0,F.jsx)(ft.MenuButton,{ariaLabel:Ht,buttonClassName:"header-button",className:(0,R.iv)("flex-noshrink",-1===f&&"hidden"),contextualMenuProps:{className:"compact-menu",menuProps:{id:"overflow-menu",items:[{id:"settings",iconProps:{render:e=>(0,F.jsx)(V.Zr,{className:e})},onActivate:()=>v(!0),text:zt},{id:"help",iconProps:{render:e=>(0,F.jsx)(V.WW,{className:e})},onActivate:()=>m(!0),text:$t}]}},hideDropdownIcon:!0,iconProps:{className:"padding-horizontal-8",iconName:"MoreVertical"},subtle:!0}),(0,F.jsx)("div",{className:"photo-header-profile flex-row flex-align-center flex-noshrink padding-horizontal-8 header-mecontrol-tab","aria-label":Zt,children:(0,F.jsx)(Bt,{})}),(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(Be.Q,{values:{showApplication:d},children:e=>{let{showApplication:t}=e;return t?(0,F.jsx)(T.$,{scenarioName:"applicationpanel",children:(0,F.jsx)(Yt,{onDismiss:()=>u(!1)})}):null}})}),(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(Be.Q,{values:{showHelp:h},children:e=>{let{showHelp:t}=e;return t?(0,F.jsx)(T.$,{scenarioName:"helppanel",children:(0,F.jsx)(Kt,{onDismiss:()=>m(!1)})}):null}})}),(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(Be.Q,{values:{showSettings:p},children:e=>{let{showSettings:t}=e;return t?(0,F.jsx)(T.$,{scenarioName:"settingspanel",children:(0,F.jsx)(Jt,{onDismiss:()=>v(!1)})}):null}})})]})}})}var tn=n(20857),nn=n(92094),on=n(71197);const rn=(0,Ue.V)((()=>n.e(4980).then(n.bind(n,74980)))),{GotoODButton:an,SubTitle1:sn,SubTitle2:ln,Title:cn}=window.Resources.BadRouteView;function dn(){return(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsxs)("div",{className:"bad-route-view standard-view flex-column flex-grow flex-align-center flex-justify-center padding-40 rhythm-vertical-16",role:"main",children:[(0,F.jsx)(rn,{}),(0,F.jsx)("span",{className:"title-s",children:cn}),(0,F.jsxs)("span",{className:"flex-column flex-align-center margin-bottom-20",children:[(0,F.jsx)("span",{children:sn}),(0,F.jsx)("span",{children:ln})]}),(0,F.jsx)(E.Button,{href:"/",primary:!0,children:an})]})})}var un=n(25496),hn=n(52520),mn=n(41414);const pn=n.p+"static/media/memories.61260754.png";var vn=n(22400),fn=n(96827);n(99649);const gn=16;function xn(e){const{className:t,carouselIndex:n,items:r,setCarouselIndex:i,viewUpdated:s}=e,l=a.useRef(0),c=a.useRef(0),d=a.useRef(null),u=a.useRef(0),[h,m]=a.useState(0),{setTimeout:p}=(0,I.K)(),v=(0,f.Qe)(r).filter((e=>!e.filter||e.filter())).sort(((e,t)=>(e.order||0)-(t.order||0))),g="rtl"===document.documentElement.dir?-1:1;(0,Ct.a)(d,a.useCallback((e=>m(e[0].contentRect.width)),[])),(0,f.mU)(n,(e=>w(e))),a.useLayoutEffect((()=>w(o.PY.getValue(n)))),l.current=Math.min(v.length,Math.floor((h+gn)/266)),c.current=Math.min(325,(h+gn)/l.current-gn);const x=v.length?v[0].id:"";return(0,F.jsx)(yt.kP,{direction:yt.Uj.Vertical,handleTabKey:!1,skipHiddenCheck:!0,focusGroupProps:{defaultElementId:x},children:(0,F.jsx)("div",{className:(0,R.iv)("bolt-carousel",t,"flex-row flex-noshrink scrollbar-hidden",i?"overflow-auto":"overflow-hidden"),onScroll:()=>{0===u.current&&p((()=>C()),50)},onTouchEnd:()=>{1===u.current?p((()=>{C(),u.current--}),50):u.current--},onTouchStart:()=>u.current++,ref:d,children:(0,F.jsx)("div",{className:"bolt-carousel-container flex-row flex-gap-16",role:"list",children:v.map(((e,t)=>(0,F.jsx)("div",{className:"inline-flex-row",role:"listitem",children:e.render({details:e.details,id:e.id,height:h>1440?200:170,width:c.current})},t)))})})});function C(){const e=Math.round(Math.abs(d.current.scrollLeft)/(c.current+gn));i&&i(e)}function w(e){d.current.scrollLeft=(e||0)*(c.current+gn)*g,s&&s(l.current)}}var Cn=n(16499),wn=n(31770),bn=n(27825);const{FilterByHeader:yn,FilterByAll:jn}=window.Resources.Common,Ln={id:"filter-header",itemType:ft.MenuItemType.Header,text:yn};function Pn(e){const{className:t,filterFolder:n,getSpecialFolder:r,role:i="menuitem",selectFilter:s}=e,l=a.useContext(me.B3),[,c]=(0,nn.y)("uxSetting"),d=a.useMemo((()=>new o.Vn),[n]);return(0,F.jsx)(ft.MenuButton,{buttonClassName:"bolt-icon-button icon-only",className:"relative",contextualMenuProps:{anchorOffset:{horizontal:0,vertical:4},anchorOrigin:{horizontal:We.Ye.start,vertical:We.Ye.end},menuOrigin:{horizontal:We.Ye.start,vertical:We.Ye.start},menuProps:{className:(0,R.iv)(t,"compact-menu status-menu"),id:"filterFolder",items:d}},hideDropdownIcon:!0,iconProps:{render:e=>(0,F.jsx)(V.wn,{className:e})},onClick:()=>{0===d.length&&d.push(Sn(l.driveId,n,((e,t)=>{c({galleryFilter:{filterFolder:e,folderId:t}}),s(e,t)}),r))},role:i,subtle:!0,tooltipProps:{showOnFocus:!0,text:yn},children:"onedrive"!==n&&(0,F.jsx)("span",{className:"coach-mark"})},"filter-dropdown")}let Nn,kn;function Sn(e,t,n,r){const a=new o.db([Ln,{checked:"onedrive"===t,className:"simple-checkbox",iconProps:{render:e=>(0,F.jsx)(V.t3,{className:e})},id:"onedrive",onActivate:()=>n("onedrive","root"),readonly:!0,text:jn}]);return Nn||(Nn=r(e,"photos")),kn||(kn=r(e,"samsungGallery")),Promise.allSettled([Nn,kn]).then((e=>{let[o,r]=e;const i=[];"fulfilled"===o.status&&o.value.folder&&o.value.folder.childCount&&i.push({checked:"photos"===t,className:"simple-checkbox",iconProps:{render:e=>(0,F.jsx)(V.gt,{className:e})},id:"photos",onActivate:()=>n("photos",o.value.id),readonly:!0,text:o.value.name}),"fulfilled"===r.status&&r.value.folder&&r.value.folder.childCount&&i.push({checked:"samsungGallery"===t,className:"simple-checkbox",iconProps:{render:e=>(0,F.jsx)(V.gt,{className:e})},id:"samsungGallery",onActivate:()=>n("samsungGallery",r.value.id),readonly:!0,text:r.value.name}),a.push(...i)})),a}var Tn=n(17486),An=n(94434),En=n(49916),Mn=n(36221),Dn=n(86068),Rn=n(54861),In=n(52746),Vn=n(53584),Fn=n(83627),On=n(84486),Un=n(38639),Bn=n(13854),Hn=n(2116),Zn=n(42980),_n=n(94574),$n=n(86164),zn=n(75864),Gn=n(29993),Wn=n(87579),qn=n(67397),Qn=n(90506);const Xn=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(4674)]).then(n.bind(n,19219)))),Yn=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(6505),n.e(9090)]).then(n.bind(n,96505)))),Kn=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(9582)]).then(n.bind(n,30282)))),Jn=(0,Ue.V)((()=>n.e(2396).then(n.bind(n,22396)))),eo=(0,Ue.V)((()=>n.e(4700).then(n.bind(n,54700)))),to=(0,Ue.V)((()=>n.e(3645).then(n.bind(n,3645)))),{AccessMemoriesSubtitle:no,AccessMemoriesTitle:oo,AddToAlbumButton:ro,ClearBackgroundButton:ao,ClearSelectionButton:io,DeleteButton:so,DownloadButton:lo,MoreButton:co,PhotosList:uo,SelectedItems:ho,SetBackgroundButton:mo,ShareButton:po,ZoomControls:vo}=window.Resources.Common,{AllPhotosTitle:fo,EmptyPhotoAddNewSubTitle:go,EmptyPhotoSubTitle:xo,EmptyPhotoTitle:Co,ForYouHeading:wo,GalleryHeading:bo,MediaTitle:yo,ViewNextTiles:jo,ViewPreviousTiles:Lo}=window.Resources.AllPhotos,Po=[{details:{className:"standard-size light-background",href:"https://www.microsoft.com/en-us/microsoft-365/onedrive/download",subtitle:no,url:pn,title:oo},id:"accessMemoriesCard",order:1,render:e=>(0,F.jsx)(Cn.iC,{...e},"memories")}];function No(e){const{setDocumentTitle:t}=e,n=a.useContext($.KX),r=a.useContext(G),s=a.useContext(q.D),l=a.useContext(d.A),c=a.useContext(u.S),m=a.useContext(ae.k),p=a.useContext(me.B3),v=a.useContext(h.J),[g,C]=(0,nn.y)("uxSetting"),w=a.useRef(null),b=a.useRef(null),y=a.useRef(void 0),j=a.useRef(null),L=a.useRef(!1),P=a.useRef(null),N=a.useRef(null),[k,S]=(0,f.mA)(null),[A,M]=(0,f.mA)(0),[O,U]=(0,f.mA)(0),[B]=(0,f.ih)([...Po]),[H,Z]=(0,f.mA)(void 0),[_,z]=a.useState(function(e){if(e&&"string"===typeof e.folderId){const{filterFolder:t,folderId:n}=e;if("photos"===t||"samsungGallery"===t)return{filterFolder:t,folderId:n.toString()}}return{filterFolder:"onedrive",folderId:"root"}}(null===g||void 0===g?void 0:g.galleryFilter)),[W,Q]=a.useState((0,Qn.G)(null===g||void 0===g?void 0:g.layoutAlgorithm)||"river"),[X,Y]=(0,f.mA)(!1),[K,J]=(0,f.mA)(!1),[ee,te]=(0,f.mA)(!1),[ne,oe]=(0,f.mA)(!1),[re,ie]=(0,f.mA)(!1),[se,le]=(0,f.mA)(!1),[ce,de]=(0,f.mA)(!1),[ue]=a.useState(new mn.M((()=>et))),[he,pe]=a.useState(void 0),[ve,fe]=a.useState(Math.max(150,Math.min(500,(null===g||void 0===g?void 0:g.zoomLevel)||200))),{onBlur:ge,onFocus:xe}=(0,un.U)((0,R.SS)("gallery")),Ce=(0,Ot.W)(),ye="desktop"===Ce,je="mobile"===Ce,Le="tablet"===Ce,Pe=(0,f.mU)(c.featureEnabled("autoGroupPhotos")),Ne=(0,f.mU)(c.featureEnabled("backgroundImage")),ke=(0,f.mU)(c.featureEnabled("EnableServerZipDownload")),Se=(0,f.mU)(c.featureEnabled("showAlbums")),Te=(0,f.mU)(c.featureEnabled("showCompactLayout"))||je,Ae=(0,f.mU)(c.featureEnabled("showFilenames")),Ee=(0,f.mU)(c.featureEnabled("showHeaders"))&&"masonry"!==W,{setTimeout:Me}=(0,I.K)({preserve:!0}),{setTimeout:De}=(0,I.K)(),Re=(0,be.i)(fn.$,{blocking:!1,name:"getRecommendations"}),Ie=(0,be.i)(vn.Z6,{name:"getSpecialFolder"}),Ve=(0,Fe.X7)(),Ue=(0,we.$)();a.useEffect((()=>{const e=P.current;function t(){if(b.current&&e){const t=b.current.getBoundingClientRect().top-e.getBoundingClientRect().top;oe(0===t)}}return null===e||void 0===e||e.addEventListener("scroll",t),()=>{null===e||void 0===e||e.removeEventListener("scroll",t)}})),a.useState((()=>{if(!p.embedded){const e=Re(p.driveId);Promise.allSettled([e]).then((e=>{let[t]=e;(0,i.unstable_batchedUpdates)((()=>{if("fulfilled"===t.status){const e=(0,qn.Og)(t.value);for(const t of e)t.details.href=m.prepare(t.details.href);B.push(...e);const n=[];t.value.value.forEach((e=>{n.push(e.recommendation.recommendationType)})),l.dispatchEvent("telemetryAvailable",{action:"engagement",name:"recommendationsLoaded",recommendations:n})}}))})).catch(Ve)}})),t(p.embedded?yo:fo);const _e=(0,be.i)(Ze.wP,{name:"getPhotos"}),ze=(0,be.i)(Ze.iv,{name:"getPhotosPage"}),Ge=(0,be.i)(Ze.p7,{name:"getOldestPhoto"}),Qe=(0,f.mU)(c.featureEnabled("excludeTagsFromAllPhotosClient")),Xe=a.useCallback((e=>{if(e)return ze(e);{const e=Qe?[]:["tags"];return _e(p.driveId,{id:_.folderId,initialPageDateTaken:he,expand:e})}}),[_e,ze,p.driveId,_.folderId,he,Qe]),Ye=(0,Bn.H)(Xe,Ge,{ensureData:!!_.folderId,id:_.folderId,selection:ue}),{feedId:Ke,getItem:Je,items:et,newestPhoto:tt,oldestPhoto:nt}=Ye,ot=(0,f.mU)(Ye.initialized,(()=>{if(!p.embedded&&!L.current&&et.length){const e=(0,Wn.aO)(et.value);for(const t of e)t.details.href=m.prepare(t.details.href);B.push(...e),L.current=!0}}));(0,He.OR)(window,"keyup",a.useCallback((e=>{e.shiftKey||ue.proposeSelection()}),[ue]));const{centerOnItem:rt}=(0,Un.t)(y),{zoom:at}=(0,Hn.B)(fe,rt),it=a.useMemo((()=>new o.Vn),[_,W,c,W,Ct]),st=(0,R.iv)("padding-horizontal-4",ye||Le?"margin-left-12 margin-right-40":"margin-horizontal-12"),lt=a.useMemo((()=>{const e={isSimilar:Pe?$e.Cc:void 0,itemSpacing:Te?2:20,renderItem:(e,t,n)=>{const{group:o,item:r,padding:a,rect:i}=e,{id:s}=r;return(0,F.jsx)(In.k,{aspectRatio:null===n||void 0===n?void 0:n.aspectRatio,blocking:t<10,downloadPhoto:Ze.DH,group:o,href:m.prepare((0,$e.OK)(o,"all")),navigationState:{feedId:Ke,photos:o},padding:a,photo:r,rect:i,selection:ue,setCallout:S},s)},renderPlaceholder:on.Id,zoomLevel:je?150:ve};const t=Ee?{isSameSection:$e.KC,renderSectionHeader:function(e,t){return(0,F.jsx)(Rn.j,{photos:e,rect:t,selection:ue},`header-${e[0].id}`)}}:void 0,n=Ae?on.xW:void 0;switch(W){case"grid":return(0,Zn.R)({...e,...t,padding:n,renderOptions:{aspectRatio:"1"}});case"river":return(0,$n.X)({...e,...t,padding:n});default:return(0,_n.V)(e)}}),[Pe,Ke,W,je,m,ue,S,Te,Ae,Ee,ve]);return(0,F.jsxs)("div",{className:"all-photos-view standard-view relative flex-column flex-grow overflow-hidden depth-8",onBlur:ge,onFocus:xe,onKeyDown:e=>{!e.defaultPrevented&&ue.selectedCount&&("Escape"===e.key?(l.dispatchEvent("telemetryAvailable",{action:"userAction",mode:"keyboard",name:"clearSelection"}),ue.clear(),e.preventDefault()):"Delete"===e.key&&(l.dispatchEvent("telemetryAvailable",{action:"userAction",mode:"keyboard",name:"clickDelete"}),te(!0),e.preventDefault()))},children:[(0,F.jsx)(Dn.S,{defaultElementIds:{selectionActive:"business"!==p.accountType||1===ue.selectedCount?"share":"download",selectionInactive:p.embedded?je?"more":"layout-dropdown":"gallery"},selection:ue,children:e=>(0,F.jsxs)(F.Fragment,{children:[0===e.size?(0,F.jsx)(Vn.X,{activeId:"gallery",className:"flex-grow"}):(0,F.jsx)(gt.b,{containerElement:w,responsiveSelectors:[(0,R.SS)("delete"),(0,R.SS)("download"),(0,R.SS)("add-to-album"),(0,R.SS)("share")],children:t=>{let{responsiveIndex:n}=t;return(0,F.jsxs)("div",{className:(0,R.iv)("flex-row flex-align-center flex-grow overflow-hidden",je&&"rhythm-horizontal-4"),ref:w,role:"group",children:[("business"!==p.accountType||1===e.size)&&(0,F.jsx)(E.Button,{ariaLabel:po,disabled:p.migrated&&e.size>1,iconProps:{render:e=>(0,F.jsx)(V.mB,{className:e})},id:"share",onClick:pt,role:"menuitem",subtle:!0,text:je?void 0:po}),!p.embedded&&Se&&(0,F.jsx)(E.Button,{ariaLabel:ro,iconProps:{render:e=>(0,F.jsx)(V.Lh,{className:e})},id:"add-to-album",onClick:ct,role:"menuitem",subtle:!0,text:je?void 0:ro}),(0,F.jsx)(E.Button,{ariaLabel:lo,iconProps:{render:e=>(0,F.jsx)(V.UW,{className:e})},id:"download",onClick:mt,role:"menuitem",subtle:!0,text:je?void 0:lo}),(0,F.jsx)(E.Button,{ariaLabel:so,iconProps:{render:e=>(0,F.jsx)(V.HG,{className:e})},id:"delete",onClick:ut,role:"menuitem",subtle:!0,text:je?void 0:so}),(0,F.jsx)(Be.Q,{values:{image:r.getBackground("shell")},children:t=>{let{image:n}=t;return Ne?(0,F.jsx)(E.Button,{ariaLabel:n?ao:mo,disabled:e.size>1,iconProps:{render:e=>(0,F.jsx)(V.Lh,{className:e})},id:"background",onClick:t=>{if(n)v.mergeSetting("uxSetting",{backgroundImage:void 0}),r.setBackground("shell",void 0);else{const t=Array.from(e).map((e=>Je(e)))[0];t&&(v.mergeSetting("uxSetting",{backgroundImage:{dimensions:{height:t.dimensions.height,width:t.dimensions.width},id:t.id}}),r.setBackground("shell",{photo:t}))}t.preventDefault()},subtle:!0,text:je?void 0:n?ao:mo}):null}}),(0,F.jsx)(ft.MenuButton,{ariaLabel:co,className:(0,R.iv)(n<3&&"flex-noshrink margin-left-8",-1===n&&"hidden"),contextualMenuProps:{anchorOffset:{horizontal:0,vertical:4},menuProps:{className:"compact-menu",id:"overflow-menu",items:[{id:"delete",iconProps:{render:e=>(0,F.jsx)(V.HG,{className:e})},onActivate:ut,text:so},{disabled:e.size>1,id:"download",iconProps:{render:e=>(0,F.jsx)(V.UW,{className:e})},onActivate:mt,text:lo},...!p.embedded&&Se?[{id:"add-to-album",iconProps:{render:e=>(0,F.jsx)(V.Lh,{className:e})},onActivate:ct,text:ro}]:[],..."business"!==p.accountType||1===e.size?[{id:"share",iconProps:{render:e=>(0,F.jsx)(V.mB,{className:e})},onActivate:pt,text:po}]:[]].slice(0,n+1)}},hideDropdownIcon:!0,iconProps:{iconName:"MoreVertical"},role:"menuitem",subtle:!0}),(0,F.jsx)("div",{className:"flex-row flex-grow flex-justify-end flex-noshrink margin-left-8",children:(0,F.jsx)(E.Button,{ariaLabel:`${io}, ${(0,x.WU)(ho,{selectionCount:e.size})}`,className:"outline-button rounded-button",iconProps:{iconName:"Clear",size:D.J.small},id:"selection",onClick:dt,role:"menuitem",subtle:!0,text:je?e.size.toString():(0,x.WU)(ho,{selectionCount:e.size})})})]})}},"command-layout"),je?(0,F.jsx)(ft.MenuButton,{ariaLabel:co,className:"margin-left-8",contextualMenuProps:{anchorOffset:{horizontal:0,vertical:4},menuProps:{className:"compact-menu status-menu",id:"mobile-menu",items:it}},hideDropdownIcon:!0,iconProps:{iconName:"MoreVertical"},id:"more",onClick:()=>{0===it.length&&(it.push((0,En.X)(l,p,c,W,Ct,!0)),"business"!==p.accountType&&it.push(Sn(p.driveId,_.filterFolder,xt,Ie)))},subtle:!0}):(0,F.jsxs)("div",{className:"flex-row flex-align-center flex-noshrink margin-left-12",role:"group",children:[(0,F.jsxs)("div",{className:"flex-row rhythm-horizontal-8",children:["business"!==p.accountType&&(0,F.jsx)(Pn,{getSpecialFolder:Ie,filterFolder:_.filterFolder,selectFilter:xt}),(0,F.jsx)(En.z,{layoutAlgorithm:W,selectAlgorithm:Ct}),(0,F.jsx)(wn.K,{})]}),(0,F.jsx)("div",{"aria-hidden":!0,className:"separator-line-right margin-horizontal-16 margin-vertical-4",id:(0,R.AS)("separator")}),ye&&(0,F.jsx)(On.L,{setZoomLevel:at,zoomLevel:ve}),Le&&(0,F.jsx)(Be.Q,{values:{showZoomPopup:ce},children:e=>{let{showZoomPopup:t}=e;return(0,F.jsx)("div",{className:"flex-row flex-center",ref:N,children:(0,F.jsx)(E.Button,{ariaLabel:vo,iconProps:{render:e=>(0,F.jsx)(V.LG,{className:e})},id:"zoom",onClick:()=>{l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"openZoomPopup"}),de(!t)},subtle:!t})})}})]})]})}),(0,F.jsx)("div",{className:"relative flex-row flex-grow overflow-hidden",children:(0,F.jsxs)("div",{"aria-label":wo,className:"flex-column flex-grow overflow-x-hidden overflow-y-auto scrollbar-hidden",onScroll:e=>{De((()=>ie(!1)),1e3),ie(!0)},onWheel:e=>{Me((()=>{l.dispatchEvent("telemetryAvailable",{action:"userAction",name:e.deltaY>0?"scrollWheelDown":"scrollWheelUp"})}),250)},ref:P,role:"complementary",children:[(0,F.jsx)(Fn.o,{endDate:nt,onTargetDate:e=>{const t=y.current,n=j.current,o=P.current;if(o&&n&&t){const r=n.getBoundingClientRect().top-o.getBoundingClientRect().top+o.scrollTop,a=t.getAllTiles();if(a.length&&(0,$e.yp)(a[0].item)>=e&&(0,$e.yp)(a[a.length-1].item)<=e){const t=e.getTime(),n=a[(0,hn.r)(a,t,((e,t)=>{const n=(0,$e.yp)(e.item).getTime();return n===t?0:n<t?-1:1}))];o.scrollTop=n.rect.top+r}else e===tt.value&&(o.scrollTop=0),pe(e!==tt.value?new Date(e.getTime()-60*e.getTimezoneOffset()*1e3+1e3):void 0)}},onWheel:e=>{P.current&&(P.current.scrollTop+=e.deltaY)},showContents:re,startDate:tt,viewportRange:H}),"consumer"===p.accountType&&(0,F.jsx)(Mn.N,{className:(0,R.iv)("padding-top-16",st)}),p.embedded?null:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{className:(0,R.iv)("flex-row flex-align-center flex-justify-between",st,je?"padding-top-24":"padding-top-32"),children:[(0,F.jsx)("span",{"aria-level":1,className:"title-s",role:"heading",children:wo}),(0,F.jsx)(Be.Q,{values:{carouselCount:A,carouselIndex:O,carouselItems:B},children:e=>{let{carouselCount:t,carouselIndex:n}=e;return(0,F.jsxs)("div",{className:"flex-row flex-align-center",children:[(0,F.jsx)(E.Button,{ariaLabel:Lo,disabled:0===n,iconProps:{iconName:"ChevronLeft",size:D.J.small},onClick:()=>{l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigateCarouselTiles",value:"previous"}),U(n-1)},subtle:!0}),(0,F.jsx)(E.Button,{ariaLabel:jo,disabled:n+t===B.length,iconProps:{iconName:"ChevronRight",size:D.J.small},onClick:()=>{l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigateCarouselTiles",value:"next"}),U(n+1)},subtle:!0})]})}})]}),(0,F.jsx)(xn,{carouselIndex:O,className:(0,R.iv)("padding-vertical-20",st),items:B,setCarouselIndex:U,viewUpdated:M})]}),Ee?(0,F.jsx)("span",{"aria-level":p.embedded?2:1,className:(0,R.iv)("title-s padding-vertical-20",st),role:"heading",children:fo}):(0,F.jsx)(Be.Q,{values:{dateRange:H,showGalleryHeaderBackground:ne},children:e=>{let{dateRange:t,showGalleryHeaderBackground:n}=e;return(0,F.jsx)("span",{"aria-level":p.embedded?2:1,"aria-label":fo,className:(0,R.iv)("title-s padding-vertical-20",st,t&&"photo-sticky-header",t&&n&&"sticky-background"),ref:b,role:"heading",children:t?(0,F.jsx)(bn.C,{dateRange:t}):bo})}}),(0,F.jsx)("div",{className:(0,R.iv)("relative flex-column flex-grow flex-noshrink margin-bottom-16",st),ref:j,role:"main",children:(0,F.jsxs)(T.$,{complete:()=>ot,scenarioName:"allPhotosLayout",properties:{autoGroupPhotos:Pe,layoutAlgorithm:W,showCompactLayout:Te,mobileLayout:je,zoomLevel:ve},children:[(0,F.jsx)(An.A,{ariaLabel:uo,componentRef:y,itemFeed:Ye,layoutFunction:lt,selection:ue,scrollingElement:P,viewUpdated:e=>{if(e.length&&!ot&&he){const e=P.current,t=j.current;if(e&&t){const n=t.getBoundingClientRect().top-e.getBoundingClientRect().top+e.scrollTop-(Te?2:20)/2;e.scrollTop=n}}const t=y.current.getVisibleTiles();t.length&&Z({endDate:(0,$e.yp)(t[t.length-1].item),startDate:(0,$e.yp)(t[0].item)})}}),(0,F.jsx)(Be.Q,{values:{callout:k},children:e=>{let{callout:t}=e;return t}})]})})]})}),ot&&0===et.length&&(0,F.jsx)(Tn.C,{illustration:(0,F.jsx)(Jn,{className:"margin-20"}),title:Co,subtitle:"business"===p.accountType?go:(0,x.R4)(xo,(e=>(0,F.jsx)(vt.Link,{className:"focus-treatment",href:"https://onedrive.live.com/",children:e},"upload-link")))}),(0,F.jsx)(Be.Q,{values:{showZoomPopup:ce},children:e=>{let{showZoomPopup:t}=e;return t?(0,F.jsx)(qe.U,{anchorElement:N.current,anchorOffset:{horizontal:0,vertical:4},anchorOrigin:{horizontal:We.Ye.end,vertical:We.Ye.end},calloutOrigin:{horizontal:We.Ye.end,vertical:We.Ye.start},className:"depth-16",contentClassName:"padding-8 rounded-4",escDismiss:!0,focuszoneProps:{circularNavigation:!0,focusOnMount:!0,handleTabKey:!0,includeDefaults:!0},onDismiss:()=>de(!1),children:(0,F.jsx)(On.L,{setZoomLevel:at,zoomLevel:ve})}):null}}),(0,F.jsx)(Be.Q,{values:{showAddToAlbumDialog:X},children:e=>{let{showAddToAlbumDialog:t}=e;return t?(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"addtoalbum",children:(0,F.jsx)(Xn,{addToAlbum:zn.zC,createAlbum:()=>J(!0),downloadPhoto:Ze.DH,getAlbums:(e,t)=>t?Ue.getAlbumsPage(e,t).then(Gn.P):Ue.getAlbums(e,p.driveId).then(Gn.P),onDismiss:()=>Y(!1),photos:Array.from(ue.value).map((e=>Je(e)))})})}):null}}),(0,F.jsx)(Be.Q,{values:{showCreateAlbumDialog:K},children:e=>{let{showCreateAlbumDialog:t}=e;return t?(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"createalbumdialog",children:(0,F.jsx)(Yn,{createAlbum:zn.mp,downloadPhoto:Ze.DH,getOldestPhoto:Ze.p7,getPhotos:Ze.wP,getPhotosPage:Ze.iv,onDismiss:()=>J(!1),photos:Array.from(ue.value).map((e=>Je(e)))})})}):null}}),(0,F.jsx)(Be.Q,{values:{showShareDialog:se},children:e=>{let{showShareDialog:t}=e;const n="business"===p.accountType?eo:to;return t?(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"sharedialog",children:(0,F.jsx)(n,{items:Array.from(ue.value).map((e=>Je(e))),onDismiss:()=>{le(!1)}})})}):null}}),(0,F.jsx)(Be.Q,{values:{showDeleteDialog:ee},children:e=>{let{showDeleteDialog:t}=e;return t?(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"deletephotos",children:(0,F.jsx)(Kn,{deletePhotos:ht.xk,duplicatePhotoParentName:(0,Oe.SR)(ue,Je),items:Array.from(ue.value).map((e=>Je(e))),onDismiss:()=>{te(!1)},photoIds:(0,Oe.EI)(ue,Je).map((e=>e.id))})})}):null}})]});function ct(){l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"clickAddToAlbum"}),Y(!0)}function dt(){l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"clearSelection"}),ue.clear()}function ut(){l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"clickDelete"}),te(!0)}function mt(){l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"clickDownload"}),(0,ht.V5)(l,n,s,p,Array.from(ue.value,(e=>Je(e))),ke).catch(Ve)}function pt(){l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"clickShare"}),le(!0)}function xt(e,t){l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"selectFilter",value:e}),rt(),C({galleryFilter:{filterFolder:e,folderId:t}}),z({filterFolder:e,folderId:t})}function Ct(e){l.dispatchEvent("telemetryAvailable",{action:"userAction",name:"selectLayout",value:e}),rt(),C({layoutAlgorithm:e}),Q(e)}}const ko=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(6505),n.e(6899)]).then(n.bind(n,59269)))),So=(0,Ue.V)((()=>n.e(6987).then(n.bind(n,26987)))),To=(0,Ue.V)((()=>n.e(8489).then(n.bind(n,58489)))),Ao=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(1558),n.e(3289)]).then(n.bind(n,51558)))),Eo=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(8160)]).then(n.bind(n,4090)))),Mo=(0,Ue.V)((()=>n.e(5541).then(n.bind(n,55541)))),Do=(0,Ue.V)((()=>n.e(1770).then(n.bind(n,81770)))),Ro=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(1558),n.e(5895),n.e(3230)]).then(n.bind(n,64131)))),Io=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(6768),n.e(5895),n.e(9810)]).then(n.bind(n,19042)))),Vo=(0,Ue.V)((()=>n.e(1785).then(n.bind(n,31785)))),Fo=(0,Ue.V)((()=>n.e(7356).then(n.bind(n,47356)))),Oo=(0,Ue.V)((()=>Promise.all([n.e(9044),n.e(4532)]).then(n.bind(n,98711)))),Uo=(0,Ue.V)((()=>n.e(5299).then(n.bind(n,5299)))),Bo=(0,Ue.V)((()=>n.e(1588).then(n.bind(n,21588)))),Ho=(0,Ue.V)((()=>n.e(4025).then(n.bind(n,44025)))),{DocumentTitle:Zo}=window.Resources.Common,_o=4e3;function $o(){const e=a.useContext(G),t=a.useContext(d.A),n=a.useContext(u.S),o=a.useContext(ae.k),r=a.useContext(me.B3),i=a.useContext(xe.v),s=a.useRef(null),[l,c]=(0,nn.y)("uxSetting"),[h,m]=(0,f.mA)(!(null===l||void 0===l||!l.expandNavigation)),[p,v]=(0,f.mA)((0,on.Vx)()),[g,C]=(0,f.mA)(!(null===l||void 0===l||!l.hideBetaFRE)),[w,b]=(0,f.mA)(!0),[y,j]=(0,f.mA)(!1),[L,P]=(0,f.mA)(!(null===l||void 0===l||!l.hideSearchFRE)),[N]=a.useState([]),k=(0,re.TH)();(0,He.OR)(window,"resize",(()=>{const e=(0,on.Vx)();e!==p.value&&v(e)}));const S=(0,f.mU)(e.getBackground("shell")),A=(0,f.mU)(i.getUserPreferences("photo"));(0,f.mU)(i.getUserPreferences("photo"),(e=>{const t=null===e||void 0===e?void 0:e.biometricConsent;b(!("DefaultOptIn"===t||"PendingConsent"===t))}));const E=r.authenticated();a.useEffect((()=>{const{message:e}=r;e&&t.dispatchEvent("showMessage",e)}),[t,r]);const M=new URL(window.location.href),D=[{exact:!0,path:["/","/photos"],currentPage:"Gallery",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"allphotosview",children:(0,F.jsx)(No,{...t})},"allphotosview")})},{allowLayering:!0,exact:!0,path:"/recent",currentPage:"RecentPlaces",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"recentPlaces",children:(0,F.jsx)(Do,{...t,search:k.search,type:"RecentPlaces"})},"recentPlaces")})},{exact:!0,path:"/search",currentPage:null!==A&&void 0!==A&&A.florenceSearch?"FlorenceSearch":"Search",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"search",children:(0,F.jsx)(Uo,{...t,search:k.search})},"search")})},{allowLayering:!0,exact:!0,path:"/moments/:type/:momentid",currentPage:"Moments",renderView:(e,r)=>{let a,i=!1;const s=n.experimentGroup("EnableMOJDirectToOneup").value;if(t.dispatchEvent("telemetryAvailable",{action:"experimentEvaluation",name:"EnableMOJDirectToOneup",variant:s}),"ShowOneUp"===s){const t=M.searchParams.get("id");t&&(o.navigate(void 0,"mojOneUpNavigation",{href:o.prepare((0,$e.OK)([{id:t}],"moment",e.params.momentid,o.prepare(`/moments/${e.params.type}/${e.params.momentid}`))),useReplace:!0}),a=(0,F.jsx)(Vo,{...r,id:t,navigationSource:"mojOneUpNavigation",search:window.location.search}),i=!0)}return a=a||(0,F.jsx)(Do,{...r,id:e.params.momentid,search:k.search,type:e.params.type}),{element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:e.params.type,children:a},"moments"),fullScreen:i}}},{exact:!0,path:"/albums",currentPage:"Albums",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"albumsview",children:(0,F.jsx)(So,{...t})},"albumsview")})},{allowLayering:!0,exact:!0,path:"/album/:id",currentPage:"Album",renderView:(e,t)=>{var n;return{element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"albumview",children:(0,F.jsx)(ko,{...t,album:null===(n=k.state)||void 0===n?void 0:n.album,id:e.params.id})},"albumview")}}},{exact:!0,path:"/explore",currentPage:"Explore",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"exploreview",children:(0,F.jsx)(To,{...t})},"exploreview")})},{exact:!0,path:"/explore/places",currentPage:"Places",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"placesview",children:(0,F.jsx)(Bo,{...t,tagType:"locations"})},"placesview")})},{allowLayering:!0,exact:!0,currentPage:"Location",path:"/explore/places/place",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"exploreLocation",children:(0,F.jsx)(Ho,{...t,search:k.search,type:"ExploreLocations"})},"exploreLocation")})},{exact:!0,path:"/explore/things",currentPage:"Things",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"thingsview",children:(0,F.jsx)(Bo,{...t,tagType:"things"})},"thingsview")})},{allowLayering:!0,exact:!0,path:"/explore/things/thing",currentPage:"Tag",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"exploreThing",children:(0,F.jsx)(Ho,{...t,search:k.search,type:"ExploreThings"})},"exploreThing")})},{exact:!0,path:"/favorites",currentPage:"Favorites",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"favoritesview",children:(0,F.jsx)(Ho,{...t,search:k.search,type:"Favorites"})},"favoritesview")})},{allowLayering:!0,exact:!0,path:"/photo/:id",currentPage:"OneUp",renderView:(e,t)=>{var n,o;return{element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"photoview",children:(0,F.jsx)(Vo,{...t,feedId:null===(n=k.state)||void 0===n?void 0:n.feedId,id:e.params.id,photos:null===(o=k.state)||void 0===o?void 0:o.photos,search:window.location.search})},"photoview"),fullScreen:!0}}},{allowLayering:!1,anonymousAccess:!0,exact:!0,path:"/command/open",currentPage:"LocalOpen",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"localview",children:(0,F.jsx)(Mo,{...t})},"localview"),fullScreen:!0})},{allowLayering:!0,anonymousAccess:!0,exact:!1,path:["/share/:id","/shared/:id"],currentPage:"OneUp.Shared",renderView:(e,t)=>{var n,r,a,i,s;const l=(M.searchParams.get("ithint")||"").split(",",1)[0],c=M.searchParams.has("migratedtospo");switch(l){case"photo":case"video":return{element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"photoview",children:(0,F.jsx)(ct,{badgerToken:null===(n=k.state)||void 0===n?void 0:n.badgerToken,id:e.params.id,migrated:c,url:M,children:(0,F.jsx)(Vo,{...t,feedId:null===(r=k.state)||void 0===r?void 0:r.feedId,id:e.params.id,photos:null===(a=k.state)||void 0===a?void 0:a.photos,search:window.location.search,shared:!0})})},"photoview"),fullScreen:!0};case"album":return{element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"albumview",children:(0,F.jsx)(ct,{badgerToken:null===(i=k.state)||void 0===i?void 0:i.badgerToken,id:e.params.id,migrated:c,url:M,children:(0,F.jsx)(ko,{...t,album:null===(s=k.state)||void 0===s?void 0:s.album,id:e.params.id,ownerCid:M.searchParams.get("cid")||void 0,shared:!0})})},"albumview"),fullScreen:!0};default:const l=M.searchParams.get("cid")||void 0,d=M.searchParams.get("authkey")||void 0;return o.navigate(void 0,"unsupportedsharingtype",{href:`https://onedrive.live.com/?cid=${l}&id=${e.params.id}&sff=1&authkey=${d}`}),{element:null}}}},{exact:!0,path:"/people",currentPage:"People",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"peopleview",children:(0,F.jsx)(Ro,{...t})},"peopleview")})},{allowLayering:!0,exact:!0,path:"/people/person/:id",currentPage:"Person",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"personview",children:(0,F.jsx)(Io,{...t,id:e.params.id,search:k.search})},"personview")})}];n.featureEnabled("EnableMemoriesPage").value&&D.push({exact:!0,path:"/explore/memories",currentPage:"Memories",renderView:(e,t)=>({element:(0,F.jsx)(_,{pillar:"View",perfGoal:_o,scenarioName:"memoriesview",children:(0,F.jsx)(Fo,{...t})},"memoriesview")})}),D.push({anonymousAccess:!0,exact:!1,path:"/",currentPage:"Fallback",renderView:()=>({element:(0,F.jsx)(T.$,{scenarioName:"fallback",properties:{pathname:window.location.pathname},children:(0,F.jsx)(dn,{})},"fallback")})});for(let a=0;a<D.length;a++){const e=D[a],t=(0,re.LX)(k.pathname,{exact:e.exact,path:e.path});if(t){const n=window.location.pathname,o=window.location.search;let a=!1;for(let e=N.length-1;e>=0;e--){const t=N[e];if(t.pathname===n&&t.search===o){N.splice(e+1,N.length-e-1),a=!0,t.title&&(document.title=t.title);break}}if(r.setCurrentPage(e.currentPage),a)break;e.allowLayering||N.splice(0,N.length);const i={...e.renderView(t,{setDocumentTitle:e=>{n===window.location.pathname&&o===window.location.search&&(r.standalone||(e=e?(0,x.WU)(Zo,{pageTitle:e}):"OneDrive")),document.title=i.title=e},setDragDropOptions:e=>{i.uploadOptions=e}}),pathname:window.location.pathname,route:e,search:window.location.search};N.push(i);break}}const I=N[N.length-1],V=[],O=[];N.forEach((e=>{e.fullScreen?V.push(e):O.push(e)}));let U=(0,F.jsxs)(F.Fragment,{children:[O.length?(0,F.jsxs)(F.Fragment,{children:[!r.embedded&&E&&(0,F.jsx)(en,{"aria-hidden":I.fullScreen,className:(0,R.iv)(I.fullScreen&&"aria-invisible")}),(0,F.jsxs)("div",{"aria-hidden":I.fullScreen,className:(0,R.iv)("flex-row flex-grow overflow-hidden",I.fullScreen&&"aria-invisible"),children:[!r.embedded&&E&&(0,F.jsx)(Be.Q,{values:{expanded:h,layoutStyle:p},children:e=>{let{expanded:t,layoutStyle:n}=e;return"desktop"===n?(0,F.jsx)(tn.W_,{expanded:t,setExpanded:e=>{c({expandNavigation:e}),m(e)}},"navigation"):null}}),(0,F.jsx)("div",{className:"navigation-views-container relative flex-row flex-grow overflow-hidden",children:O.map((e=>E||e.route.anonymousAccess?(0,F.jsx)("div",{"aria-hidden":e!==I,className:(0,R.iv)("navigation-view-container absolute-fill flex-row transparent overflow-hidden",e!==I&&"aria-invisible"),"data-view":e.pathname,children:(0,F.jsx)(a.Suspense,{fallback:(0,F.jsx)("div",{className:"absolute-fill"}),children:e.element})},`${e.pathname}${e.search}`):(0,F.jsx)(zo,{},`${e.pathname}${e.search}`)))})]})]}):null,V.length?V.map((e=>E||e.route.anonymousAccess?(0,F.jsx)("div",{"aria-hidden":e!==I,className:(0,R.iv)("fullscreen-view-container absolute-fill flex-row transparent overflow-hidden",e!==I&&"aria-invisible"),"data-view":e.pathname,children:(0,F.jsx)(a.Suspense,{fallback:(0,F.jsx)("div",{className:"absolute-fill"}),children:e.element})},`${e.pathname}${e.search}`):(0,F.jsx)(zo,{},`${e.pathname}${e.search}`))):null,r.embedded?null:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Be.Q,{values:{dismissFaceAiConsent:y,hideBetaFRE:g,hideFaceAiConsent:w,hideSearchFRE:L},children:e=>{let{dismissFaceAiConsent:t,hideBetaFRE:n,hideFaceAiConsent:o,hideSearchFRE:r}=e;return!s.current&&0===V.length&&E&&(s.current=n?null===A||void 0===A||!A.biometricConsent||t||o||"People"===I.route.currentPage?null!==A&&void 0!==A&&A.florenceSearch&&!r?(0,F.jsx)(T.$,{scenarioName:"florenceFREDialog",children:(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(Oo,{onDismiss:()=>{c({hideSearchFRE:!0}),P(!0),s.current=(0,F.jsx)(F.Fragment,{})}})})}):null:(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"faceAIFREDialog",properties:{RestrictedLocation:"PendingConsent"===A.biometricConsent},children:(0,F.jsx)(Ao,{onCompletion:()=>{b(!0),j(!0),s.current=(0,F.jsx)(F.Fragment,{})},restricted:"PendingConsent"===A.biometricConsent})})}):(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(T.$,{scenarioName:"FREDialog",children:(0,F.jsx)(Eo,{onDismiss:()=>{c({hideBetaFRE:!0}),C(!0),s.current=(0,F.jsx)(F.Fragment,{})}})})})),s.current}}),0===V.length&&E&&(0,F.jsx)(tt,{})]}),(0,F.jsx)(B,{route:`${window.location.pathname}?${window.location.search}`})]});return E&&(U=(0,F.jsxs)(pt,{className:(0,R.iv)("shell-container",S&&"background-active"),"data-theme":S&&"dark",getDragDropOptions:function(){let e;return N.forEach((t=>{t.uploadOptions&&(e=t.uploadOptions)})),e},children:[(0,F.jsx)(ze,{downloadPhoto:Ze.DH,name:"shell"}),U]})),U}function zo(){const e=a.useContext(me.B3);return window.location.href=(0,me.Z8)(e,"uv"),null}n(59964),n(10180),n(97433),n(18954),n(66933),n(8321),n(34991),n(83140),n(92674),n(56498),n(69526),n(46016);var Go=n(85200);const Wo=window.SessionInformation;window.SessionInformation=void 0;const qo=(0,c.Z)();function Qo(e){const{searchParams:t,workerDetails:n}=e,r=a.useContext(G),s=a.useContext(q.D),l=a.useContext(d.A),c=a.useContext(u.S),w=a.useContext(me.B3),b=a.useContext(h.J),S=new W.v(w.locale),T=a.useRef(!1),A=w.migrated,E=w.authenticated();(0,p.V)("fetchEnd",se.si),(0,p.V)("fetchPrepare",(function(e){const{apiOrigin:t,apiVersion:n,domainSettings:o}=w,r=e.init.headers=new Headers(e.init.headers);e.url=(0,x.WU)(e.url,{...t,...n});const a=new URL(e.url);a.searchParams.delete("access_token"),a.searchParams.delete("ump"),e.init.cache||(e.init.cache="no-cache");!w.migrated&&"business"!==w.accountType||a.origin!==t.vroomOrigin||r.set("Scenario",w.getPage().current);if(w.authenticated()){const i=o[a.hostname];if(a.origin===k.O0.vroomOrigin&&-1===a.pathname.indexOf("/oneDrive.search(q=@s)")){const l=a.searchParams.get("prefer");l&&-1!==l.indexOf("Migration=")||(a.searchParams.set("prefer",(l?`${l};`:"")+"Migration=EnableRedirect;FailOnMigratedFiles"),e.url=a.toString())}function s(t){if(!i.supportsUMP||e.init.method&&"GET"!==e.init.method)t&&(i.supportsAccessParam?(a.searchParams.set("access_token",t),e.url=a.toString()):r.set("Authorization",`Bearer ${t}`));else{let n="";t&&r.set("Authorization",`Bearer ${t}`);for(const e of r.entries())n+=`${e[0]}: ${e[1]}\r\n`;a.searchParams.set("ump","1"),e.url=a.toString(),e.init.method="POST",e.init.headers=new Headers({"Content-Type":"multipart/form-data;boundary=f15fc59f-6147-4e07-86c4-e1b7fa228be7"}),e.init.body=`--f15fc59f-6147-4e07-86c4-e1b7fa228be7\r\nContent-Disposition: form-data;name=data\r\nX-HTTP-Method-Override: GET\r\n${n}\r\n\r\n--f15fc59f-6147-4e07-86c4-e1b7fa228be7--`}}!w.userProfile||a.origin!==t.vroomOrigin&&a.origin!==t.searchOrigin||r.set("Accept-Language",w.userProfile.locale),i&&i.scope&&!r.get("Authorization")?e.waitUntil(D.accessToken(i.scope,{ignoreQuickCache:!1}).then(s)):s()}})),(0,p.V)("fetchComplete",(function(e){const{options:t,...n}=e;l.dispatchEvent("telemetryAvailable",{action:"fetchComplete",...n})}));const M=new o.db([]);(0,f.Qe)(M,(()=>{T.current&&V.setUserPreferences("feature",{recentSearches:JSON.stringify(M.value)}).catch(C.Z)}));const D=new $.Qc(l,w,void 0,void 0,(function(e){if(s.hostClient){const e={command:"authenticate",resource:w.apiOrigin.vroomOrigin,type:"SharePoint"};return s.hostClient.ready.then((()=>s.hostClient.sendCommand(e).then((e=>"token"===e.result?e.token:Promise.reject(e.error.message)))))}return Promise.resolve("")})),R=new he(l,b,M),I=new fe(b),V=new xe.N(l,b);if("development"===w.environment||(0,g.ej)("Development")){function ue(e){console.debug(e.action,e)}l.addEventListener("telemetryAvailable",ue),a.useEffect((()=>()=>{l.removeEventListener("telemetryAvailable",ue)}))}window.addEventListener("error",de),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",le);const O=Ve();(0,p.V)("telemetryAvailable",(e=>{const t=function e(t){const n={...t};t.result&&("fulfilled"===t.result.status?n.result={status:"fulfilled"}:n.result=t.result);n.url&&(n.url=(0,Oe.sg)(new URL(n.url,window.location.origin)).toString());if(n.children){const t=[];for(const o of n.children)t.push(e(o));n.children=t}return n}(e);O&&O(t)}));const U=(0,we.$)(),B=(0,be.i)(y,{allowDuplicate:!0,blocking:!1,name:"getAccountDetails"}),H=(0,be.i)(U.getAlbums,{blocking:!1,name:"getAlbums"}),Z=(0,be.i)(L.Ai,{blocking:!1,name:"getProfile"}),z=(0,be.i)(L.rf,{blocking:!1,name:"getProfileImage"}),Q=(0,be.i)(P,{allowDuplicate:!0,blocking:!1,name:"getUserEmailPreferences"}),X=(0,be.i)(N.JM,{allowDuplicate:!0,blocking:!1,name:"getUserPreferences"}),Y=(0,be.i)(j,{blocking:!1,name:"sendFeedback",parentScenario:null,timeoutMs:1e4}),K=new oe.W5(Y,w,l,b);(0,f.mU)(c.featureEnabled("pseudoLoc"),(e=>{(0,g.d8)("PseudoLoc",e?"pseudo":"")})),(0,f.mU)(I.currentTheme,(e=>{b.mergeSetting("uxSetting",{themeId:e.themeId})}));try{const pe=new Intl.Locale(w.locale).textInfo;pe&&pe.direction&&(document.documentElement.dir=pe.direction)}catch{}document.documentElement.dir||(document.documentElement.dir="ltr");const J=(0,Fe.Ny)(),{createObjectURL:ee}=(0,v.q)(),te=b.getSetting("uxSetting"),ne=function(e,t){let n={};e&&(n=Object.keys(e).reduce(((t,n)=>(t["ux_"+n]=e[n],t)),n));t&&(n=Object.keys(t).reduce(((e,n)=>(e["feature_"+n]=t[n].featureEnabled.value,e)),n));return n}(te,c.features),re=window.performance.getEntriesByType("navigation"),ae=re&&re[0]&&re[0].toJSON();if(ae&&ae.name)try{ae.name=(0,Oe.sg)(new URL(ae.name)).toString()}catch{}a.useEffect((()=>{E&&!w.embedded&&(Z().then((e=>{w.graphProfile.value=e})).catch(J),z("120x120").then((e=>{e&&(w.profileUrl.value=ee(e))})).catch(J))}),[]),a.useEffect((()=>{if(E&&!w.embedded){null!==te&&void 0!==te&&te.backgroundImage&&r.setBackground("shell",{photo:te.backgroundImage}),B(w.driveId).then((e=>{w.accountDetails.value=e})).catch(J),Q().then((e=>{V.emailPreferences.value=e})).catch(J);const e=X().then((e=>((0,i.unstable_batchedUpdates)((()=>{e.photo&&(b.setSetting("photoPreferences",e.photo),V.photoPreferences.value=e.photo),e.email&&(b.setSetting("emailPreferences",e.email),V.emailPreferences.value=e.email),e.featureSettings&&(b.setSetting("featurePreferences",e.featureSettings),V.featurePreferences.value=e.featureSettings,e.featureSettings.recentSearches&&(M.length&&(T.current=!0),M.splice(M.length,0,...JSON.parse(e.featureSettings.recentSearches)),T.current=!0))})),e))).catch(J);if(A){const t=H(w.driveId);Promise.allSettled([e,t]).then((e=>{var t;let[n,o]=e;const r="fulfilled"===n.status&&n.value&&"fulfilled"===o.status&&o.value&&("WithoutQuota"===(null===(t=n.value.featureSettings)||void 0===t?void 0:t.albumVersion)||o.value.value.length>0);c.setFeatureEnabled("showAlbums",!!r)}))}}return()=>{w.profileUrl.value&&window.URL.revokeObjectURL(w.profileUrl.value),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",le),window.removeEventListener("error",de)}}),[A]);const ie=t.get("login_hint");if(ie){const{userProfile:ve}=w;if(!E||(null===ve||void 0===ve?void 0:ve.preferred_username)!==ie)return window.location.href=(0,me.Z8)(w,"lh",ie),null;{const ge=new URL(window.location.href);ge.searchParams.delete("login_hint"),window.history.replaceState(null,"",ge.toString())}}return(0,F.jsx)($.KX.Provider,{value:D,children:(0,F.jsx)(Ce.M.Provider,{value:{workerDetails:n},children:(0,F.jsx)(h.J.Provider,{value:b,children:(0,F.jsx)(u.S.Provider,{value:c,children:(0,F.jsx)(m.N.Provider,{value:I,children:(0,F.jsx)(oe.l.Provider,{value:K,children:(0,F.jsx)(ce.Provider,{value:R,children:(0,F.jsx)(xe.v.Provider,{value:V,children:(0,F.jsx)(W.K.Provider,{value:S,children:(0,F.jsx)(_,{pillar:"Boot",perfGoal:4e3,completeCallback:(e,t)=>{if(s.hostClient){const e={error:"rejected"===t.status?"Failed to load":void 0,notification:"page-loaded",timestamp:Date.now()};s.hostClient.sendNotification(e)}},scenarioName:"photosAppLoad",startTime:null===ae||void 0===ae?void 0:ae.startTime,properties:{entryPoint:t.get("sc"),height:window.innerHeight,navigation:ae,width:window.innerWidth,...ne},children:(0,F.jsx)($o,{},`migration-state-${A}`)})})})})})})})})})});function le(e){const t=e.data;if(t)if("tokenRequest"===t.type){const{forceRefresh:e=!1,resource:n}=t.event;let o=t.event.scope,r=!1;if(n){const e=new URL(n),t=w.domainSettings[e.hostname];t&&(o=t.scope,r=t.supportsUMP)}D.accessToken(o,{forceRefresh:e}).then((e=>{var t;null===(t=navigator.serviceWorker.controller)||void 0===t||t.postMessage({event:{accessToken:e,supportsUMP:r},type:"tokenResponse"})})).catch((e=>{var t,n;null===(t=navigator.serviceWorker.controller)||void 0===t||t.postMessage({event:{accessToken:"",supportsUMP:r,error:null!==(n=null===e||void 0===e?void 0:e.error)&&void 0!==n?n:e},type:"tokenResponse"})}))}else"workerTelemetry"===t.type&&l.dispatchEvent("telemetryAvailable",{...t.event,telemetryProperties:{...t.event.telemetryProperties,serviceWorker:!0}})}function de(e){var t;const n=null===(t=e.error)||void 0===t?void 0:t.stack.toString();if("ResizeObserver loop limit exceeded"!==e.message)try{l.dispatchEvent("telemetryAvailable",{action:"exception",colno:e.colno,error:e.message,filename:e.filename,lineno:e.lineno,name:"unhandledException",stack:n})}catch(o){}}}const Xo=function(e){var t,n;let r=a.useMemo((()=>({...null!==Wo&&void 0!==Wo?Wo:me.Gj})),[]);const i=a.useRef(""),c=a.useRef("");let d;r.pathname&&window.history.replaceState(null,"",r.pathname),window.cookieStore&&(d=(0,g.ej)("RefreshToken"),window.cookieStore.addEventListener("change",(()=>{window.cookieStore.get("RefreshToken").then((e=>d=null===e||void 0===e?void 0:e.value))})));const m=a.useContext(h.J),[v]=a.useState(r.userId?new h.h(`/${r.userId}/`):"dev"===r.clientVersion?new h.h("/__dev__/"):m),[x,C]=a.useReducer(((e,t)=>{if("migrate"===t.type)if(!e.migrated)return v.setSetting("userState",{migrated:!0}),{migrated:!0};return e}),{migrated:null!==(t=null===(n=v.getSetting("userState"))||void 0===n?void 0:n.migrated)&&void 0!==t&&t});(0,p.V)("fetchComplete",(function(e){new URL(e.url).origin===k.O0.vroomOrigin&&"rejected"===e.result.status&&(0,b.xT)(e.result.reason,["userContentMigrated"])&&C({type:"migrate"})}));const w=a.useMemo((()=>new ne(v,r)),[v,r]),y=(0,f.mU)(w.featureEnabled("useSandbox")),j=a.useMemo((()=>new URLSearchParams(window.location.search)),[]),[L]=a.useState(new URLSearchParams);a.useMemo((()=>{const e=j.get("ft");if(e){e.split(",").includes("homeEnable")&&w.setFeatureEnabled("showHome",!0)}}),[w,j]);const P=j.get("embed"),{apiOriginEmbed:N,apiVersionEmbed:S,embedContext:T,embedDomainSettings:A}=a.useMemo((()=>{let e,t,n,o={};if(P&&"string"===typeof P)try{var r,a;const i=JSON.parse(P),{display:l,messaging:c,network:d,theme:u}=i;let h;if(L.set("embed",P),document.body.classList.add("embedded"),i.theme="string"===typeof u?u:"light",null!==l&&void 0!==l&&l.className&&"string"===typeof l.className&&document.body.classList.add(l.className),c){const{channelId:e,origin:t}=c;e&&t&&"string"===typeof e&&"string"===typeof t&&(h=(0,s.e)({channelId:e,origin:t}))}if(null!==d&&void 0!==d&&null!==(r=d.endpoints)&&void 0!==r&&null!==(a=r.vroom)&&void 0!==a&&a.origin){e={...k.Tb},t={...k.nk},n={...k.NP},e.vroomOrigin=d.endpoints.vroom.origin;n[new URL(e.vroomOrigin).hostname]={scope:"Files.ReadWrite.All"}}o={...i,hostClient:h}}catch(i){}return{apiOriginEmbed:e,apiVersionEmbed:t,embedContext:o,embedDomainSettings:n}}),[L,P]);document.body.setAttribute("data-theme",T.theme||"light"),a.useEffect((()=>()=>{var e;null===T||void 0===T||null===(e=T.hostClient)||void 0===e||e.dispose()}),[T]),(0,p.V)("scenarioComplete",(e=>{var t;"photosAppLoad"===e.scenarioName&&(null===(t=T.hostClient)||void 0===t||t.sendNotification({notification:"navigation-ended",timestamp:e.endTime}))})),(0,p.V)("scenarioStart",(e=>{var t;"photosAppLoad"===e.scenarioName&&(null===(t=T.hostClient)||void 0===t||t.sendNotification({notification:"navigation-started",timestamp:e.startTime}))}));const E=a.useMemo((()=>{var e,t,n,a;const s=x.migrated;let l="me";const u=r.accountType||(P?"business":"consumer");if("business"===u&&r.driveId)l=r.driveId;else if(r.userId&&(l=r.userId,!s))for(;48===l.charCodeAt(0);)l=l.substring(1);return{...r,accountDetails:new o.fA(void 0),accountType:u,apiOrigin:N||(s?y?k.a0:k.Tb:k.O0),apiVersion:S||(s?k.nk:k.P5),authenticated:()=>!!r.embedded||!(!r.userProfile||!d&&!(0,g.ej)("RefreshToken")),domainSettings:A||k.NP,driveId:l,getPage:()=>({current:i.current||window.location.pathname,previous:c.current}),graphProfile:new o.fA(void 0),locale:(r.embedded?r.locale:null===(e=r.userProfile)||void 0===e?void 0:e.locale)||"en-us",migrated:s,profileUrl:new o.fA(Go.Z),session:(null===T||void 0===T||null===(t=T.telemetry)||void 0===t?void 0:t.sessionId)||qo,setCurrentPage:e=>{c.current=i.current,i.current=e},standalone:window.matchMedia&&(null===(n=window.matchMedia("(display-mode: standalone)"))||void 0===n?void 0:n.matches),tenantType:r.tenantId===me.bc?"msa":"aad",telemetryEndpoint:(null===T||void 0===T||null===(a=T.telemetry)||void 0===a?void 0:a.endpoint)||r.telemetryEndpoint}}),[x.migrated]);return(0,F.jsx)(l.VK,{children:(0,F.jsx)(ge.T.Provider,{value:(0,ge.O)(),children:(0,F.jsx)(h.J.Provider,{value:v,children:(0,F.jsx)(u.S.Provider,{value:w,children:(0,F.jsx)(q.D.Provider,{value:T,children:(0,F.jsx)(me.B3.Provider,{value:E,children:(0,F.jsx)(ie,{navigationParameters:L,children:(0,F.jsx)(Qo,{...e,searchParams:j})})})})})})})})},Yo=new o.fA({capabilities:[]});"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("message",(e=>{const t=e.data;t&&"detailsResponse"===t.type&&(Yo.value=t.event)})),navigator.serviceWorker.register("/serviceworker.js").then((e=>{var t;null!==navigator.serviceWorker.controller&&(null===(t=e.active)||void 0===t||t.postMessage({type:"detailsRequest"}),e.addEventListener("updatefound",(()=>{const{installing:t}=e;null===t||void 0===t||t.addEventListener("statechange",(()=>{var n;"activated"===t.state&&(null===(n=e.active)||void 0===n||n.postMessage({type:"detailsRequest"}))}))})))})));const Ko=document.getElementById("root");let Jo=tr();function er(){i.render((0,F.jsx)(Xo,{workerDetails:Yo}),Ko)}function tr(){const e=(0,on.Vx)();return"desktop"===e?"desktop-layout":"tablet"===e?"tablet-layout":"mobile-layout"}document.body.classList.add(Jo),window.addEventListener("resize",(()=>{const e=tr();e!==Jo&&(document.body.classList.remove(Jo),document.body.classList.add(e),Jo=e)})),(0,r.P)(),window.ResizeObserver&&Promise.allSettled?er():Promise.all([n.e(7254),n.e(7443)]).then(n.bind(n,87443)).finally(er)},62543:(e,t,n)=>{n.d(t,{Rt:()=>u,_K:()=>d,_Z:()=>p});var o=n(6558),r=n(22400),a=n(26321),i=n(51150),s=n(81284);const l="{{vroomOrigin}}/_api/v2.1/drives/{{driveId}}/albums/{{albumId}}/oneDrive.manageItems",c="{{vroomOrigin}}/_api/v2.1/drives/{{driveId}}/albums/{{albumId}}",d="*,sharepointIds",u={addToAlbum:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)(l,{driveId:t,albumId:n}),{body:JSON.stringify({value:r.map((e=>({id:e})))}),headers:{"Content-Type":"application/json",prefer:"returnCopiedItems"},method:"POST"})),createAlbum:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/_api/v2.1/drives/{{driveId}}/albums",{driveId:t}),{body:JSON.stringify({children:r?r.map((e=>({id:e}))):[],name:n}),headers:{"Content-Type":"application/json"},method:"POST"})),deleteAlbum:(e,t,n)=>(0,a.Ge)(e((0,o.X8)(c,{driveId:t,albumId:n}),{method:"DELETE"}),a.kB),getAlbum:(e,t,n,r)=>{const{expand:i=["thumbnails"],select:s=d}=r||{},l={select:s};return i&&i.length&&(l.expand=`${i.join(",")}`),(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/_api/v2.1/drives/{{driveId}}/albums/{{albumId}}?{{parameters}}",{albumId:n,driveId:t,parameters:new URLSearchParams(l)})))},getAlbums:(e,t,n)=>{const{expand:r=["thumbnails"],orderBy:i="desc",select:s=d,top:l=30}=n||{},c={orderby:`createdDateTime ${i}`,select:s,top:`${l}`};return r&&r.length&&(c.expand=`${r.join(",")}`),(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/_api/v2.1/drives/{{driveId}}/albums?{{parameters}}",{driveId:t,parameters:new URLSearchParams(c)})))},getAlbumsPage:(e,t)=>(0,a.QQ)(e,t),getAlbumPhotos:(e,t,n,r)=>{const{expand:l=["tags"],select:c=i.pl,top:d=100,filter:u="photo ne null"}=r||{},h={select:c,top:`${d}`,filter:u};return l&&l.length&&(h.expand=`${l.join(",")}`),(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/_api/v2.1/drives/{{driveId}}/albums/{{albumId}}/children?{{parameters}}",{driveId:t,albumId:n,parameters:new URLSearchParams(h)}))).then((e=>({...e,value:e.value.map(s.k)})))},removeAlbumPhoto:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)(l,{driveId:t,albumId:n}),{body:JSON.stringify({value:r.map((e=>({"@oneDrive.removed":"deleted",id:e})))}),headers:{"Content-Type":"application/json"},method:"POST"}),a.kC),setCoverPhoto:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)(c,{albumId:n,driveId:t}),{body:JSON.stringify({mediaAlbum:{coverImageId:r}}),headers:{"Content-Type":"application/json"},method:"PATCH"})),updateAlbum:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)(c,{albumId:n,driveId:t}),{body:JSON.stringify({name:r}),headers:{"Content-Type":"application/json"},method:"PATCH"}))},h="{{vroomOrigin}}/v1.0/drives/{{driveId}}/bundles/{{albumId}}",m="bundle,createdDateTime,id,lastModifiedDateTime,name,parentReference,shared,tags",p={addToAlbum:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/v1.0/drive/bundles/{{albumId}}/children",{albumId:n}),{body:JSON.stringify({id:r[0]}),headers:{"Content-Type":"application/json"},method:"POST"}),a.kB).then((()=>({value:[{id:r[0]}]}))),createAlbum:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/v1.0/drives/{{driveId}}/bundles",{driveId:t}),{body:JSON.stringify({bundle:{album:{}},children:r?r.map((e=>({id:e}))):[],name:n}),headers:{"Content-Type":"application/json"},method:"POST"})).then((e=>v(e))),deleteAlbum:(e,t,n)=>(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/v1.0/drive/items/{{albumId}}",{albumId:n}),{method:"DELETE"}),a.kB),getAlbum:(e,t,n,o)=>(0,r.rV)(e,t,n,o||{expand:["tags","thumbnails"],select:m}).then((e=>v(e))),getAlbums:(e,t,n)=>{const{expand:r=["tags","thumbnails"],orderBy:i="desc",select:s=m,top:l=100}=n||{},c={$filter:"bundle/album ne null",orderby:`createdDateTime ${i}`,select:s,top:`${l}`};return r&&r.length&&(c.expand=`${r.join(",")}`),e((0,o.X8)("{{vroomOrigin}}/v1.0/drives/{{driveId}}/bundles?{{parameters}}",{driveId:t,parameters:new URLSearchParams(c)})).then((e=>404===e.status?{value:[]}:(0,a.kC)(e))).then((e=>({...e,value:e.value.map((e=>v(e)))})))},getAlbumsPage:(e,t)=>(0,a.QQ)(e,t).then((e=>({...e,value:e.value.map((e=>v(e)))}))),getAlbumPhotos:(e,t,n,r)=>{const{expand:l=["tags"],select:c=i.pl,top:d=100}=r||{},u={select:c,top:`${d}`};return l&&l.length&&(u.expand=`${l.join(",")}`),(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/v1.0/drives/{{driveId}}/items/{{albumId}}/children?{{parameters}}",{albumId:n,driveId:t,parameters:new URLSearchParams(u)}))).then((e=>({...e,value:e.value.map(s.k)})))},removeAlbumPhoto:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/v1.0/drives/{{driveId}}/bundles/{{albumId}}/children/{{photoId}}",{albumId:n,driveId:t,photoId:r[0]}),{method:"DELETE"}),a.kB).then((()=>({value:[{id:r[0],"@removed":"deleted"}]}))),setCoverPhoto:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)(h,{albumId:n,driveId:t}),{body:JSON.stringify({bundle:{album:{coverSourceId:r}}}),headers:{"Content-Type":"application/json"},method:"PATCH"}),a.kC),updateAlbum:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)(h,{albumId:n,driveId:t}),{body:JSON.stringify({name:r}),headers:{"Content-Type":"application/json"},method:"PATCH"}),a.kC)};function v(e){var t,n,o;const{bundle:r,...a}=e;return{...a,mediaAlbum:{albumItemCount:null!==(t=null===r||void 0===r?void 0:r.childCount)&&void 0!==t?t:0,...null!==r&&void 0!==r&&null!==(n=r.album)&&void 0!==n&&n.coverSourceId?{coverImageId:null===r||void 0===r||null===(o=r.album)||void 0===o?void 0:o.coverSourceId}:{}}}}},57083:(e,t,n)=>{n.d(t,{fn:()=>s,g$:()=>i,gQ:()=>c,li:()=>a,uo:()=>l});var o=n(6558),r=n(26321);function a(e,t,n){return(0,r.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/shares/u!{{redeem}}/driveitem?{{parameters}}",{redeem:t,parameters:new URLSearchParams({$select:"id,parentReference"})}),{headers:{"Content-Type":"text/plain;charset=UTF-8",Prefer:"autoredeem",Authorization:`Badger ${n}`},method:"POST"}),r.kC)}function i(e,t,n){return(0,r.Ge)(e((0,o.X8)("{{authOrigin}}/auth/refresh?{{parameters}}",{parameters:new URLSearchParams({scope:t,refresh_token:n})})),r.kB)}function s(e){return(0,r.Ge)(e("{{badgerApiOrigin}}/v1.0/token",{body:JSON.stringify({appId:"073204aa-c1e0-4e66-a200-e5815a0aa93d"}),headers:{"Content-Type":"application/json;odata=verbose","Cache-Control":"private"},method:"POST"}),r.kC).then((e=>e.token))}function l(e,t,n,a,i,s){let l;if(a&&"!"===a.charAt(0)&&(a=a.slice(1)),i)l=(0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/drive/items/{{photoId}}/action.validatePermission",{photoId:t});else{const e=`u!${window.btoa((0,o.X8)("https://api.onedrive.com/redir?{{parameters}}",{parameters:new URLSearchParams({resid:t})})).replace(/=/g,"").replace(/[+]/g,"-").replace(/\//g,"_")}`;l=(0,o.WU)("{{vroomOrigin}}/{{apiVersion1}}/shares/{{encodedShareUrl}}/root/action.validatePermission",{encodedShareUrl:e})}const c={"Content-Type":"application/json"};return s&&(c.Authorization=`Badger ${s}`),(0,r.Ge)(e(l,{body:JSON.stringify({challengeToken:a,password:n}),headers:c,method:"POST"}),(e=>!e.ok||204!==e.status&&200!==e.status?Promise.reject(e):Promise.resolve()))}function c(e,t,n,a){let i;n&&"!"===n.charAt(0)&&(n=n.slice(1)),i=(0,o.X8)("{{vroomOrigin}}/{{apiVersion2}}/shares/{{encodedShareUrl}}/root/oneDrive.validatePermission",{encodedShareUrl:`u!${n}`});const s={"Content-Type":"application/json"};return a&&(s.Authorization=`Badger ${a}`),(0,r.Ge)(e(i,{body:JSON.stringify({challengeToken:n,password:t}),headers:s,method:"POST"}),(e=>!e.ok||204!==e.status&&200!==e.status?Promise.reject(e):Promise.resolve()))}},22400:(e,t,n)=>{n.d(t,{Z6:()=>s,Zu:()=>l,rV:()=>i});var o=n(6558),r=n(26321),a=n(81284);function i(e,t,n,a){const{expand:i,select:s}=a||{},l={};return s&&(l.select=s),i&&i.length&&(l.expand=`${i.join(",")}`),(0,r.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion2}}/drives/{{driveId}}/items/{{itemId}}?{{parameters}}",{driveId:t,itemId:n,parameters:new URLSearchParams(l)})))}function s(e,t,n){return(0,r.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/drives/{{driveId}}/special/{{folder}}",{driveId:t,folder:n})))}function l(e,t,n){return(0,r.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/drives/{{driveId}}/items/{{itemId}}/permissions",{driveId:t,itemId:n}))).then(a.Zd)}},26321:(e,t,n)=>{function o(e){return"rejected"===e.status&&(e.reason.isCanceled=!0),e}function r(e){return new Promise(((t,n)=>{e.ok?e.blob().then(t,n):n(e)}))}function a(e){return new Promise(((t,n)=>{e.ok?e.blob().then(t,n):404===e.status?t(null):n(e)}))}function i(e){return new Promise(((t,n)=>{if(e.ok){const o=e.headers.get("content-type");o&&/application\/json/.test(o)?e.json().then(t,n):n(e)}else n(e)}))}function s(e){return new Promise(((t,n)=>{e.ok&&204===e.status?t():n(e)}))}function l(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return n?e(t,n).then(o):e(t).then(o)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return e.then(t)}function d(e,t){let n=null===e||void 0===e?void 0:e.error;for(;n;){if(t.includes(n.code))return n.code;n=n.innererror||n.innerError}}n.d(t,{Ge:()=>c,QQ:()=>l,_T:()=>a,cp:()=>r,kB:()=>s,kC:()=>i,ne:()=>o,xT:()=>d})},51150:(e,t,n)=>{n.d(t,{B9:()=>v,DH:()=>h,Ek:()=>b,JJ:()=>d,Ni:()=>N,Ys:()=>p,_l:()=>k,a3:()=>P,iv:()=>w,kA:()=>l,mJ:()=>T,p7:()=>f,pl:()=>m,q7:()=>j,s:()=>y,sU:()=>g,tU:()=>S,wP:()=>C,x3:()=>L,yk:()=>c});var o=n(6558),r=n(22400),a=n(26321),i=n(81284);const s="{{vroomOrigin}}/{{apiVersion2}}/drives/{{driveId}}/tags",l={addTag(e,t,n,r){const i=JSON.stringify({itemIds:[n],tagsToAdd:[{name:r}],tagsToDelete:[]});return(0,a.Ge)(e((0,o.X8)(s,{driveId:t}),{headers:{"Content-Type":"application/json"},body:i,method:"POST"}),(e=>e.ok?Promise.resolve():Promise.reject(e)))},deleteTag(e,t,n,r){const i=JSON.stringify({itemIds:[n],tagsToAdd:[],tagsToDelete:[r]});return(0,a.Ge)(e((0,o.X8)(s,{driveId:t}),{headers:{"Content-Type":"application/json"},body:i,method:"POST"}),(e=>e.ok?Promise.resolve():Promise.reject(e)))}},c={addTag:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/drives/{{driveId}}/items/{{photoId}}/tags",{driveId:t,photoId:n}),{body:JSON.stringify({name:r}),headers:{"Content-Type":"application/json"},method:"POST"}),a.kC),deleteTag:(e,t,n,r)=>(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/drives/{{driveId}}/items/{{photoId}}/tags/{{tagName}}",{driveId:t,photoId:n,tagName:r.name}),{method:"DELETE"}),a.kB)};function d(e,t,n){return(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion2}}/drives/{{driveId}}/items/{{photoId}}",{driveId:t,photoId:n}),{method:"DELETE"}),a.kB)}const u="{{vroomOrigin}}/{{downloadVersion}}/drives/{{driveId}}/items/{{photoId}}/content?{{parameters}}";function h(e,t,n,r){const{cacheToken:s,photoScale:l,format:c}=r||{},d={};if("full"===l||void 0===l)return(0,a.Ge)(e((0,o.X8)(u,{driveId:t,photoId:n,parameters:new URLSearchParams(d)}),{cache:"default"}),a.cp);if("manifest"===l){const r=(0,i.Ti)({params:d,format:c});return(0,a.Ge)(e((0,o.X8)(u,{driveId:t,photoId:n,parameters:r}),{cache:"default"}),a.cp)}return d.prefer="noredirect,closestavailablesize",s&&(d.cb=s),(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{downloadVersion}}/drives/{{driveId}}/items/{{photoId}}/thumbnails/0/{{photoScale}}/content?{{parameters}}",{driveId:t,photoScale:l,photoId:n,parameters:new URLSearchParams(d)}),{cache:"default"}),a.cp)}const m="createdBy,createdDateTime,description,driveId,file,fileSystemInfo,id,image,lastModifiedDateTime,location,name,parentReference,photo,shared,sharepointIds,size,tags,video,viewpoint,webUrl";function p(e,t,n){const{tagType:r,top:i=100}=n||{},s={top:`${i}`};return(0,a.Ge)(e((0,o.X8)("things"===r?"{{vroomOrigin}}/{{apiVersion2}}/drives/{{driveId}}/view.listTags?{{parameters}}":"{{vroomOrigin}}/{{apiVersion2}}/drives/{{driveId}}/view.listLocations?{{parameters}}",{driveId:t,parameters:new URLSearchParams(s)})))}function v(e,t,n){const{top:r=100}=n||{},i={top:`${r}`};return(0,a.Ge)(e((0,o.X8)(t,{parameters:new URLSearchParams(i)})))}function f(e,t,n){return C(e,t,{expand:[],id:n,orderBy:"asc",initialPageDateTaken:new Date("1/2/1970"),select:"createdDateTime,fileSystemInfo,lastModifiedDateTime,photo",top:1}).then((e=>e.value.length?e.value[0]:void 0))}function g(e,t,n,o){return(0,r.rV)(e,t,n,{expand:["tags"],select:m,...o}).then((e=>(0,i.k)(e)))}const x="{{vroomOrigin}}/{{apiVersion2}}/drives/{{driveId}}/items/{{id}}/items?{{parameters}}";function C(e,t,n){const{endDate:r,expand:s=["tags"],id:l="root",initialPageDateTaken:c,interval:d,orderBy:u="desc",select:h=m,startDate:p=new Date(Date.UTC(1900,0,1)),top:v=100,personId:f}=n||{},g={$filter:["photo ne null",...f?[`and (detectedEntity/recognizedEntity/id eq '${f}')`]:c?[]:[r?`and photo/takenDateTime le ${(0,o.cc)(r)}`:null,p?`and photo/takenDateTime ge ${(0,o.cc)(p)}`:null]].filter((e=>e)).join(" "),orderby:`photo/takenDateTime ${u}`,select:h,top:`${v}`,ump:"1"};return f&&s.push("detectedEntities(expand=recognizedEntity)"),s.length&&(g.expand=`${s.join(",")}`),d&&(g.interval=d),c&&(g.initialPageDateTaken=(0,o.cc)(c)),(0,a.Ge)(e((0,o.X8)(x,{driveId:t,id:l,parameters:new URLSearchParams(g)}))).then((e=>({...e,value:e.value.map(i.k)})))}function w(e,t){return(0,a.Ge)(e(t)).then((e=>({...e,value:e.value.map(i.k)})))}function b(e,t,n,r){const{top:s=100,select:l=m}=r||{},{countryOrRegion:c,state:d,city:u}=n,h={filter:`photo ne null${c?(0,o.WU)(" and location/address/countryOrRegion eq '{{countryOrRegion}}'",{countryOrRegion:(0,i.lX)(c)}):""}${d?(0,o.WU)(" and location/address/state eq '{{state}}'",{state:(0,i.lX)(d)}):""}${u?(0,o.WU)(" and location/address/city eq '{{city}}'",{city:(0,i.lX)(u)}):""}`,select:l,groupby:"photo/takenDateTime",top:`${s}`,expand:"tags",orderby:"photo/takenDateTime desc"};return(0,a.Ge)(e((0,o.X8)(x,{driveId:t,id:"root",parameters:new URLSearchParams(h)}))).then((e=>({...e,value:e.value.map(i.k)})))}function y(e,t,n,r){const{expandTags:s,personIds:l,startDate:c,endDate:d}=r||{},u=["( image ne null or video ne null )",...l?l.map((e=>`and (detectedEntity/recognizedEntity/id eq '${e}')`)):[],...c?[`and photo/takenDateTime ge ${(0,o.cc)(c)}`]:[],...d?[`and photo/takenDateTime le ${(0,o.cc)(d)}`]:[]],h={"@s":`'${(0,i.lX)(n)}'`,filter:u.filter((e=>e)).join(" "),select:m+",searchResult",top:"70"};return(null===s||void 0===s||s)&&(h.expand="tags"),(0,a.Ge)(e((0,o.X8)("{{searchOrigin}}/v1.0/drives/{{driveId}}/oneDrive.search(q=@s)?{{parameters}}",{driveId:t,parameters:new URLSearchParams(h)}))).then((e=>({...e,value:e.value.map(i.k)})))}function j(e,t,n,r){const{personIds:s,startDate:l,endDate:c}=r||{},d=["( photo ne null )",...s?s.map((e=>`and (detectedEntity/recognizedEntity/id eq '${e}')`)):[],...l?[`and photo/takenDateTime ge '${(0,o.cc)(l)}'`]:[],...c?[`and photo/takenDateTime le '${(0,o.cc)(c)}'`]:[]],u={"@s":`'${(0,i.lX)(n)}'`,filter:d.filter((e=>e)).join(" "),top:"70",prefer:"PhotoSearch"};return(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/drives/{{driveId}}/root/oneDrive.search(q=@s)?{{parameters}}",{driveId:t,parameters:new URLSearchParams(u)}))).then((e=>({...e,value:e.value.map(i.k)})))}function L(e,t,n,r){const{top:s=100,select:l=m}=r||{},c={filter:`photo ne null and tags/any(tag:tag/name eq '${(0,i.lX)(n)}')`,select:l,groupby:"photo/takenDateTime",top:`${s}`,expand:"tags",orderby:"photo/takenDateTime desc"};return(0,a.Ge)(e((0,o.X8)(x,{driveId:t,id:"root",parameters:new URLSearchParams(c)}))).then((e=>({...e,value:e.value.map(i.k)})))}function P(e,t){return(0,a.Ge)(e("{{vroomOrigin}}/{{favoritesVersion}}/favorites/driveItems/addFavorite",{body:JSON.stringify({value:t.map((e=>({id:e})))}),headers:{"Content-Type":"application/json"},method:"POST"}))}function N(e,t){return(0,a.Ge)(e("{{vroomOrigin}}/{{favoritesVersion}}/favorites/driveItems/removeFavorite",{body:JSON.stringify({value:t.map((e=>({id:e})))}),headers:{"Content-Type":"application/json"},method:"POST"}),a.kB)}function k(e){return(0,a.Ge)(e("{{vroomOrigin}}/{{favoritesVersion}}/favorites/driveItems?top=100")).then((e=>({...e,value:e.value.map((e=>({...(0,i.k)(e),viewpoint:{isFavorite:!0}})))})))}function S(e,t,n,r){return(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/drives/{{driveId}}/items/{{photoId}}",{driveId:t,photoId:n}),{body:JSON.stringify(r),headers:{"Content-Type":"application/json"},method:"PATCH"}),a.kC).then((e=>(0,i.k)(e)))}function T(e,t,n,r){const s={select:m};return(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion1}}/drives/{{driveId}}/items/{{parentPath}}/{{filename}}:/content?{{parameters}}",{driveId:t,filename:n.name,parameters:new URLSearchParams(s),parentPath:r}),{method:"PUT",body:n,headers:{"Content-Type":n.type,prefer:"synchronousmetadata",scenario:"UploadFile",scenariotype:"AUO"}})).then((e=>(0,i.k)(e)))}},14560:(e,t,n)=>{n.d(t,{Ai:()=>a,UU:()=>l,rf:()=>s});var o=n(6558),r=n(26321);function a(e){return(0,r.Ge)(e("{{graphOrigin}}/v1.0/me?$select="))}const i="{{graphOrigin}}/v1.0/me/photos/{{size}}/$value";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"48x48";return(0,r.Ge)(e((0,o.X8)(i,{size:t})),r._T)}function l(e,t){return(0,r.Ge)(e((0,o.X8)("{{odcOrigin}}/users/0x{{userId}}/myprofile/expressionprofile/profilephoto:UserTileStatic",{userId:t})),r._T)}},96827:(e,t,n)=>{n.d(t,{$:()=>l,q:()=>c});var o=n(6558),r=n(69176),a=n(26321),i=n(51150),s=n(81284);function l(e,t,n){const{date:i,rangeInDaysForStartDate:s}=n||{},l={expand:"thumbnails"},c=i||new Date,d=new Date(c.getTime()+60*c.getTimezoneOffset()*1e3);if(s){const e=new Date(c.getTime()-24*s*60*60*1e3),t=(0,o.cc)((0,r.NN)(e)),n=(0,o.cc)((0,r.NN)(d),!1);l.filter="recommendation/startDate ge "+t+" and recommendation/startDate le "+n}else l.targetDate=(0,o.cc)((0,r.NN)(d),!1);return(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion2}}/drives/{{driveId}}/oneDrive.recommendedItems?{{parameters}}",{driveId:t,parameters:new URLSearchParams(l)})))}function c(e,t,n){return(0,a.Ge)(e((0,o.X8)("{{vroomOrigin}}/{{apiVersion2}}/drives/{{driveId}}/recommendedItems/{{recommendation}}/children?{{parameters}}",{driveId:t,parameters:new URLSearchParams({expand:"tags",select:i.pl}),recommendation:n}))).then((e=>({...e,value:e.value.map(s.k)})))}},7407:(e,t,n)=>{n.d(t,{JM:()=>i,KF:()=>a,OK:()=>l,gs:()=>s,sh:()=>c});var o=n(26321),r=n(81284);function a(e){return(0,o.Ge)(e("{{vroomOrigin}}/{{apiVersion2}}/drive/searchSuggestions?$filter=type eq 'Photo'")).then((e=>e.value.map((e=>e.suggestion))))}function i(e){return(0,o.Ge)(e("{{vroomOrigin}}/{{apiVersion2}}/drive/userPreferences")).then((e=>(e.featureSettings&&d(e.featureSettings),(0,r.JB)(e))))}function s(e,t){return(0,o.Ge)(e("{{vroomOrigin}}/{{apiVersion2}}/drive/userPreferences/photo",{body:JSON.stringify(t),headers:{"content-type":"application/json"},method:"PATCH"}))}function l(e,t){return(0,o.Ge)(e("{{vroomOrigin}}/{{apiVersion2}}/drive/userPreferences/email",{body:JSON.stringify(t),headers:{"content-type":"application/json"},method:"PATCH"}))}function c(e,t){const n={};for(const o in t){if("web"!==o&&"recentSearches"!==o)continue;const e=o,r=t[e];n[e]=null!=r&&"object"===typeof r?JSON.stringify(r):r}return(0,o.Ge)(e("{{vroomOrigin}}/{{apiVersion2}}/drive/userPreferences/featureSettings",{body:JSON.stringify(n),headers:{"content-type":"application/json"},method:"PATCH"})).then((e=>(d(e),e)))}function d(e){const t=["web"];for(const n of t)n in e&&(e[n]=JSON.parse(e[n]))}},81284:(e,t,n)=>{n.d(t,{JB:()=>x,NP:()=>d,O0:()=>a,P5:()=>l,Tb:()=>i,Ti:()=>p,Xl:()=>v,Zd:()=>g,a0:()=>s,k:()=>f,lX:()=>m,nk:()=>c,re:()=>u});var o=n(22658),r=n(98444);const a={authOrigin:"",badgerApiOrigin:"https://api-badgerp.svc.ms",feedbackOrigin:"https://storage.live.com",graphOrigin:"https://graph.microsoft.com",odcOrigin:"https://storage.live.com",vroomOrigin:"https://api.onedrive.com",searchOrigin:"https://api.onedrive.com"},i={authOrigin:"",badgerApiOrigin:"https://api-badgerp.svc.ms",feedbackOrigin:"https://storage.live.com",graphOrigin:"https://graph.microsoft.com",odcOrigin:"https://storage.live.com",vroomOrigin:"https://my.microsoftpersonalcontent.com",searchOrigin:"https://api.onedrive.com"},s={authOrigin:"",badgerApiOrigin:"https://api-badgerp.svc.ms",feedbackOrigin:"https://storage.live.com",graphOrigin:"https://graph.microsoft.com",odcOrigin:"https://storage.live.com",vroomOrigin:"https://my.msftsptest.com",searchOrigin:"https://my.msftsptest.com"},l={apiVersion1:"v1.0",apiVersion2:"v1.0",accountVersion:"v2.1",downloadVersion:"v1.0",favoritesVersion:"v2.1",peopleVersion:"v2.1"},c={apiVersion1:"_api/v2.0",apiVersion2:"_api/v2.1",accountVersion:"_api/v2.1",downloadVersion:"_api/v2.1",favoritesVersion:"_api/v2.1",peopleVersion:"_api/v2.1"},d={"api.onedrive.com":{badger:!0,scope:"OneDrive.ReadWrite",supportsAccessParam:!0,supportsUMP:!0},"graph.microsoft.com":{scope:"User.Read"},"my.microsoftpersonalcontent.com":{badger:!0,scope:"OneDrive.ReadWrite",supportsUMP:!0},"my.msftsptest.com":{badger:!0,scope:"onedrive-devbox.readwrite",supportsUMP:!0},"storage.live.com":{scope:"OneDrive.ReadWrite",supportsAccessParam:!0}};function u(e,t){const n=p(null!==t&&void 0!==t?t:{}),o=Array.from(n.entries());for(let r=0;r<o.length;r++){const t=o[r];e.searchParams.append(t[0],t[1])}}const h=/'/g;function m(e){return e.replace(h,"''")}function p(e){const{params:t,format:n,pretranscode:a="0",transcodeahead:i="0"}=e,s=new URLSearchParams(t);return s.append("format",n||((0,r.BM)()?"dash":"hls")),s.append("pretranscode",a),s.append("transcodeahead",i),s.append("part","index"),s.append("ccat","2"),s.append("psi",(0,o.Z)()),s}const v={height:512,width:512};function f(e){const{image:t,thumbnails:n,video:o}=e;let r;e.photo||(e.photo={}),r=t&&t.height&&t.width?{height:t.height,width:t.width}:o?{height:o.height,width:o.width}:n?{height:n[0].large.height,width:n[0].large.width}:v;const a=e.location;if(a){const e=a.coordinates;e&&(a.altitude=e.altitude,a.latitude=e.latitude,a.longitude=e.longitude)}return Object.assign(e,{dimensions:r})}function g(e){const t=[...e.value].map((e=>(e.grantedToV2&&(e.grantedTo={user:e.grantedToV2.siteUser}),e)));return{...e,value:t}}function x(e){const{featureSettings:t={}}=e,{faceExperience:n,florenceSearch:o,florenceSearchIngestion:r,...a}=t;return(n||o)&&(e.photo||(e.photo={}),n&&(e.photo.faceExperience=!0),o&&(e.photo.florenceSearch=!0)),e.featureSettings=a,e.photo&&(e.photo.autoTagging=!1!==e.photo.autoTagging),e}},16499:(e,t,n)=>{n.d(t,{iC:()=>p,yt:()=>v});var o=n(41566),r=n(87501),a=n(23706),i=n(67280),s=n(26746),l=n(72243),c=n(7803),d=n(60946),u=n(48090),h=(n(99649),n(82435));function m(e){const{children:t,details:n,height:d,id:m,type:p,width:v}=e,{className:f,href:g,subtitle:x,title:C}=n,w=l.useContext(o.FocusGroupContext),b=l.useContext(r.Vn),y=l.useContext(c.k);return(0,h.jsxs)("a",{"aria-label":C,className:(0,i.iv)("bolt-carousel-item",f,"tile-overlay-container relative flex-row flex-align-start flex-justify-center rounded-12"),"data-focuszone":b.focuszoneId,href:g,id:(0,i.AS)(m),onClick:e=>{y.navigate(e,"navigateCard",{telemetryProperties:{type:p}})},onFocus:()=>{w.onFocus(m)},style:{height:d,width:v},tabIndex:(0,s.p)({id:m},w),children:[t,(0,h.jsx)(u.D,{className:"flex-justify-end",children:(0,h.jsxs)("div",{"aria-hidden":!0,className:"flex-column padding-12 overflow-hidden pointer-events-auto",children:[(0,h.jsx)(a.Tooltip,{overflowOnly:!0,children:(0,h.jsx)("span",{className:"bolt-carousel-item-title font-weight-semibold text-ellipsis",children:C})}),(0,h.jsx)(a.Tooltip,{overflowOnly:!0,children:(0,h.jsx)("span",{className:"bolt-carousel-item-subtitle body-s text-ellipsis",children:x})})]})})]},g)}function p(e){const{details:t,...n}=e,{url:o,...r}=t;return(0,h.jsx)(m,{details:r,...n,children:(0,h.jsx)("img",{alt:"",className:"bolt-carousel-image",src:t.url})})}function v(e){const{details:t,height:n,width:o,...r}=e,{getPhotoContent:a,photo:s,...l}=t;return(0,h.jsx)(m,{details:l,height:n,width:o,...r,children:(0,h.jsx)(d.P,{"aria-hidden":!0,className:(0,i.iv)("bolt-carousel-image",s.dimensions.height>1.25*s.dimensions.width?"portrait-mode":"landscape-mode"),dimensions:{height:n,width:o},downloadScale:{height:Math.min(2*n,s.dimensions.height),width:Math.min(2*o,s.dimensions.width)},getPhotoContent:a,fixed:!0,photo:s,transition:!1})})}},31770:(e,t,n)=>{n.d(t,{K:()=>m});var o=n(75894),r=n(72243),a=n(14766),i=n(13812),s=n(98540),l=n(960),c=n(82435);const{Active:d,Inactive:u,ToggleCompactView:h}=window.Resources.Common;function m(e){const{className:t,role:n="menuitem"}=e,m=r.useContext(i.S),p=r.useContext(a.A),v=(0,s.mU)(m.featureEnabled("showCompactLayout"));return(0,c.jsx)(o.Button,{ariaLabel:`${h}, ${v?d:u}`,className:t,iconProps:{render:e=>v?(0,c.jsx)(l.Ry,{className:e}):(0,c.jsx)(l.DZ,{className:e})},id:"compact",onClick:()=>{p.dispatchEvent("telemetryAvailable",{action:"userAction",feature:"showCompactLayout",name:"toggleFeature",value:!v}),m.setFeatureEnabled("showCompactLayout",!v)},role:n,subtle:!0})}},27825:(e,t,n)=>{n.d(t,{C:()=>l});var o=n(23706),r=n(67280),a=n(72243),i=n(43834),s=n(82435);function l(e){const{className:t,dateRange:{endDate:n,startDate:l}}=e,c=a.useContext(i.K),d=n.getFullYear()===l.getFullYear()?n.getMonth()===l.getMonth()&&n.getDate()===l.getDate()?c.formatDate(l,"long"):`${c.formatDate(n,"short")} - ${c.formatDate(l,"long")}`:`${c.formatDate(n,"long")} - ${c.formatDate(l,"long")}`;return(0,s.jsx)(o.Tooltip,{overflowOnly:!0,children:(0,s.jsx)("time",{className:(0,r.iv)(t,"text-ellipsis"),children:d})})}},960:(e,t,n)=>{n.d(t,{BB:()=>m,BY:()=>_,CY:()=>F,DZ:()=>u,Dg:()=>O,F9:()=>w,FS:()=>i,Fc:()=>$,HC:()=>U,HG:()=>h,Hs:()=>E,LG:()=>Ce,LX:()=>me,Lh:()=>s,Lw:()=>M,MC:()=>c,Pz:()=>z,QE:()=>xe,QS:()=>j,Rk:()=>R,Ry:()=>b,SK:()=>T,UW:()=>p,UZ:()=>d,Ux:()=>ce,VB:()=>se,Vw:()=>pe,W4:()=>H,WW:()=>S,XG:()=>x,ZJ:()=>l,ZS:()=>ue,Zr:()=>ae,_j:()=>y,_y:()=>Q,d:()=>A,dy:()=>g,dz:()=>Z,eh:()=>Y,fB:()=>he,ff:()=>fe,g7:()=>V,gE:()=>ne,gt:()=>P,hY:()=>te,it:()=>de,jH:()=>le,jj:()=>C,kj:()=>a,ky:()=>k,lE:()=>J,lO:()=>W,lQ:()=>ee,mB:()=>ie,my:()=>D,nk:()=>ve,oO:()=>q,ol:()=>re,qn:()=>G,rj:()=>N,sh:()=>X,t3:()=>B,tE:()=>f,tv:()=>v,v3:()=>ge,wS:()=>K,w_:()=>oe,wn:()=>L,y_:()=>I});var o=n(67280),r=(n(72243),n(82435));function a(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon addition-icon",t),children:[(0,r.jsx)("rect",{y:"16",width:"36",height:"4",rx:"2"}),(0,r.jsx)("rect",{x:"16",width:"4",height:"36",rx:"2"})]})}function i(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon addition-circle-icon",t),children:[(0,r.jsx)("path",{d:"M10 6.5C10 6.22388 10.2238 6 10.5 6C10.7762 6 11 6.22388 11 6.5V10H14.5C14.7762 10 15 10.2239 15 10.5C15 10.7761 14.7762 11 14.5 11H11V14.5C11 14.7761 10.7762 15 10.5 15C10.2238 15 10 14.7761 10 14.5V11H6.5C6.22385 11 6 10.7761 6 10.5C6 10.2239 6.22385 10 6.5 10H10V6.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10.5C19 15.1944 15.1944 19 10.5 19C5.80557 19 2 15.1944 2 10.5C2 5.8056 5.80557 2 10.5 2C15.1944 2 19 5.8056 19 10.5ZM18 10.5C18 14.6422 14.6422 18 10.5 18C6.35785 18 3 14.6422 3 10.5C3 6.35785 6.35785 3 10.5 3C14.6422 3 18 6.35785 18 10.5Z"})]})}function s(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon add-photos-icon",t),children:(0,r.jsx)("path",{d:"M2 6C2 4.89543 2.89543 4 4 4H16C17.1046 4 18 4.89543 18 6V14C18 15.1046 17.1046 16 16 16H10.4003C10.5622 15.6832 10.6944 15.3486 10.793 15H16C16.5523 15 17 14.5523 17 14V6C17 5.44772 16.5523 5 16 5H6V8.02242C5.83532 8.00758 5.66854 8 5.5 8C5.33146 8 5.16468 8.00758 5 8.02242V5H4C3.44772 5 3 5.44772 3 6V8.59971C2.64222 8.78261 2.30711 9.00353 2 9.25716V6ZM13.5 11H10.4003C10.2174 10.6422 9.99647 10.3071 9.74284 10H13.5C13.7761 10 14 9.77614 14 9.5V8.5C14 8.22386 13.7761 8 13.5 8H9.5C9.22386 8 9 8.22386 9 8.5V9.25716C8.69289 9.00353 8.35778 8.78261 8 8.59971V8.5C8 7.67157 8.67157 7 9.5 7H13.5C14.3284 7 15 7.67157 15 8.5V9.5C15 10.3284 14.3284 11 13.5 11ZM10 13.5C10 15.9853 7.98528 18 5.5 18C3.01472 18 1 15.9853 1 13.5C1 11.0147 3.01472 9 5.5 9C7.98528 9 10 11.0147 10 13.5ZM6 11.5C6 11.2239 5.77614 11 5.5 11C5.22386 11 5 11.2239 5 11.5V13H3.5C3.22386 13 3 13.2239 3 13.5C3 13.7761 3.22386 14 3.5 14H5L5 15.5C5 15.7761 5.22386 16 5.5 16C5.77614 16 6 15.7761 6 15.5V14H7.5C7.77614 14 8 13.7761 8 13.5C8 13.2239 7.77614 13 7.5 13H6V11.5Z"})})}function l(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon arrow-forward-icon",t),children:(0,r.jsx)("path",{d:"M-.064 15.04H28.16L15.808 2.688l1.408-1.408L32 16.064 17.216 30.72l-1.408-1.408L28.16 17.024H-.064V15.04z"})})}function c(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon",t),children:(0,r.jsx)("path",{d:"M10.5 19.5858L4.20711 13.2929C3.81658 12.9024 3.18342 12.9024 2.79289 13.2929C2.40237 13.6834 2.40237 14.3166 2.79289 14.7071L9.79289 21.7071C10.1834 22.0976 10.8166 22.0976 11.2071 21.7071L25.2071 7.70711C25.5976 7.31658 25.5976 6.68342 25.2071 6.29289C24.8166 5.90237 24.1834 5.90237 23.7929 6.29289L10.5 19.5858Z"})})}function d(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon clear-icon",t),children:(0,r.jsx)("path",{d:"M4.58859 4.71569L4.64645 4.64645C4.82001 4.47288 5.08944 4.4536 5.28431 4.58859L5.35355 4.64645L10 9.293L14.6464 4.64645C14.8417 4.45118 15.1583 4.45118 15.3536 4.64645C15.5488 4.84171 15.5488 5.15829 15.3536 5.35355L10.707 10L15.3536 14.6464C15.5271 14.82 15.5464 15.0894 15.4114 15.2843L15.3536 15.3536C15.18 15.5271 14.9106 15.5464 14.7157 15.4114L14.6464 15.3536L10 10.707L5.35355 15.3536C5.15829 15.5488 4.84171 15.5488 4.64645 15.3536C4.45118 15.1583 4.45118 14.8417 4.64645 14.6464L9.293 10L4.64645 5.35355C4.47288 5.17999 4.4536 4.91056 4.58859 4.71569L4.64645 4.64645L4.58859 4.71569Z"})})}function u(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",...n,className:(0,o.iv)("svg-icon compact-icon",t),children:(0,r.jsx)("path",{d:"M9.5 1C9.77614 1 10 1.22386 10 1.5V5.29289L11.1464 4.14645C11.3417 3.95118 11.6583 3.95118 11.8536 4.14645C12.0488 4.34171 12.0488 4.65829 11.8536 4.85355L9.85355 6.85355C9.65829 7.04882 9.34171 7.04882 9.14645 6.85355L7.14645 4.85355C6.95118 4.65829 6.95118 4.34171 7.14645 4.14645C7.34171 3.95118 7.65829 3.95118 7.85355 4.14645L9 5.29289V1.5C9 1.22386 9.22386 1 9.5 1ZM3.5 9.5C3.5 9.22386 3.72386 9 4 9H15C15.2761 9 15.5 9.22386 15.5 9.5C15.5 9.77614 15.2761 10 15 10H4C3.72386 10 3.5 9.77614 3.5 9.5ZM10 13.7071V17.5C10 17.7761 9.77614 18 9.5 18C9.22386 18 9 17.7761 9 17.5V13.7071L7.85355 14.8536C7.65829 15.0488 7.34171 15.0488 7.14645 14.8536C6.95118 14.6583 6.95118 14.3417 7.14645 14.1464L9.14645 12.1464C9.34171 11.9512 9.65829 11.9512 9.85355 12.1464L11.8536 14.1464C12.0488 14.3417 12.0488 14.6583 11.8536 14.8536C11.6583 15.0488 11.3417 15.0488 11.1464 14.8536L10 13.7071Z"})})}function h(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon delete-icon",t),children:(0,r.jsx)("path",{d:"M11.5 4C11.5 3.17157 10.8284 2.5 10 2.5C9.17157 2.5 8.5 3.17157 8.5 4H7.5C7.5 2.61929 8.61929 1.5 10 1.5C11.3807 1.5 12.5 2.61929 12.5 4H17C17.2761 4 17.5 4.22386 17.5 4.5C17.5 4.77614 17.2761 5 17 5H16.446L15.1499 16.2292C15.0335 17.2384 14.179 18 13.1631 18H6.83688C5.821 18 4.9665 17.2384 4.85006 16.2292L3.553 5H3C2.75454 5 2.55039 4.82312 2.50806 4.58988L2.5 4.5C2.5 4.22386 2.72386 4 3 4H11.5ZM15.438 5H4.561L5.84347 16.1146C5.90169 16.6192 6.32894 17 6.83688 17H13.1631C13.6711 17 14.0983 16.6192 14.1565 16.1146L15.438 5ZM8.5 7.5C8.74546 7.5 8.94961 7.65477 8.99194 7.85886L9 7.9375V14.0625C9 14.3041 8.77614 14.5 8.5 14.5C8.25454 14.5 8.05039 14.3452 8.00806 14.1411L8 14.0625V7.9375C8 7.69588 8.22386 7.5 8.5 7.5ZM11.5 7.5C11.7455 7.5 11.9496 7.65477 11.9919 7.85886L12 7.9375V14.0625C12 14.3041 11.7761 14.5 11.5 14.5C11.2545 14.5 11.0504 14.3452 11.0081 14.1411L11 14.0625V7.9375C11 7.69588 11.2239 7.5 11.5 7.5Z"})})}function m(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",...n,xmlns:"http://www.w3.org/2000/svg",className:(0,o.iv)("svg-icon document-icon",t),children:(0,r.jsx)("path",{d:"M6 2C4.89543 2 4 2.89543 4 4V16C4 17.1046 4.89543 18 6 18H14C15.1046 18 16 17.1046 16 16V7.41421C16 7.01639 15.842 6.63486 15.5607 6.35355L11.6464 2.43934C11.3651 2.15804 10.9836 2 10.5858 2H6ZM5 4C5 3.44772 5.44772 3 6 3H10V6.5C10 7.32843 10.6716 8 11.5 8H15V16C15 16.5523 14.5523 17 14 17H6C5.44772 17 5 16.5523 5 16V4ZM14.7929 7H11.5C11.2239 7 11 6.77614 11 6.5V3.20711L14.7929 7Z"})})}function p(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon download-icon",t),children:(0,r.jsx)("path",{d:"M15.5 16.9988C15.7761 16.9988 16 17.2226 16 17.4988C16 17.7442 15.8231 17.9484 15.5899 17.9907L15.5 17.9988H4.5C4.22386 17.9988 4 17.7749 4 17.4988C4 17.2533 4.17688 17.0492 4.41012 17.0068L4.5 16.9988H15.5ZM10.0001 2.00098C10.2456 2.00098 10.4497 2.17798 10.492 2.41124L10.5 2.50112L10.496 14.295L14.1414 10.6466C14.3148 10.4729 14.5842 10.4534 14.7792 10.5882L14.8485 10.646C15.0222 10.8194 15.0418 11.0888 14.907 11.2838L14.8492 11.3531L10.3574 15.8531C10.285 15.9257 10.1957 15.9714 10.1021 15.9901L9.99608 15.9999C9.83511 15.9999 9.69192 15.9237 9.60051 15.8056L5.14386 11.3537C4.94846 11.1586 4.94823 10.842 5.14336 10.6466C5.3168 10.4729 5.58621 10.4534 5.78117 10.5883L5.85046 10.6461L9.496 14.287L9.5 2.50083C9.50008 2.22469 9.724 2.00098 10.0001 2.00098Z"})})}function v(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon diamond-icon",t),children:(0,r.jsx)("path",{d:"M5.5 3C5.32437 3 5.16162 3.09215 5.07126 3.24275L2.07126 8.24275C1.96184 8.42511 1.97975 8.65672 2.11589 8.82009L9.61589 17.8201C9.71089 17.9341 9.85161 18 10 18C10.1484 18 10.2891 17.9341 10.3841 17.8201L17.8841 8.82009C18.0203 8.65672 18.0382 8.42511 17.9288 8.24275L14.9288 3.24275C14.8384 3.09215 14.6756 3 14.5 3H5.5ZM3.3831 8L5.7831 4H7.76154L6.16154 8H3.3831ZM6.15803 9L8.42472 14.8286L3.56752 9H6.15803ZM10 16.1203L7.23099 9H12.769L10 16.1203ZM7.23858 8L8.83858 4H11.1614L12.7614 8H7.23858ZM13.8385 8L12.2385 4H14.2169L16.6169 8H13.8385ZM13.842 9H16.4325L11.5753 14.8287L13.842 9Z"})})}function f(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon",t),children:(0,r.jsx)("path",{d:"M5.70711 23.7071C5.31658 24.0976 4.68342 24.0976 4.29289 23.7071C3.90237 23.3166 3.90237 22.6834 4.29289 22.2929L12.5858 14L4.29289 5.7071C3.90237 5.31658 3.90237 4.68341 4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L14 12.5858L22.2929 4.29289C22.6834 3.90237 23.3166 3.90237 23.7071 4.29289C24.0976 4.68342 24.0976 5.31658 23.7071 5.70711L15.4142 14L23.7071 22.2929C24.0976 22.6834 24.0976 23.3166 23.7071 23.7071C23.3166 24.0976 22.6834 24.0976 22.2929 23.7071L14 15.4142L5.70711 23.7071Z"})})}function g(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",...n,xmlns:"http://www.w3.org/2000/svg",className:(0,o.iv)("svg-icon emoji-icon",t),children:(0,r.jsx)("path",{d:"M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3ZM7.15467 12.4273C8.66415 13.9463 11.0877 14.0045 12.6671 12.5961L12.8453 12.4273C13.04 12.2314 13.3566 12.2304 13.5524 12.4251C13.7265 12.5981 13.7467 12.8674 13.6123 13.0627L13.5547 13.1322L13.5323 13.1545C11.5691 15.1054 8.39616 15.0953 6.44533 13.1322C6.25069 12.9363 6.25169 12.6197 6.44757 12.4251C6.64344 12.2304 6.96002 12.2314 7.15467 12.4273ZM12.5 7.5C13.0523 7.5 13.5 7.94772 13.5 8.5C13.5 9.05228 13.0523 9.5 12.5 9.5C11.9477 9.5 11.5 9.05228 11.5 8.5C11.5 7.94772 11.9477 7.5 12.5 7.5ZM7.5 7.5C8.05228 7.5 8.5 7.94772 8.5 8.5C8.5 9.05228 8.05228 9.5 7.5 9.5C6.94772 9.5 6.5 9.05228 6.5 8.5C6.5 7.94772 6.94772 7.5 7.5 7.5Z"})})}function x(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon enter-fullscreen-icon",t),children:(0,r.jsx)("path",{d:"M12.748 3.00146L20.3018 3.00198L20.402 3.0159L20.5009 3.04349L20.562 3.06943C20.641 3.10432 20.7149 3.15485 20.7798 3.21978L20.8206 3.26382L20.8811 3.3453L20.9183 3.41032L20.957 3.50063L20.9761 3.56476L20.9897 3.6287L20.999 3.7219L20.9996 11.2554C20.9996 11.6696 20.6638 12.0054 20.2496 12.0054C19.8699 12.0054 19.5561 11.7232 19.5064 11.3571L19.4996 11.2554L19.499 5.55946L5.55905 19.5045L11.2496 19.5054C11.6293 19.5054 11.9431 19.7875 11.9927 20.1536L11.9996 20.2554C11.9996 20.635 11.7174 20.9488 11.3513 20.9985L11.2496 21.0054L3.71372 21.0046L3.68473 21.0017C3.61867 20.9971 3.55596 20.9833 3.49668 20.9622L3.40655 20.9233L3.38936 20.9128C3.18516 20.8024 3.03871 20.5993 3.00529 20.36L2.99805 20.2554V12.7515C2.99805 12.3373 3.33383 12.0015 3.74805 12.0015C4.12774 12.0015 4.44154 12.2836 4.4912 12.6497L4.49805 12.7515V18.4435L18.438 4.50046L12.748 4.50146C12.3684 4.50146 12.0546 4.21931 12.0049 3.85324L11.998 3.75146C11.998 3.37177 12.2802 3.05797 12.6463 3.00831L12.748 3.00146Z"})})}function C(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon error-icon",t),children:(0,r.jsx)("path",{d:"M12 4C12.7344 4 13.4427 4.09635 14.125 4.28906C14.8073 4.47656 15.4427 4.74479 16.0312 5.09375C16.625 5.44271 17.1641 5.86198 17.6484 6.35156C18.138 6.83594 18.5573 7.375 18.9062 7.96875C19.2552 8.55729 19.5234 9.19271 19.7109 9.875C19.9036 10.5573 20 11.2656 20 12C20 12.7344 19.9036 13.4427 19.7109 14.125C19.5234 14.8073 19.2552 15.4453 18.9062 16.0391C18.5573 16.6276 18.138 17.1667 17.6484 17.6562C17.1641 18.1406 16.625 18.5573 16.0312 18.9062C15.4427 19.2552 14.8073 19.526 14.125 19.7188C13.4427 19.9062 12.7344 20 12 20C11.2656 20 10.5573 19.9062 9.875 19.7188C9.19271 19.526 8.55469 19.2552 7.96094 18.9062C7.3724 18.5573 6.83333 18.1406 6.34375 17.6562C5.85938 17.1667 5.44271 16.6276 5.09375 16.0391C4.74479 15.4453 4.47396 14.8073 4.28125 14.125C4.09375 13.4427 4 12.7344 4 12C4 11.2656 4.09375 10.5573 4.28125 9.875C4.47396 9.19271 4.74479 8.55729 5.09375 7.96875C5.44271 7.375 5.85938 6.83594 6.34375 6.35156C6.83333 5.86198 7.3724 5.44271 7.96094 5.09375C8.55469 4.74479 9.19271 4.47656 9.875 4.28906C10.5573 4.09635 11.2656 4 12 4ZM12.8828 12L15.5547 9.32812L14.6719 8.44531L12 11.1172L9.32812 8.44531L8.44531 9.32812L11.1172 12L8.44531 14.6719L9.32812 15.5547L12 12.8828L14.6719 15.5547L15.5547 14.6719L12.8828 12Z"})})}function w(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon exit-fullscreen-icon",t),children:(0,r.jsx)("path",{d:"M21.7776 2.22205C22.0437 2.48828 22.0679 2.90495 21.8503 3.19858L21.7778 3.28271L15.555 9.50644L21.2476 9.50739C21.6273 9.50739 21.9411 9.78954 21.9908 10.1556L21.9976 10.2574C21.9976 10.6371 21.7155 10.9509 21.3494 11.0005L21.2476 11.0074L13.6973 11.005L13.6824 11.0038C13.6141 10.9986 13.5486 10.984 13.487 10.9614L13.3892 10.9159C13.1842 10.8058 13.037 10.6023 13.0034 10.3623L12.9961 10.2574V2.7535C12.9961 2.33929 13.3319 2.0035 13.7461 2.0035C14.1258 2.0035 14.4396 2.28565 14.4893 2.65173L14.4961 2.7535L14.496 8.44444L20.7178 2.22217C21.0104 1.92925 21.4849 1.92919 21.7776 2.22205ZM11.0025 13.7547V21.2586C11.0025 21.6728 10.6667 22.0086 10.2525 22.0086C9.8728 22.0086 9.55901 21.7265 9.50935 21.3604L9.5025 21.2586L9.502 15.5634L3.28039 21.7794C2.98753 22.0723 2.51266 22.0724 2.21973 21.7795C1.95343 21.5133 1.92918 21.0966 2.147 20.803L2.21961 20.7189L8.44 14.5044L2.75097 14.5047C2.37128 14.5047 2.05748 14.2226 2.00782 13.8565L2.00097 13.7547C2.00097 13.3405 2.33676 13.0047 2.75097 13.0047L10.3053 13.0066L10.3788 13.0153L10.4763 13.0387L10.5291 13.0574L10.6154 13.0982L10.7039 13.1557C10.7598 13.1979 10.8095 13.2477 10.8517 13.3035L10.9185 13.4095L10.9592 13.503L10.9806 13.5739L10.9919 13.6286L10.998 13.6864L10.9986 13.678L11.0025 13.7547Z"})})}function b(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",...n,className:(0,o.iv)("svg-icon expanded-icon",t),children:[(0,r.jsx)("path",{d:"M5 10.5C5 10.2239 5.22386 10 5.5 10H15.5C15.7761 10 16 10.2239 16 10.5C16 10.7761 15.7761 11 15.5 11H5.5C5.22386 11 5 10.7761 5 10.5Z"}),(0,r.jsx)("path",{d:"M10.8573 1.15018C10.7665 1.05751 10.64 1 10.5 1C10.36 1 10.2335 1.05751 10.1427 1.15019L10.1394 1.15353L8.14645 3.14645C7.95118 3.34172 7.95118 3.6583 8.14645 3.85356C8.34171 4.04882 8.65829 4.04882 8.85355 3.85356L10 2.70711V7.5C10 7.77614 10.2239 8 10.5 8C10.7761 8 11 7.77614 11 7.5V2.70711L12.1464 3.85356C12.3417 4.04882 12.6583 4.04882 12.8536 3.85356C13.0488 3.6583 13.0488 3.34172 12.8536 3.14645L10.8606 1.15353L10.8573 1.15018Z"}),(0,r.jsx)("path",{d:"M10.1427 19.8498C10.2335 19.9425 10.36 20 10.5 20C10.64 20 10.7665 19.9425 10.8573 19.8498L10.8606 19.8465L12.8536 17.8535C13.0488 17.6583 13.0488 17.3417 12.8536 17.1464C12.6583 16.9512 12.3417 16.9512 12.1464 17.1464L11 18.2929L11 13.5C11 13.2239 10.7761 13 10.5 13C10.2239 13 10 13.2239 10 13.5L10 18.2929L8.85355 17.1464C8.65829 16.9512 8.34171 16.9512 8.14645 17.1464C7.95118 17.3417 7.95118 17.6583 8.14645 17.8535L10.1394 19.8465L10.1427 19.8498Z"})]})}function y(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...n,className:(0,o.iv)("svg-icon eye-off-icon",t),children:(0,r.jsx)("path",{d:"M2.22 2.22a.75.75 0 0 0-.073.976l.073.084 4.034 4.035a9.986 9.986 0 0 0-3.955 5.75.75.75 0 0 0 1.455.364 8.49 8.49 0 0 1 3.58-5.034l1.81 1.81A4 4 0 0 0 14.8 15.86l5.919 5.92a.75.75 0 0 0 1.133-.977l-.073-.084-6.113-6.114.001-.002-1.2-1.198-2.87-2.87h.002L8.719 7.658l.001-.002-1.133-1.13L3.28 2.22a.75.75 0 0 0-1.06 0Zm7.984 9.045 3.535 3.536a2.5 2.5 0 0 1-3.535-3.535ZM12 5.5c-1 0-1.97.148-2.889.425l1.237 1.236a8.503 8.503 0 0 1 9.899 6.272.75.75 0 0 0 1.455-.363A10.003 10.003 0 0 0 12 5.5Zm.195 3.51 3.801 3.8a4.003 4.003 0 0 0-3.801-3.8Z"})})}function j(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",...n,className:(0,o.iv)("svg-icon file-name-icon",t),children:(0,r.jsx)("path",{d:"M4 6C4 4.34315 5.34315 3 7 3H13C14.6569 3 16 4.34315 16 6V12C16 13.6569 14.6569 15 13 15H7C5.34315 15 4 13.6569 4 12V6ZM7 4C5.89543 4 5 4.89543 5 6V12C5 13.1046 5.89543 14 7 14H13C14.1046 14 15 13.1046 15 12V6C15 4.89543 14.1046 4 13 4H7ZM4 17.5C4 17.2239 4.22386 17 4.5 17H15.5C15.7761 17 16 17.2239 16 17.5C16 17.7761 15.7761 18 15.5 18H4.5C4.22386 18 4 17.7761 4 17.5Z"})})}function L(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon exit-fullscreen-icon",t),children:(0,r.jsx)("path",{d:"M7.5 13H12.5C12.7761 13 13 13.2239 13 13.5C13 13.7455 12.8231 13.9496 12.5899 13.9919L12.5 14H7.5C7.22386 14 7 13.7761 7 13.5C7 13.2545 7.17688 13.0504 7.41012 13.0081L7.5 13H12.5H7.5ZM5.5 9H14.5C14.7761 9 15 9.22386 15 9.5C15 9.74546 14.8231 9.94961 14.5899 9.99194L14.5 10H5.5C5.22386 10 5 9.77614 5 9.5C5 9.25454 5.17688 9.05039 5.41012 9.00806L5.5 9H14.5H5.5ZM3.5 5H16.5C16.7761 5 17 5.22386 17 5.5C17 5.74546 16.8231 5.94961 16.5899 5.99194L16.5 6H3.5C3.22386 6 3 5.77614 3 5.5C3 5.25454 3.17688 5.05039 3.41012 5.00806L3.5 5H16.5H3.5Z"})})}function P(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon folder-icon",t),children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 5L8.43933 3.43935C8.15802 3.15804 7.77649 3 7.37869 3H4.5C3.11929 3 2 4.11929 2 5.5V14.5C2 15.8807 3.11929 17 4.5 17H15.5C16.8807 17 18 15.8807 18 14.5V7.5C18 6.11929 16.8807 5 15.5 5H10ZM3 6V5.5C3 4.67157 3.67157 4 4.5 4H7.37869C7.51129 4 7.63846 4.05267 7.73224 4.14645L8.58578 5L7.73224 5.85355C7.63846 5.94733 7.51129 6 7.37869 6H3ZM3 7V14.5C3 15.3284 3.67157 16 4.5 16H15.5C16.3284 16 17 15.3284 17 14.5V7.5C17 6.67157 16.3284 6 15.5 6H9L8.43933 6.56065C8.15802 6.84196 7.77649 7 7.37869 7H3Z"})})}function N(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon grid-icon",t),children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34315 4.34315 3 6 3H15C16.6569 3 18 4.34315 18 6V15C18 16.6569 16.6569 18 15 18H6C4.34315 18 3 16.6569 3 15V6ZM4 11V15C4 16.1046 4.89543 17 6 17H10V11H4ZM10 10H4V6C4 4.89543 4.89543 4 6 4H10V10ZM11 11V17H15C16.1046 17 17 16.1046 17 15V11H11ZM17 10H11V4H15C16.1046 4 17 4.89543 17 6V10Z"})})}function k(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",...n,className:(0,o.iv)("svg-icon group-icon",t),children:(0,r.jsx)("path",{d:"M11.5 7.5C12.0523 7.5 12.5 7.05228 12.5 6.5C12.5 5.94772 12.0523 5.5 11.5 5.5C10.9477 5.5 10.5 5.94772 10.5 6.5C10.5 7.05228 10.9477 7.5 11.5 7.5ZM3 6C3 4.34315 4.34315 3 6 3L12 3C13.6569 3 15 4.34315 15 6L15 12C15 13.6569 13.6569 15 12 15L6 15C4.34315 15 3 13.6569 3 12L3 6ZM6 4C4.89543 4 4 4.89543 4 6L4 12C4 12.3709 4.10096 12.7182 4.27691 13.016L7.58576 9.70712C8.36681 8.92608 9.63314 8.92608 10.4142 9.70712L13.7231 13.016C13.899 12.7182 14 12.3709 14 12L14 6C14 4.89543 13.1046 4 12 4L6 4ZM9.70708 10.4142C9.31656 10.0237 8.68339 10.0237 8.29287 10.4142L4.98401 13.7231C5.28177 13.899 5.62909 14 6 14L12 14C12.3709 14 12.7182 13.899 13.016 13.7231L9.70708 10.4142ZM8.00002 17C7.11152 17 6.31324 16.6138 5.76392 16H12.5C14.3122 16 15.8027 14.6228 15.982 12.8579C15.9939 12.7402 16 12.6208 16 12.5V5.76392C16.6138 6.31324 17 7.11152 17 8.00002V12.5C17 14.9853 14.9853 17 12.5 17H8.00002Z"})})}function S(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon help-icon",t),children:(0,r.jsx)("path",{d:"M10 3C7.79386 3 6 4.79386 6 7C6 7.27614 6.22386 7.5 6.5 7.5C6.77614 7.5 7 7.27614 7 7C7 5.34614 8.34614 4 10 4C11.6539 4 13 5.34614 13 7C13 8.2486 12.3078 8.86333 11.4246 9.62037L11.3935 9.64699C10.5328 10.3845 9.5 11.2695 9.5 13V13.5C9.5 13.7761 9.72386 14 10 14C10.2761 14 10.5 13.7761 10.5 13.5V13C10.5 11.7514 11.1922 11.1367 12.0754 10.3796L12.1065 10.353C12.9672 9.61545 14 8.73053 14 7C14 4.79386 12.2061 3 10 3ZM10 17C10.4142 17 10.75 16.6642 10.75 16.25C10.75 15.8358 10.4142 15.5 10 15.5C9.58579 15.5 9.25 15.8358 9.25 16.25C9.25 16.6642 9.58579 17 10 17Z"})})}function T(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon home-icon",t),children:(0,r.jsx)("path",{d:"M8.9975 2.38811C9.56767 1.87584 10.4323 1.87584 11.0025 2.38811L16.5025 7.32965C16.8191 7.61414 17 8.01977 17 8.44544V15.4996C17 16.328 16.3284 16.9996 15.5 16.9996H13C12.1716 16.9996 11.5 16.328 11.5 15.4996V11.9996C11.5 11.7234 11.2761 11.4996 11 11.4996H9C8.72386 11.4996 8.5 11.7234 8.5 11.9996V15.4996C8.5 16.328 7.82843 16.9996 7 16.9996H4.5C3.67157 16.9996 3 16.328 3 15.4996V8.44544C3 8.01977 3.18086 7.61414 3.4975 7.32965L8.9975 2.38811ZM10.3342 3.13197C10.1441 2.96122 9.85589 2.96122 9.66583 3.13197L4.16583 8.07351C4.06029 8.16834 4 8.30355 4 8.44544V15.4996C4 15.7757 4.22386 15.9996 4.5 15.9996H7C7.27614 15.9996 7.5 15.7757 7.5 15.4996V11.9996C7.5 11.1711 8.17157 10.4996 9 10.4996H11C11.8284 10.4996 12.5 11.1711 12.5 11.9996V15.4996C12.5 15.7757 12.7239 15.9996 13 15.9996H15.5C15.7761 15.9996 16 15.7757 16 15.4996V8.44544C16 8.30355 15.9397 8.16834 15.8342 8.07351L10.3342 3.13197Z"})})}function A(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon information-icon",t),children:(0,r.jsx)("path",{d:"M10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2ZM10 12.5C9.58579 12.5 9.25 12.8358 9.25 13.25C9.25 13.6642 9.58579 14 10 14C10.4142 14 10.75 13.6642 10.75 13.25C10.75 12.8358 10.4142 12.5 10 12.5ZM10 6C9.75454 6 9.55039 6.17688 9.50806 6.41012L9.5 6.5V11L9.50806 11.0899C9.55039 11.3231 9.75454 11.5 10 11.5C10.2455 11.5 10.4496 11.3231 10.4919 11.0899L10.5 11V6.5L10.4919 6.41012C10.4496 6.17688 10.2455 6 10 6Z"})})}function E(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon information-inverted-icon",t),children:(0,r.jsx)("path",{d:"M10.4921 8.91012C10.4497 8.67687 10.2456 8.49999 10.0001 8.49999C9.72397 8.49999 9.50011 8.72385 9.50011 8.99999V13.5021L9.50817 13.592C9.55051 13.8253 9.75465 14.0021 10.0001 14.0021C10.2763 14.0021 10.5001 13.7783 10.5001 13.5021V8.99999L10.4921 8.91012ZM10.7988 6.74999C10.7988 6.33578 10.463 5.99999 10.0488 5.99999C9.63461 5.99999 9.29883 6.33578 9.29883 6.74999C9.29883 7.16421 9.63461 7.49999 10.0488 7.49999C10.463 7.49999 10.7988 7.16421 10.7988 6.74999ZM18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10ZM3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10Z"})})}function M(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",...n,className:(0,o.iv)("svg-icon inline-header-icon",t),children:(0,r.jsx)("path",{d:"M14.5 3C15.8255 3 16.91 4.03154 16.9947 5.33562L17 5.5V14.5C17 15.8255 15.9685 16.91 14.6644 16.9947L14.5 17H5.5C4.17452 17 3.08996 15.9685 3.00532 14.6644L3 14.5L3 5.5C3 4.17452 4.03154 3.08996 5.33562 3.00532L5.5 3L14.5 3ZM16 7L4 7L4 14.5C4 15.2797 4.59489 15.9204 5.35554 15.9931L5.5 16L14.5 16C15.2797 16 15.9204 15.4051 15.9931 14.6445L16 14.5V7ZM11.5164 8.23437C12.0503 8.23437 12.4734 8.3763 12.7859 8.66016C13.0984 8.94401 13.2547 9.32812 13.2547 9.8125C13.2547 10.0911 13.1831 10.3392 13.0398 10.5566C12.8966 10.7741 12.7013 10.9453 12.4539 11.0703C12.7508 11.2083 12.9793 11.3971 13.1395 11.6367C13.2996 11.8763 13.3797 12.1471 13.3797 12.4492C13.3797 12.9492 13.2104 13.3457 12.8719 13.6387C12.5333 13.9316 12.0828 14.0781 11.5203 14.0781C10.9552 14.0781 10.5027 13.931 10.1629 13.6367C9.82305 13.3424 9.65312 12.9466 9.65312 12.4492C9.65312 12.1445 9.73385 11.8711 9.89531 11.6289C10.0568 11.3867 10.2833 11.2005 10.575 11.0703C10.3302 10.9453 10.1368 10.7741 9.99492 10.5566C9.85299 10.3392 9.78203 10.0911 9.78203 9.8125C9.78203 9.32812 9.93828 8.94401 10.2508 8.66016C10.5633 8.3763 10.9852 8.23438 11.5164 8.23437ZM8.49609 8.29297L8.49609 14H7.55078L7.55078 9.43359L6.15625 9.91016L6.15625 9.10938L8.375 8.29297H8.49609ZM11.5125 11.4609C11.2365 11.4609 11.0158 11.5469 10.8504 11.7187C10.685 11.8906 10.6023 12.1185 10.6023 12.4023C10.6023 12.681 10.6837 12.9036 10.8465 13.0703C11.0092 13.237 11.2339 13.3203 11.5203 13.3203C11.8068 13.3203 12.0301 13.2396 12.1902 13.0781C12.3504 12.9167 12.4305 12.6914 12.4305 12.4023C12.4305 12.1211 12.3465 11.8939 12.1785 11.7207C12.0105 11.5475 11.7885 11.4609 11.5125 11.4609ZM11.5164 8.99609C11.2742 8.99609 11.0828 9.07227 10.9422 9.22461C10.8016 9.37695 10.7312 9.58464 10.7312 9.84766C10.7312 10.1081 10.8022 10.3151 10.9441 10.4688C11.0861 10.6224 11.2781 10.6992 11.5203 10.6992C11.7625 10.6992 11.9546 10.6224 12.0965 10.4687C12.2384 10.3151 12.3094 10.1081 12.3094 9.84766C12.3094 9.60026 12.2378 9.39648 12.0945 9.23633C11.9513 9.07617 11.7586 8.99609 11.5164 8.99609ZM14.5 4L5.5 4C4.7203 4 4.07955 4.59489 4.00687 5.35554L4 5.5V6L16 6V5.5C16 4.7203 15.4051 4.07955 14.6445 4.00687L14.5 4Z"})})}function D(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon lightbulb-icon",t),children:(0,r.jsx)("path",{d:"M10 2C13.3137 2 16 4.59693 16 7.80041C16 9.47737 15.2546 11.0164 13.7961 12.3942C13.7324 12.4544 13.6831 12.5269 13.6512 12.6065L13.6251 12.6883L12.6891 16.6051C12.5048 17.3763 11.8236 17.935 11.0181 17.9947L10.8748 18H9.12546C8.30655 18 7.59 17.4839 7.34866 16.7385L7.31108 16.6047L6.37626 12.6886C6.34955 12.5766 6.29016 12.4745 6.20516 12.3942C4.8153 11.0819 4.07265 9.62354 4.00507 8.03903L4 7.80041L4.00321 7.60894C4.1077 4.49409 6.75257 2 10 2ZM12.045 15H7.955L8.27386 16.3344L8.30004 16.4305C8.39695 16.7298 8.67583 16.9517 9.0116 16.993L9.12546 17L10.8379 17.0007L10.9442 16.9974C11.2865 16.9721 11.5726 16.7609 11.6854 16.4718L11.7165 16.3727L12.045 15ZM10 3C7.36782 3 5.21188 4.95301 5.0151 7.41357L5.00307 7.62569L4.99977 7.77916L5.00416 7.99642C5.05977 9.30026 5.67758 10.5208 6.89167 11.6671C7.07995 11.8449 7.22191 12.0647 7.30572 12.3078L7.34894 12.4564L7.716 14H12.285L12.6722 12.3851L12.7231 12.2343C12.8091 12.0198 12.9409 11.8265 13.1094 11.6673C14.3825 10.4646 15 9.18054 15 7.80041C15 5.15693 12.7689 3 10 3Z"})})}function R(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon masonry-icon",t),children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3C4.34315 3 3 4.34315 3 6V15C3 16.6569 4.34315 18 6 18H15C16.6569 18 18 16.6569 18 15V6C18 4.34315 16.6569 3 15 3H6ZM17 12V6C17 4.89543 16.1046 4 15 4H11V12H17ZM10 8H4V15C4 16.1046 4.89543 17 6 17H10V8ZM11 13H17V15C17 16.1046 16.1046 17 15 17H11V13ZM6 4H10V7H4V6C4 4.89543 4.89543 4 6 4Z"})})}function I(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon motion-icon",t),children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.43925 2.15226C8.94444 2.05232 9.46636 2 10 2C10.5336 2 11.0556 2.05232 11.5608 2.15226C11.8316 2.20585 12.0078 2.4689 11.9542 2.73979C11.9006 3.01068 11.6376 3.18684 11.3667 3.13325C10.9251 3.04588 10.4681 3 10 3C9.53186 3 9.07494 3.04588 8.63332 3.13325C8.36243 3.18684 8.09938 3.01068 8.04579 2.73979C7.9922 2.4689 8.16836 2.20585 8.43925 2.15226ZM13.7516 3.4851C13.9053 3.25563 14.2158 3.19415 14.4453 3.34778C15.3175 3.9317 16.0683 4.68253 16.6522 5.55472C16.8058 5.78419 16.7444 6.09474 16.5149 6.24837C16.2854 6.40199 15.9749 6.34051 15.8213 6.11104C15.3101 5.34747 14.6525 4.68994 13.889 4.17874C13.6595 4.02512 13.598 3.71457 13.7516 3.4851ZM6.24837 3.4851C6.40199 3.71457 6.34051 4.02512 6.11104 4.17874C5.34747 4.68994 4.68994 5.34747 4.17874 6.11104C4.02512 6.34051 3.71457 6.40199 3.4851 6.24837C3.25563 6.09474 3.19415 5.78419 3.34778 5.55472C3.9317 4.68253 4.68253 3.9317 5.55472 3.34778C5.78419 3.19415 6.09474 3.25563 6.24837 3.4851ZM2.73979 8.04579C3.01068 8.09938 3.18684 8.36243 3.13325 8.63332C3.04588 9.07494 3 9.53186 3 10C3 10.4681 3.04588 10.9251 3.13325 11.3667C3.18684 11.6376 3.01068 11.9006 2.73979 11.9542C2.4689 12.0078 2.20585 11.8316 2.15226 11.5608C2.05232 11.0556 2 10.5336 2 10C2 9.46636 2.05232 8.94444 2.15226 8.43925C2.20585 8.16836 2.4689 7.9922 2.73979 8.04579ZM17.2602 8.04579C17.5311 7.9922 17.7941 8.16836 17.8477 8.43925C17.9477 8.94444 18 9.46636 18 10C18 10.5336 17.9477 11.0556 17.8477 11.5608C17.7941 11.8316 17.5311 12.0078 17.2602 11.9542C16.9893 11.9006 16.8132 11.6376 16.8668 11.3667C16.9541 10.9251 17 10.4681 17 10C17 9.53186 16.9541 9.07494 16.8668 8.63332C16.8132 8.36243 16.9893 8.09938 17.2602 8.04579ZM3.4851 13.7516C3.71457 13.598 4.02512 13.6595 4.17874 13.889C4.68994 14.6525 5.34747 15.3101 6.11104 15.8213C6.34051 15.9749 6.40199 16.2854 6.24837 16.5149C6.09474 16.7444 5.78419 16.8058 5.55472 16.6522C4.68253 16.0683 3.9317 15.3175 3.34778 14.4453C3.19415 14.2158 3.25563 13.9053 3.4851 13.7516ZM16.5149 13.7516C16.7444 13.9053 16.8058 14.2158 16.6522 14.4453C16.0683 15.3175 15.3175 16.0683 14.4453 16.6522C14.2158 16.8058 13.9053 16.7444 13.7516 16.5149C13.598 16.2854 13.6595 15.9749 13.889 15.8213C14.6525 15.3101 15.3101 14.6525 15.8213 13.889C15.9749 13.6595 16.2854 13.598 16.5149 13.7516ZM8.04579 17.2602C8.09938 16.9893 8.36243 16.8132 8.63332 16.8668C9.07494 16.9541 9.53186 17 10 17C10.4681 17 10.9251 16.9541 11.3667 16.8668C11.6376 16.8132 11.9006 16.9893 11.9542 17.2602C12.0078 17.5311 11.8316 17.7941 11.5608 17.8477C11.0556 17.9477 10.5336 18 10 18C9.46636 18 8.94444 17.9477 8.43925 17.8477C8.16836 17.7941 7.9922 17.5311 8.04579 17.2602Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 13C11.6569 13 13 11.6569 13 10C13 8.34315 11.6569 7 10 7C8.34315 7 7 8.34315 7 10C7 11.6569 8.34315 13 10 13ZM10 14C12.2091 14 14 12.2091 14 10C14 7.79086 12.2091 6 10 6C7.79086 6 6 7.79086 6 10C6 12.2091 7.79086 14 10 14Z"})]})}function V(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon mute-icon",t),children:(0,r.jsx)("path",{d:"M12.9195 3.31583C13.7255 2.59915 15 3.17138 15 4.25V19.7456C15 20.8243 13.7255 21.3965 12.9194 20.6797L8.42793 16.686C8.29063 16.5639 8.11329 16.4965 7.92956 16.4965H4.25C3.00736 16.4965 2 15.4891 2 14.2465V9.74859C2 8.50595 3.00736 7.49859 4.25 7.49859H7.92961C8.11333 7.49859 8.29065 7.43116 8.42794 7.30909L12.9195 3.31583ZM13.5 4.80679L9.4246 8.43011C9.01272 8.7963 8.48075 8.99859 7.92961 8.99859H4.25C3.83579 8.99859 3.5 9.33437 3.5 9.74859V14.2465C3.5 14.6607 3.83579 14.9965 4.25 14.9965H7.92956C8.48074 14.9965 9.01275 15.1988 9.42465 15.5651L13.5 19.1888V4.80679ZM16.2197 9.21969C16.5126 8.92679 16.9874 8.92679 17.2803 9.21969L19 10.9394L20.7197 9.21969C21.0126 8.92679 21.4874 8.92679 21.7803 9.21969C22.0732 9.51258 22.0732 9.98745 21.7803 10.2803L20.0607 12L21.7803 13.7197C22.0732 14.0126 22.0732 14.4875 21.7803 14.7803C21.4874 15.0732 21.0126 15.0732 20.7197 14.7803L19 13.0607L17.2803 14.7803C16.9874 15.0732 16.5126 15.0732 16.2197 14.7803C15.9268 14.4875 15.9268 14.0126 16.2197 13.7197L17.9393 12L16.2197 10.2803C15.9268 9.98745 15.9268 9.51258 16.2197 9.21969Z"})})}function F(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon nav-collapse-icon",t),children:[(0,r.jsx)("path",{d:"M11.8534 7.64645C12.0487 7.84171 12.0487 8.15829 11.8534 8.35355L10.707 9.5H15.5C15.7761 9.5 16 9.72386 16 10C16 10.2761 15.7761 10.5 15.5 10.5H10.707L11.8534 11.6464C12.0487 11.8417 12.0487 12.1583 11.8534 12.3536C11.6582 12.5488 11.3416 12.5488 11.1463 12.3536L9.25239 10.4596C9.23315 10.4404 9.21537 10.4202 9.19905 10.3993C9.07815 10.3081 9 10.1632 9 10C9 9.83685 9.07815 9.69194 9.19905 9.60068C9.21537 9.57977 9.23315 9.55962 9.25239 9.54038L11.1463 7.64645C11.3416 7.45118 11.6582 7.45118 11.8534 7.64645Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 5.5C19 4.11929 17.8807 3 16.5 3H3.5C2.11929 3 1 4.11929 1 5.5V14.5C1 15.8807 2.11929 17 3.5 17H16.5C17.8807 17 19 15.8807 19 14.5V5.5ZM16.5 4H7V16H16.5C17.3284 16 18 15.3284 18 14.5V5.5C18 4.67157 17.3284 4 16.5 4ZM3.5 16H6V4H3.5C2.67157 4 2 4.67157 2 5.5V14.5C2 15.3284 2.67157 16 3.5 16Z"})]})}function O(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon nav-expand-icon",t),children:[(0,r.jsx)("path",{d:"M13.1466 7.64645C12.9513 7.84171 12.9513 8.15829 13.1466 8.35355L14.293 9.5H9.5C9.22386 9.5 9 9.72386 9 10C9 10.2761 9.22386 10.5 9.5 10.5H14.293L13.1466 11.6464C12.9513 11.8417 12.9513 12.1583 13.1466 12.3536C13.3418 12.5488 13.6584 12.5488 13.8537 12.3536L15.7476 10.4596C15.7668 10.4404 15.7846 10.4202 15.801 10.3993C15.9219 10.3081 16 10.1632 16 10C16 9.83685 15.9219 9.69194 15.801 9.60068C15.7846 9.57977 15.7668 9.55962 15.7476 9.54038L13.8537 7.64645C13.6584 7.45118 13.3418 7.45118 13.1466 7.64645Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 5.5C19 4.11929 17.8807 3 16.5 3H3.5C2.11929 3 1 4.11929 1 5.5V14.5C1 15.8807 2.11929 17 3.5 17H16.5C17.8807 17 19 15.8807 19 14.5V5.5ZM16.5 4H7V16H16.5C17.3284 16 18 15.3284 18 14.5V5.5C18 4.67157 17.3284 4 16.5 4ZM3.5 16H6V4H3.5C2.67157 4 2 4.67157 2 5.5V14.5C2 15.3284 2.67157 16 3.5 16Z"})]})}function U(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon notebook-edit-icon",t),children:(0,r.jsx)("path",{d:"M7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM7.5 10C7.22386 10 7 10.2239 7 10.5C7 10.7761 7.22386 11 7.5 11H12.5C12.7761 11 13 10.7761 13 10.5C13 10.2239 12.7761 10 12.5 10H7.5ZM7 13.5C7 13.2239 7.22386 13 7.5 13H9.5C9.77614 13 10 13.2239 10 13.5C10 13.7761 9.77614 14 9.5 14H7.5C7.22386 14 7 13.7761 7 13.5ZM6 2.5C6 2.22386 6.22386 2 6.5 2C6.77614 2 7 2.22386 7 2.5V3H9.5V2.5C9.5 2.22386 9.72386 2 10 2C10.2761 2 10.5 2.22386 10.5 2.5V3H13V2.5C13 2.22386 13.2239 2 13.5 2C13.7761 2 14 2.22386 14 2.5V3H14.5C15.3284 3 16 3.67157 16 4.5V9.23163C15.6738 9.37139 15.3683 9.5744 15.102 9.84065L15 9.94266V4.5C15 4.22386 14.7761 4 14.5 4H5.5C5.22386 4 5 4.22386 5 4.5V16.5C5 16.7761 5.22386 17 5.5 17H9.22047L9.05716 17.6532C9.02795 17.7701 9.01015 17.8859 9.00286 18H5.5C4.67157 18 4 17.3284 4 16.5V4.5C4 3.67157 4.67157 3 5.5 3H6V2.5ZM15.8092 10.5478L10.9798 15.3772C10.6982 15.6588 10.4984 16.0116 10.4018 16.3979L10.0274 17.8958C9.86451 18.5472 10.4546 19.1372 11.106 18.9744L12.6039 18.5999C12.9902 18.5033 13.343 18.3036 13.6246 18.022L18.454 13.1926C19.1843 12.4622 19.1843 11.2781 18.454 10.5478C17.7237 9.81741 16.5395 9.81741 15.8092 10.5478Z"})})}function B(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon onedrive-icon",t),children:[(0,r.jsx)("path",{d:"M11.4802 10.6587L14.9902 8.73869C14.7469 7.80528 14.2388 6.96218 13.5271 6.31105C12.8154 5.65991 11.9306 5.22853 10.9793 5.06892C10.028 4.90932 9.05079 5.02829 8.16557 5.4115C7.28035 5.79472 6.52488 6.42581 5.99023 7.22869L11.4802 10.6587Z",fill:"#0364B8"}),(0,r.jsx)("path",{d:"M8.10003 7.82899C7.49434 7.45538 6.79995 7.25011 6.08847 7.23438C5.377 7.21864 4.6742 7.393 4.05259 7.73947C3.43098 8.08595 2.91306 8.59198 2.55225 9.20539C2.19144 9.81879 2.00081 10.5173 2.00003 11.229C1.99698 12.047 2.24478 12.8462 2.71003 13.519L8.41003 13.669L11.46 9.83899L8.10003 7.82899Z",fill:"#0078D4"}),(0,r.jsx)("path",{d:"M14.9905 8.73879C14.4693 8.7163 13.9506 8.82278 13.4805 9.04879L11.4805 9.89879L13.2305 12.8388L17.6305 13.5788C17.8878 13.1064 18.022 12.5767 18.0205 12.0388C18.0352 11.205 17.7289 10.3975 17.1649 9.78329C16.6009 9.16906 15.8224 8.7951 14.9905 8.73879Z",fill:"#1490DF"}),(0,r.jsx)("path",{d:"M11.4805 9.83887L2.73047 13.5189C3.10012 14.0483 3.59244 14.4803 4.16537 14.7781C4.73829 15.0759 5.37478 15.2305 6.02047 15.2289H14.7705C15.3571 15.2285 15.9328 15.0694 16.4363 14.7683C16.9398 14.4672 17.3525 14.0355 17.6305 13.5189L11.4805 9.83887Z",fill:"#28A8EA"})]})}function H(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon pause-icon",t),children:(0,r.jsx)("path",{d:"M6 4C4.89543 4 4 4.89543 4 6V14C4 15.1046 4.89543 16 6 16H14C15.1046 16 16 15.1046 16 14V11.5C16 11.2239 16.2239 11 16.5 11C16.7761 11 17 11.2239 17 11.5V14C17 15.6569 15.6569 17 14 17H6C4.34315 17 3 15.6569 3 14V6C3 4.34315 4.34315 3 6 3H8.5C8.77614 3 9 3.22386 9 3.5C9 3.77614 8.77614 4 8.5 4H6ZM11 3.5C11 3.22386 11.2239 3 11.5 3H16.5C16.7761 3 17 3.22386 17 3.5V8.5C17 8.77614 16.7761 9 16.5 9C16.2239 9 16 8.77614 16 8.5V4.70711L11.8536 8.85355C11.6583 9.04882 11.3417 9.04882 11.1464 8.85355C10.9512 8.65829 10.9512 8.34171 11.1464 8.14645L15.2929 4H11.5C11.2239 4 11 3.77614 11 3.5Z"})})}function Z(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon pause-icon",t),children:(0,r.jsx)("path",{d:"M5.74609 3C4.7796 3 3.99609 3.7835 3.99609 4.75V19.25C3.99609 20.2165 4.7796 21 5.74609 21H9.24609C10.2126 21 10.9961 20.2165 10.9961 19.25V4.75C10.9961 3.7835 10.2126 3 9.24609 3H5.74609ZM5.49609 4.75C5.49609 4.61193 5.60802 4.5 5.74609 4.5H9.24609C9.38416 4.5 9.49609 4.61193 9.49609 4.75V19.25C9.49609 19.3881 9.38416 19.5 9.24609 19.5H5.74609C5.60802 19.5 5.49609 19.3881 5.49609 19.25V4.75ZM14.7461 3C13.7796 3 12.9961 3.7835 12.9961 4.75V19.25C12.9961 20.2165 13.7796 21 14.7461 21H18.2461C19.2126 21 19.9961 20.2165 19.9961 19.25V4.75C19.9961 3.7835 19.2126 3 18.2461 3H14.7461ZM14.4961 4.75C14.4961 4.61193 14.608 4.5 14.7461 4.5H18.2461C18.3842 4.5 18.4961 4.61193 18.4961 4.75V19.25C18.4961 19.3881 18.3842 19.5 18.2461 19.5H14.7461C14.608 19.5 14.4961 19.3881 14.4961 19.25V4.75Z"})})}function _(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon people-icon",t),children:(0,r.jsx)("path",{d:"M11 10C12.1046 10 13 10.8954 13 12V13.5C13 15.5544 10.912 17 7.5 17C4.08805 17 2 15.5544 2 13.5V12C2 10.8954 2.89543 10 4 10H11ZM11 11H4C3.44772 11 3 11.4477 3 12V13.5C3 14.9071 4.57862 16 7.5 16C10.4214 16 12 14.9071 12 13.5V12C12 11.4477 11.5523 11 11 11ZM16 10C17.1046 10 18 10.8954 18 12V12.5C18 14.5886 16.4317 16 13.5 16C13.3587 16 13.2206 15.9967 13.0856 15.9902C13.2938 15.7482 13.4684 15.4875 13.6076 15.209L13.705 14.996L13.7438 14.9965C15.976 14.9312 17 13.9593 17 12.5V12C17 11.4477 16.5523 11 16 11L13.829 10.9991C13.6971 10.6265 13.4937 10.2876 13.2353 9.99912L16 10ZM7.5 2C9.433 2 11 3.567 11 5.5C11 7.433 9.433 9 7.5 9C5.567 9 4 7.433 4 5.5C4 3.567 5.567 2 7.5 2ZM14.5 4C15.8807 4 17 5.11929 17 6.5C17 7.88071 15.8807 9 14.5 9C13.1193 9 12 7.88071 12 6.5C12 5.11929 13.1193 4 14.5 4ZM7.5 3C6.11929 3 5 4.11929 5 5.5C5 6.88071 6.11929 8 7.5 8C8.88071 8 10 6.88071 10 5.5C10 4.11929 8.88071 3 7.5 3ZM14.5 5C13.6716 5 13 5.67157 13 6.5C13 7.32843 13.6716 8 14.5 8C15.3284 8 16 7.32843 16 6.5C16 5.67157 15.3284 5 14.5 5Z"})})}function $(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon people-icon",t),children:(0,r.jsx)("path",{d:"M10 2C7.79086 2 6 3.79086 6 6C6 8.20914 7.79086 10 10 10C12.2091 10 14 8.20914 14 6C14 3.79086 12.2091 2 10 2ZM7 6C7 4.34315 8.34315 3 10 3C11.6569 3 13 4.34315 13 6C13 7.65685 11.6569 9 10 9C8.34315 9 7 7.65685 7 6ZM5.00873 11C3.90315 11 3 11.8869 3 13C3 14.6912 3.83281 15.9663 5.13499 16.7966C6.41697 17.614 8.14526 18 10 18C11.8547 18 13.583 17.614 14.865 16.7966C16.1672 15.9663 17 14.6912 17 13C17 11.8956 16.1045 11 15 11L5.00873 11ZM4 13C4 12.4467 4.44786 12 5.00873 12L15 12C15.5522 12 16 12.4478 16 13C16 14.3088 15.3777 15.2837 14.3274 15.9534C13.2568 16.636 11.7351 17 10 17C8.26489 17 6.74318 16.636 5.67262 15.9534C4.62226 15.2837 4 14.3088 4 13Z"})})}function z(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon photo-icon",t),children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7.5C14 8.32843 13.3284 9 12.5 9C11.6716 9 11 8.32843 11 7.5C11 6.67157 11.6716 6 12.5 6C13.3284 6 14 6.67157 14 7.5ZM13 7.5C13 7.77615 12.7762 8 12.5 8C12.2238 8 12 7.77615 12 7.5C12 7.22385 12.2238 7 12.5 7C12.7762 7 13 7.22385 13 7.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 4.34314 4.34314 3 6 3H14C15.6569 3 17 4.34314 17 6V14C17 15.6569 15.6569 17 14 17H6C4.34314 17 3 15.6569 3 14V6ZM6 4C4.89542 4 4 4.89542 4 6V14C4 14.3715 4.10129 14.7194 4.27774 15.0174L8.94907 10.4311C9.53256 9.85818 10.4673 9.85818 11.0508 10.4311L15.7222 15.0175C15.8987 14.7194 16 14.3715 16 14V6C16 4.89542 15.1046 4 14 4H6ZM6 16C5.6297 16 5.28293 15.8994 4.9855 15.724L9.64966 11.1446C9.84415 10.9537 10.1558 10.9537 10.3503 11.1446L15.0145 15.724C14.717 15.8994 14.3703 16 14 16H6Z"})]})}function G(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon photo-filter-icon",t),children:(0,r.jsx)("path",{d:"M9.5 2a7.503 7.503 0 0 1 7.179 5.321 7.5 7.5 0 1 1-9.357 9.358A7.5 7.5 0 0 1 9.5 2Zm7.486 7.038.01.22L17 9.5a7.5 7.5 0 0 1-7.962 7.486 6 6 0 1 0 7.947-7.948ZM9.5 3.5a6 6 0 0 0-2.486 11.463l-.01-.22L7 14.5a7.5 7.5 0 0 1 7.962-7.486A5.999 5.999 0 0 0 9.5 3.5Z"})})}function W(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon pin-icon",t),children:(0,r.jsx)("path",{d:"M21.0682 7.75765L16.2425 2.93189C14.9152 1.60462 12.6777 1.96772 11.8382 3.6466L9.40281 8.51748C9.31512 8.69287 9.16223 8.82694 8.97688 8.89096L4.81061 10.3302C3.93791 10.6317 3.682 11.7427 4.33487 12.3956L7.43936 15.5001L3.00008 19.9394L3 21.0001H4.06074L8.50002 16.5607L11.6045 19.6653C12.2574 20.3181 13.3684 20.0622 13.6699 19.1895L15.1092 15.0232C15.1732 14.8379 15.3073 14.685 15.4826 14.5973L20.3535 12.1619C22.0324 11.3224 22.3955 9.08491 21.0682 7.75765Z"})})}function q(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon pin-off-icon",t),children:(0,r.jsx)("path",{d:"M3.28035 2.21967C2.98746 1.92678 2.51258 1.92677 2.21968 2.21966C1.92678 2.51255 1.92677 2.98742 2.21967 3.28032L8.12461 9.18526L4.81064 10.3301C3.93794 10.6315 3.68202 11.7426 4.3349 12.3954L7.43942 15.4999L3.00009 19.9392L3.00001 20.9999H4.06077L8.50009 16.5605L11.6046 19.665C12.2575 20.3179 13.3686 20.062 13.67 19.1893L14.8148 15.8755L20.7196 21.7803C21.0125 22.0732 21.4874 22.0732 21.7803 21.7803C22.0732 21.4874 22.0732 21.0126 21.7803 20.7197L3.28035 2.21967ZM20.3537 12.1617L17.0137 13.8317L10.1684 6.98637L11.8383 3.6465C12.6778 1.96763 14.9153 1.60453 16.2426 2.93179L21.0684 7.75751C22.3957 9.08476 22.0326 11.3223 20.3537 12.1617Z"})})}function Q(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon pin-outline-icon",t),children:(0,r.jsx)("path",{d:"M16.2425 2.93189L21.0682 7.75765C22.3955 9.08491 22.0324 11.3224 20.3535 12.1619L15.4826 14.5973C15.3073 14.685 15.1732 14.8379 15.1092 15.0232L13.6699 19.1895C13.3684 20.0622 12.2574 20.3181 11.6045 19.6653L8.50002 16.5607L4.06074 21.0001H3L3.00008 19.9394L7.43936 15.5001L4.33487 12.3956C3.682 11.7427 3.93791 10.6317 4.81061 10.3302L8.97688 8.89096C9.16223 8.82694 9.31512 8.69287 9.40281 8.51748L11.8382 3.6466C12.6777 1.96772 14.9152 1.60462 16.2425 2.93189ZM20.0076 8.81831L15.1818 3.99255C14.5785 3.38924 13.5614 3.55429 13.1799 4.31742L10.7445 9.18829C10.4814 9.71446 10.0227 10.1167 9.46666 10.3087L5.67812 11.6175L12.3826 18.322L13.6914 14.5335C13.8835 13.9774 14.2857 13.5188 14.8118 13.2557L19.6827 10.8202C20.4458 10.4387 20.6109 9.42161 20.0076 8.81831Z"})})}function X(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon play-icon",t),children:(0,r.jsx)("path",{d:"M7.60846 4.61489C7.1087 4.34296 6.5 4.70472 6.5 5.27368V18.726C6.5 19.2949 7.1087 19.6567 7.60846 19.3848L19.97 12.6586C20.4921 12.3746 20.4921 11.6251 19.97 11.341L7.60846 4.61489ZM5 5.27368C5 3.56682 6.82609 2.48151 8.32538 3.2973L20.687 10.0235C22.2531 10.8756 22.2531 13.124 20.687 13.9762L8.32538 20.7024C6.82609 21.5181 5 20.4328 5 18.726V5.27368Z"})})}function Y(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon play-preview-icon",t),children:(0,r.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",d:"M9.12521 7.18369C8.62521 6.8948 8 7.25563 8 7.83309V12.1668C8 12.7443 8.62522 13.1051 9.12521 12.8162L13.2501 10.4329C13.4048 10.3436 13.5 10.1785 13.5 9.99996C13.5 9.82139 13.4048 9.65637 13.2501 9.56703L9.12521 7.18369ZM2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10ZM10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3Z"})})}function K(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",...n,xmlns:"http://www.w3.org/2000/svg",className:(0,o.iv)("svg-icon receipt-icon",t),children:(0,r.jsx)("path",{d:"M3 5C3 3.89543 3.89543 3 5 3H12C13.1046 3 14 3.89543 14 5V12H17V14C17 15.6569 15.6569 17 14 17H6C4.34315 17 3 15.6569 3 14V5ZM14 13V16C15.1046 16 16 15.1046 16 14V13H14ZM13 16V5C13 4.44772 12.5523 4 12 4H5C4.44772 4 4 4.44772 4 5V14C4 15.1046 4.89543 16 6 16H13ZM6 6.5C6 6.22386 6.22386 6 6.5 6H10.5C10.7761 6 11 6.22386 11 6.5C11 6.77614 10.7761 7 10.5 7H6.5C6.22386 7 6 6.77614 6 6.5ZM6 9.5C6 9.22386 6.22386 9 6.5 9H10.5C10.7761 9 11 9.22386 11 9.5C11 9.77614 10.7761 10 10.5 10H6.5C6.22386 10 6 9.77614 6 9.5ZM6 12.5C6 12.2239 6.22386 12 6.5 12H8.5C8.77614 12 9 12.2239 9 12.5C9 12.7761 8.77614 13 8.5 13H6.5C6.22386 13 6 12.7761 6 12.5Z"})})}function J(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon recent-icon",t),children:(0,r.jsx)("path",{d:"M3.50199 1.99609L3.59187 2.00415C3.79596 2.04119 3.95689 2.20213 3.99394 2.40622L4.00199 2.49609L4.00133 4.70762C5.16628 3.38448 6.75044 2.46588 8.54411 2.13344C12.8884 1.32827 17.0629 4.1973 17.868 8.54159C18.6732 12.8859 15.8042 17.0603 11.4599 17.8655C7.11557 18.6707 2.94104 15.8017 2.13587 11.4574C2.04916 10.9895 1.97832 10.1379 2.00614 9.47828C2.01777 9.20238 2.25086 8.98816 2.52676 8.99979C2.80265 9.01142 3.01688 9.24451 3.00525 9.52041C2.9808 10.1003 3.04545 10.8776 3.11913 11.2751C3.82365 15.0764 7.47637 17.5868 11.2776 16.8823C15.0789 16.1777 17.5893 12.5251 16.8848 8.72383C16.1803 4.92257 12.5276 2.41217 8.72635 3.11669C6.88719 3.45756 5.30109 4.50146 4.26039 5.99497L7 5.99609L7.08988 6.00415C7.32312 6.04649 7.5 6.25063 7.5 6.49609C7.5 6.74155 7.32312 6.9457 7.08988 6.98804L7 6.99609H3.50199L3.41212 6.98804C3.20803 6.95099 3.04709 6.79006 3.01005 6.58597L3.00199 6.49609V2.49609L3.01005 2.40622C3.04709 2.20213 3.20803 2.04119 3.41212 2.00415L3.50199 1.99609ZM9.50199 5.99609L9.59187 6.00415C9.79596 6.04119 9.95689 6.20213 9.99394 6.40622L10.002 6.49609V10H12.002L12.0919 10.0081C12.3251 10.0504 12.502 10.2545 12.502 10.5C12.502 10.7455 12.3251 10.9496 12.0919 10.9919L12.002 11H9.50199L9.41212 10.9919C9.20803 10.9549 9.04709 10.794 9.01005 10.5899L9.00199 10.5V6.49609L9.01005 6.40622C9.04709 6.20213 9.20803 6.04119 9.41212 6.00415L9.50199 5.99609Z"})})}function ee(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon recent-icon",t),children:(0,r.jsx)("path",{d:"M6.33594 18C6.08594 18 5.84635 17.9557 5.61719 17.8672C5.38802 17.7786 5.1849 17.6536 5.00781 17.4922C4.83073 17.3307 4.6849 17.1432 4.57031 16.9297C4.45573 16.7161 4.38281 16.4818 4.35156 16.2266L3.10156 5.38281C3.09635 5.34115 3.09375 5.30208 3.09375 5.26562C3.09375 5.22917 3.09115 5.1875 3.08594 5.14062C3.08594 4.83333 3.15104 4.54688 3.28125 4.28125C3.41146 4.01562 3.59635 3.78646 3.83594 3.59375L5.27344 2.4375C5.44531 2.30208 5.64062 2.19531 5.85938 2.11719C6.07812 2.03906 6.29948 2 6.52344 2H13.4766C13.6953 2 13.9141 2.03906 14.1328 2.11719C14.3516 2.19531 14.5495 2.30208 14.7266 2.4375L16.1641 3.59375C16.3984 3.78125 16.5833 4.01302 16.7188 4.28906C16.8542 4.5651 16.9219 4.85417 16.9219 5.15625V5.26562C16.9219 5.30208 16.9167 5.34115 16.9062 5.38281L15.6484 16.2266C15.6172 16.4766 15.5443 16.7083 15.4297 16.9219C15.3151 17.1354 15.1693 17.3229 14.9922 17.4844C14.8151 17.6458 14.6146 17.7708 14.3906 17.8594C14.1667 17.9479 13.9245 17.9948 13.6641 18H6.33594ZM4.92969 4H15.0781L14.1016 3.21875C13.9141 3.07292 13.7057 3 13.4766 3H6.52344C6.29427 3 6.08594 3.07292 5.89844 3.21875L4.92969 4ZM13.6641 17C13.9245 17 14.1458 16.9167 14.3281 16.75C14.5104 16.5833 14.6198 16.3724 14.6562 16.1172L15.9062 5.26562C15.9115 5.23958 15.9141 5.20312 15.9141 5.15625V5.07812C15.9141 5.05208 15.9115 5.02604 15.9062 5H4.09375C4.08854 5.02604 4.08594 5.05208 4.08594 5.07812C4.08594 5.10417 4.08594 5.13021 4.08594 5.15625C4.08594 5.20312 4.08854 5.23958 4.09375 5.26562L5.34375 16.1172C5.375 16.3776 5.48177 16.5885 5.66406 16.75C5.84635 16.9115 6.07031 16.9948 6.33594 17H13.6641ZM12.0469 10.5391L10.1641 10.3672L10.7031 9.96875L9.90625 8.42188L9.17969 9.85156L8.07812 9.29688L8.60156 8.26562C8.6849 8.08854 8.82292 8 9.01562 8H10.9219C11.1146 8 11.2552 8.08594 11.3438 8.25781L11.8047 9.13281L12.3047 8.75L12.0469 10.5391ZM7.90625 13.9922C7.81771 13.9922 7.74479 13.974 7.6875 13.9375C7.63021 13.901 7.57812 13.8568 7.53125 13.8047C7.48438 13.7526 7.44792 13.6901 7.42188 13.6172C7.39583 13.5443 7.35938 13.4766 7.3125 13.4141C7.26562 13.3307 7.21875 13.25 7.17188 13.1719C7.125 13.0938 7.07812 13.013 7.03125 12.9297C7.01562 12.9036 6.98958 12.8568 6.95312 12.7891C6.91667 12.7214 6.8776 12.6484 6.83594 12.5703C6.79427 12.4922 6.75781 12.4141 6.72656 12.3359C6.69531 12.2578 6.67969 12.1953 6.67969 12.1484C6.67969 12.0651 6.70052 11.9714 6.74219 11.8672C6.78385 11.763 6.83333 11.6562 6.89062 11.5469C6.94792 11.4375 7.01042 11.3359 7.07812 11.2422C7.14583 11.1484 7.19792 11.0703 7.23438 11.0078L6.67969 10.5703H8.38281L8.78906 12.2422L8.125 11.7188L7.64844 12.6797H9.23438V13.9922H7.90625ZM10.9609 14.5703L9.89062 13.1328L10.9609 11.8203V12.7109H12.3672L11.7891 11.6484L12.8438 11.0234C12.875 11.0911 12.9167 11.1719 12.9688 11.2656C13.0208 11.3594 13.0729 11.4557 13.125 11.5547C13.1771 11.6536 13.2214 11.75 13.2578 11.8438C13.2943 11.9375 13.3151 12.0156 13.3203 12.0781C13.3203 12.1198 13.3151 12.1562 13.3047 12.1875C13.2943 12.2188 13.2812 12.2526 13.2656 12.2891L12.5312 13.7422C12.4479 13.9089 12.3099 13.9922 12.1172 13.9922H10.9609V14.5703Z"})})}function te(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon refresh-icon",t),children:(0,r.jsx)("path",{d:"M12 4C12.7344 4 13.4427 4.09635 14.125 4.28906C14.8073 4.47656 15.4427 4.74479 16.0312 5.09375C16.625 5.44271 17.1641 5.86198 17.6484 6.35156C18.138 6.83594 18.5573 7.375 18.9062 7.96875C19.2552 8.55729 19.5234 9.19271 19.7109 9.875C19.9036 10.5573 20 11.2656 20 12C20 12.7344 19.9036 13.4427 19.7109 14.125C19.5234 14.8073 19.2552 15.4453 18.9062 16.0391C18.5573 16.6276 18.138 17.1667 17.6484 17.6562C17.1641 18.1406 16.625 18.5573 16.0312 18.9062C15.4427 19.2552 14.8073 19.526 14.125 19.7188C13.4427 19.9062 12.7344 20 12 20C11.2656 20 10.5573 19.9062 9.875 19.7188C9.19271 19.526 8.55469 19.2552 7.96094 18.9062C7.3724 18.5573 6.83333 18.1406 6.34375 17.6562C5.85938 17.1667 5.44271 16.6276 5.09375 16.0391C4.74479 15.4453 4.47396 14.8073 4.28125 14.125C4.09375 13.4427 4 12.7344 4 12C4 11.2656 4.09375 10.5573 4.28125 9.875C4.47396 9.19271 4.74479 8.55729 5.09375 7.96875C5.44271 7.375 5.85938 6.83594 6.34375 6.35156C6.83333 5.86198 7.3724 5.44271 7.96094 5.09375C8.55469 4.74479 9.19271 4.47656 9.875 4.28906C10.5573 4.09635 11.2656 4 12 4ZM12 16.1719C12.401 16.1719 12.7891 16.1172 13.1641 16.0078C13.5443 15.8932 13.8984 15.7318 14.2266 15.5234C14.5547 15.3151 14.8516 15.0651 15.1172 14.7734C15.3828 14.4766 15.6016 14.1484 15.7734 13.7891L14.5547 13.2109C14.4349 13.4557 14.2865 13.6771 14.1094 13.875C13.9323 14.0729 13.7318 14.2422 13.5078 14.3828C13.2839 14.5234 13.0443 14.6328 12.7891 14.7109C12.5339 14.7891 12.2708 14.8281 12 14.8281C11.625 14.8281 11.2656 14.7552 10.9219 14.6094C10.5833 14.4635 10.2812 14.2604 10.0156 14H11V13H8V16H9V14.8906C9.39062 15.2969 9.84635 15.612 10.3672 15.8359C10.888 16.0599 11.4323 16.1719 12 16.1719ZM16 11V8H15V9.10938C14.6094 8.70312 14.1536 8.38802 13.6328 8.16406C13.112 7.9401 12.5677 7.82812 12 7.82812C11.599 7.82812 11.2083 7.88542 10.8281 8C10.4531 8.10938 10.1016 8.26823 9.77344 8.47656C9.44531 8.6849 9.14844 8.9375 8.88281 9.23438C8.61719 9.52604 8.39844 9.85156 8.22656 10.2109L9.44531 10.7891C9.5599 10.5443 9.70573 10.3229 9.88281 10.125C10.0651 9.92708 10.2682 9.75781 10.4922 9.61719C10.7161 9.47656 10.9557 9.36719 11.2109 9.28906C11.4661 9.21094 11.7292 9.17188 12 9.17188C12.375 9.17188 12.7318 9.24479 13.0703 9.39062C13.4141 9.53646 13.7188 9.73958 13.9844 10H13V11H16Z"})})}function ne(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon river-icon",t),children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 6C18 4.34315 16.6569 3 15 3L6 3C4.34315 3 3 4.34315 3 6L3 15C3 16.6569 4.34315 18 6 18H15C16.6569 18 18 16.6569 18 15V6ZM9 17H15C16.1046 17 17 16.1046 17 15V11L9 11V17ZM13 10L13 4L6 4C4.89543 4 4 4.89543 4 6L4 10L13 10ZM8 11V17H6C4.89543 17 4 16.1046 4 15L4 11H8ZM17 6V10H14L14 4H15C16.1046 4 17 4.89543 17 6Z"})})}function oe(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",...n,xmlns:"http://www.w3.org/2000/svg",className:(0,o.iv)("svg-icon emoji-icon",t),children:(0,r.jsx)("path",{d:"M6.5 5C5.67157 5 5 5.67157 5 6.5V8.5C5 8.77614 5.22386 9 5.5 9C5.77614 9 6 8.77614 6 8.5V6.5C6 6.22386 6.22386 6 6.5 6H8.5C8.77614 6 9 5.77614 9 5.5C9 5.22386 8.77614 5 8.5 5H6.5ZM11.5 5C11.2239 5 11 5.22386 11 5.5C11 5.77614 11.2239 6 11.5 6H13.5C13.7761 6 14 6.22386 14 6.5V8.5C14 8.77614 14.2239 9 14.5 9C14.7761 9 15 8.77614 15 8.5V6.5C15 5.67157 14.3284 5 13.5 5H11.5ZM6 11.5C6 11.2239 5.77614 11 5.5 11C5.22386 11 5 11.2239 5 11.5V13.5C5 14.3284 5.67157 15 6.5 15H8.5C8.77614 15 9 14.7761 9 14.5C9 14.2239 8.77614 14 8.5 14H6.5C6.22386 14 6 13.7761 6 13.5V11.5ZM15 11.5C15 11.2239 14.7761 11 14.5 11C14.2239 11 14 11.2239 14 11.5V13.5C14 13.7761 13.7761 14 13.5 14H11.5C11.2239 14 11 14.2239 11 14.5C11 14.7761 11.2239 15 11.5 15H13.5C14.3284 15 15 14.3284 15 13.5V11.5ZM3 5C3 3.89543 3.89543 3 5 3H15C16.1046 3 17 3.89543 17 5V15C17 16.1046 16.1046 17 15 17H5C3.89543 17 3 16.1046 3 15V5ZM4 5V15C4 15.5523 4.44772 16 5 16H15C15.5523 16 16 15.5523 16 15V5C16 4.44772 15.5523 4 15 4H5C4.44772 4 4 4.44772 4 5Z"})})}function re(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 32 32",...n,xmlns:"http://www.w3.org/2000/svg",className:(0,o.iv)("svg-icon search-icon",t),children:(0,r.jsx)("path",{d:"M20.992 0c1.024 0 1.984.128 2.944.384s1.792.64 2.624 1.088S28.096 2.56 28.8 3.2c.64.704 1.216 1.408 1.728 2.24s.832 1.664 1.088 2.624.384 1.92.384 2.944-.128 1.984-.384 2.944-.64 1.792-1.088 2.624-1.088 1.536-1.728 2.176c-.704.64-1.408 1.216-2.24 1.728s-1.664.832-2.624 1.088-1.92.384-2.944.384c-1.28 0-2.56-.192-3.712-.64a10.46 10.46 0 0 1-3.264-1.92L1.728 31.68c-.192.192-.448.32-.704.32s-.512-.128-.704-.32-.32-.384-.32-.704.128-.512.32-.704l12.224-12.288a12.145 12.145 0 0 1-1.92-3.264c-.448-1.216-.64-2.432-.64-3.712 0-1.024.128-1.984.384-2.944s.64-1.792 1.088-2.624 1.024-1.536 1.728-2.24c.704-.64 1.408-1.216 2.24-1.728S17.088.64 18.048.384C19.008.128 19.968 0 20.992 0zm0 19.968c1.216 0 2.432-.256 3.52-.704s2.048-1.088 2.88-1.92 1.472-1.792 1.92-2.88.704-2.24.704-3.52-.256-2.432-.704-3.52-1.088-2.048-1.92-2.88S25.6 3.2 24.512 2.688c-1.088-.448-2.24-.704-3.52-.704s-2.432.256-3.52.704-2.048 1.088-2.88 1.92-1.472 1.792-1.92 2.88-.704 2.24-.704 3.52.256 2.432.704 3.52 1.088 2.048 1.92 2.88 1.792 1.472 2.88 1.92c1.152.448 2.304.64 3.52.64z"})})}function ae(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon settings-icon",t),children:(0,r.jsx)("path",{d:"M1.91099 7.38266C2.28028 6.24053 2.88863 5.19213 3.69133 4.30364C3.82707 4.15339 4.04002 4.09984 4.23069 4.16802L6.14897 4.85392C6.66905 5.03977 7.24131 4.76883 7.42716 4.24875C7.44544 4.19762 7.45952 4.14507 7.46925 4.09173L7.83471 2.08573C7.87104 1.88627 8.02422 1.7285 8.22251 1.6863C8.8027 1.5628 9.39758 1.5 10.0003 1.5C10.6026 1.5 11.1971 1.56273 11.7769 1.68607C11.9752 1.72824 12.1284 1.88591 12.1648 2.08529L12.5313 4.09165C12.6303 4.63497 13.1511 4.9951 13.6944 4.89601C13.7479 4.88627 13.8004 4.87219 13.8515 4.85395L15.7698 4.16802C15.9605 4.09984 16.1734 4.15339 16.3092 4.30364C17.1119 5.19213 17.7202 6.24053 18.0895 7.38266C18.1518 7.57534 18.0918 7.78658 17.9374 7.91764L16.3825 9.23773C15.9615 9.5952 15.9101 10.2263 16.2675 10.6473C16.3027 10.6887 16.3411 10.7271 16.3825 10.7623L17.9374 12.0824C18.0918 12.2134 18.1518 12.4247 18.0895 12.6173C17.7202 13.7595 17.1119 14.8079 16.3092 15.6964C16.1734 15.8466 15.9605 15.9002 15.7698 15.832L13.8515 15.1461C13.3315 14.9602 12.7592 15.2312 12.5733 15.7512C12.5551 15.8024 12.541 15.8549 12.5312 15.9085L12.1648 17.9147C12.1284 18.1141 11.9752 18.2718 11.7769 18.3139C11.1971 18.4373 10.6026 18.5 10.0003 18.5C9.39758 18.5 8.8027 18.4372 8.22251 18.3137C8.02422 18.2715 7.87104 18.1137 7.83471 17.9143L7.46926 15.9084C7.37018 15.365 6.8494 15.0049 6.30608 15.104C6.25265 15.1137 6.20011 15.1278 6.14906 15.1461L4.23069 15.832C4.04002 15.9002 3.82707 15.8466 3.69133 15.6964C2.88863 14.8079 2.28028 13.7595 1.91099 12.6173C1.84869 12.4247 1.90876 12.2134 2.06313 12.0824L3.61798 10.7623C4.03897 10.4048 4.09046 9.77373 3.73299 9.35274C3.69784 9.31135 3.65937 9.27288 3.618 9.23775L2.06313 7.91764C1.90876 7.78658 1.84869 7.57534 1.91099 7.38266ZM2.97154 7.37709L4.26523 8.47546C4.34803 8.54576 4.42496 8.62269 4.49526 8.70548C5.2102 9.54746 5.10721 10.8096 4.26521 11.5246L2.97154 12.6229C3.26359 13.4051 3.68504 14.1322 4.21648 14.7751L5.81246 14.2044C5.91473 14.1679 6.01982 14.1397 6.12667 14.1202C7.21332 13.922 8.25487 14.6423 8.45305 15.729L8.75702 17.3975C9.16489 17.4655 9.58024 17.5 10.0003 17.5C10.42 17.5 10.8351 17.4656 11.2427 17.3976L11.5475 15.7289C11.567 15.6221 11.5951 15.517 11.6317 15.4147C12.0034 14.3746 13.1479 13.8327 14.1881 14.2044L15.784 14.7751C16.3155 14.1322 16.7369 13.4051 17.029 12.6229L15.7353 11.5245C15.6525 11.4542 15.5756 11.3773 15.5053 11.2945C14.7903 10.4525 14.8933 9.1904 15.7353 8.47544L17.029 7.37709C16.7369 6.59486 16.3155 5.86783 15.784 5.22494L14.1881 5.79559C14.0858 5.83214 13.9807 5.8603 13.8738 5.87979C12.7872 6.07796 11.7456 5.3577 11.5475 4.27119L11.2427 2.60235C10.8351 2.53443 10.42 2.5 10.0003 2.5C9.58024 2.5 9.16489 2.53448 8.75702 2.60249L8.45304 4.27105C8.43355 4.37791 8.40539 4.48299 8.36884 4.58527C7.99714 5.62542 6.8526 6.1673 5.81237 5.79556L4.21648 5.22494C3.68504 5.86783 3.26359 6.59486 2.97154 7.37709ZM7.50026 10C7.50026 8.61929 8.61954 7.5 10.0003 7.5C11.381 7.5 12.5003 8.61929 12.5003 10C12.5003 11.3807 11.381 12.5 10.0003 12.5C8.61954 12.5 7.50026 11.3807 7.50026 10ZM8.50026 10C8.50026 10.8284 9.17183 11.5 10.0003 11.5C10.8287 11.5 11.5003 10.8284 11.5003 10C11.5003 9.17157 10.8287 8.5 10.0003 8.5C9.17183 8.5 8.50026 9.17157 8.50026 10Z"})})}function ie(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon share-icon",t),children:(0,r.jsx)("path",{d:"M13.3298 12.8377L17.8269 8.41512L17.8841 8.34968C18.0558 8.12058 18.0367 7.78916 17.8268 7.58283L13.3297 3.16165L13.268 3.10864C12.9078 2.83964 12.3776 3.09805 12.3776 3.57782V5.70757L12.153 5.72268C8.59039 6.00547 6.50344 8.25989 6.00472 12.3501C5.94067 12.8754 6.54318 13.2042 6.93261 12.8564C8.36448 11.5779 9.84382 10.784 11.3776 10.4657C11.6236 10.4147 11.871 10.3759 12.1199 10.3493L12.3776 10.3261V12.4216L12.3829 12.5039C12.4429 12.9566 12.992 13.1699 13.3298 12.8377ZM12.2263 6.72L13.3776 6.64256V4.61104L16.8238 7.99905L13.3776 11.3882V9.23223L12.022 9.35403L12.0136 9.35493C10.3113 9.53692 8.70337 10.2189 7.18674 11.3555C7.48493 10.0174 7.99417 9.01008 8.6632 8.28852C9.49235 7.39426 10.6526 6.84605 12.2263 6.72ZM5.5 4C4.11929 4 3 5.11929 3 6.5V14.5C3 15.8807 4.11929 17 5.5 17H13.5C14.8807 17 16 15.8807 16 14.5V13.5C16 13.2239 15.7761 13 15.5 13C15.2239 13 15 13.2239 15 13.5V14.5C15 15.3284 14.3284 16 13.5 16H5.5C4.67157 16 4 15.3284 4 14.5V6.5C4 5.67157 4.67157 5 5.5 5H8.5C8.77614 5 9 4.77614 9 4.5C9 4.22386 8.77614 4 8.5 4H5.5Z"})})}function se(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon shield-task",t),children:(0,r.jsx)("path",{d:"M13.8536 7.85355C14.0488 7.65829 14.0488 7.34171 13.8536 7.14645C13.6583 6.95118 13.3417 6.95118 13.1464 7.14645L9.5 10.7929L7.85355 9.14645C7.65829 8.95119 7.34171 8.95119 7.14645 9.14645C6.95118 9.34171 6.95118 9.65829 7.14645 9.85355L9.14645 11.8536C9.34171 12.0488 9.65829 12.0488 9.85355 11.8536L13.8536 7.85355ZM10.2774 2.08397C10.1094 1.97201 9.8906 1.97201 9.72265 2.08397C7.78446 3.3761 5.68833 4.18231 3.42929 4.50503C3.18296 4.54021 3 4.75118 3 5V9.5C3 13.3913 5.30699 16.2307 9.82051 17.9667C9.93605 18.0111 10.064 18.0111 10.1795 17.9667C14.693 16.2307 17 13.3913 17 9.5V5C17 4.75118 16.817 4.54021 16.5707 4.50503C14.3117 4.18231 12.2155 3.3761 10.2774 2.08397ZM4 5.42787C5.98541 5.09055 7.85275 4.39606 9.59914 3.34583L10 3.09715L10.4009 3.34583C12.1473 4.39606 14.0146 5.09055 16 5.42787V9.5C16 12.8921 14.0321 15.3634 10 16.9632C5.96795 15.3634 4 12.8921 4 9.5V5.42787Z"})})}function le(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon shared-icon",t),children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 8C8.88071 8 10 6.88071 10 5.5C10 4.11929 8.88071 3 7.5 3C6.11929 3 5 4.11929 5 5.5C5 6.88071 6.11929 8 7.5 8ZM7.5 9C9.433 9 11 7.433 11 5.5C11 3.567 9.433 2 7.5 2C5.567 2 4 3.567 4 5.5C4 7.433 5.567 9 7.5 9Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 8C15.3284 8 16 7.32843 16 6.5C16 5.67157 15.3284 5 14.5 5C13.6716 5 13 5.67157 13 6.5C13 7.32843 13.6716 8 14.5 8ZM14.5 9C15.8807 9 17 7.88071 17 6.5C17 5.11929 15.8807 4 14.5 4C13.1193 4 12 5.11929 12 6.5C12 7.88071 13.1193 9 14.5 9Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12.0652C2 10.9246 2.92463 10 4.06522 10H10.9348C12.0754 10 13 10.9246 13 12.0652C13 14.7906 10.7906 17 8.06522 17H6.93478C4.20938 17 2 14.7906 2 12.0652ZM4.06522 11C3.47691 11 3 11.4769 3 12.0652C3 14.2383 4.76166 16 6.93478 16H8.06522C10.2383 16 12 14.2383 12 12.0652C12 11.4769 11.5231 11 10.9348 11H4.06522Z"}),(0,r.jsx)("path",{d:"M12.8445 15.5845C13.3374 15.8496 13.9011 16 14.5 16C16.433 16 18 14.433 18 12.5V11.8043C18 10.8078 17.1922 10 16.1957 10H13.1999C13.4629 10.2883 13.6716 10.6271 13.8099 11H16.1957C16.6399 11 17 11.3601 17 11.8043V12.5C17 13.8807 15.8807 15 14.5 15C14.0931 15 13.7089 14.9028 13.3694 14.7303C13.2183 15.0305 13.0424 15.3161 12.8445 15.5845Z"})]})}function ce(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon star-icon",t),children:(0,r.jsx)("path",{d:"M9.10433 2.89923C9.47114 2.15598 10.531 2.15599 10.8978 2.89923L12.8282 6.81073L17.1448 7.43797C17.9651 7.55715 18.2926 8.56513 17.699 9.14366L14.5755 12.1883L15.3129 16.4875C15.453 17.3044 14.5956 17.9274 13.8619 17.5417L10.0011 15.5119L6.14018 17.5417C5.40655 17.9274 4.54913 17.3044 4.68924 16.4875L5.4266 12.1883L2.30308 9.14366C1.70956 8.56512 2.03708 7.55715 2.8573 7.43797L7.17389 6.81073L9.10433 2.89923ZM10.0011 3.3418L8.07062 7.25329C7.92496 7.54844 7.6434 7.75301 7.31769 7.80034L3.00109 8.42757L6.12461 11.4722C6.3603 11.702 6.46784 12.033 6.41221 12.3574L5.67484 16.6565L9.53572 14.6267C9.82705 14.4736 10.1751 14.4736 10.4664 14.6267L14.3273 16.6565L13.5899 12.3574C13.5343 12.033 13.6418 11.702 13.8775 11.4722L17.001 8.42757L12.6844 7.80034C12.3587 7.75301 12.0772 7.54844 11.9315 7.25329L10.0011 3.3418Z"})})}function de(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{...n,className:(0,o.iv)("svg-icon star-highlighted-icon",t),role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M9.10433 2.89923C9.47114 2.15598 10.531 2.15599 10.8978 2.89923L12.8282 6.81073L17.1448 7.43797C17.9651 7.55715 18.2926 8.56513 17.699 9.14366L14.5755 12.1883L15.3129 16.4875C15.453 17.3044 14.5956 17.9274 13.8619 17.5417L10.0011 15.5119L6.14018 17.5417C5.40655 17.9274 4.54913 17.3044 4.68924 16.4875L5.4266 12.1883L2.30308 9.14366C1.70956 8.56512 2.03708 7.55715 2.8573 7.43797L7.17389 6.81073L9.10433 2.89923Z"})})}function ue(e){const{className:t,...n}=e;return(0,r.jsxs)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon subtraction-circle-icon",t),children:[(0,r.jsx)("path",{d:"M15 10.5C15 10.2239 14.7762 10 14.5 10H6.5C6.22385 10 6 10.2239 6 10.5C6 10.7761 6.22385 11 6.5 11H14.5C14.7762 11 15 10.7761 15 10.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10.5C19 15.1944 15.1944 19 10.5 19C5.80557 19 2 15.1944 2 10.5C2 5.8056 5.80557 2 10.5 2C15.1944 2 19 5.8056 19 10.5ZM18 10.5C18 14.6422 14.6422 18 10.5 18C6.35785 18 3 14.6422 3 10.5C3 6.35785 6.35785 3 10.5 3C14.6422 3 18 6.35785 18 10.5Z"})]})}function he(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon success-icon",t),children:(0,r.jsx)("path",{d:"M12 4C12.7344 4 13.4427 4.09635 14.125 4.28906C14.8073 4.47656 15.4427 4.74479 16.0312 5.09375C16.625 5.44271 17.1641 5.86198 17.6484 6.35156C18.138 6.83594 18.5573 7.375 18.9062 7.96875C19.2552 8.55729 19.5234 9.19271 19.7109 9.875C19.9036 10.5573 20 11.2656 20 12C20 12.7344 19.9036 13.4427 19.7109 14.125C19.5234 14.8073 19.2552 15.4453 18.9062 16.0391C18.5573 16.6276 18.138 17.1667 17.6484 17.6562C17.1641 18.1406 16.625 18.5573 16.0312 18.9062C15.4427 19.2552 14.8073 19.526 14.125 19.7188C13.4427 19.9062 12.7344 20 12 20C11.2656 20 10.5573 19.9062 9.875 19.7188C9.19271 19.526 8.55469 19.2552 7.96094 18.9062C7.3724 18.5573 6.83333 18.1406 6.34375 17.6562C5.85938 17.1667 5.44271 16.6276 5.09375 16.0391C4.74479 15.4453 4.47396 14.8073 4.28125 14.125C4.09375 13.4427 4 12.7344 4 12C4 11.2656 4.09375 10.5573 4.28125 9.875C4.47396 9.19271 4.74479 8.55729 5.09375 7.96875C5.44271 7.375 5.85938 6.83594 6.34375 6.35156C6.83333 5.86198 7.3724 5.44271 7.96094 5.09375C8.55469 4.74479 9.19271 4.47656 9.875 4.28906C10.5573 4.09635 11.2656 4 12 4ZM16.7109 9.35156L15.6484 8.28906L10.5 13.4375L8.35156 11.2891L7.28906 12.3516L10.5 15.5625L16.7109 9.35156Z"})})}function me(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon thumbsup-icon",t),children:(0,r.jsx)("path",{d:"M10.052 17.7057C10.3913 18.683 11.6841 19.1333 12.4829 18.2962C12.6455 18.1257 12.8081 17.9416 12.9176 17.7774C13.2379 17.2968 13.3725 16.6641 13.4218 16.0477C13.4721 15.4196 13.438 14.7454 13.3738 14.1352C13.3093 13.5225 13.2129 12.9604 13.1328 12.5522C13.1294 12.5345 13.1259 12.5171 13.1225 12.5H14.006C15.8777 12.5 17.2924 10.8049 16.9576 8.96334L16.2737 5.20164C15.8017 2.60569 13.2078 0.970952 10.6622 1.66519L5.06251 3.19239C4.14894 3.44154 3.45455 4.18547 3.26885 5.11401L2.91581 6.87918C2.63809 8.2678 3.69991 9.43756 4.82905 9.88388C5.15163 10.0114 5.44337 10.1732 5.66974 10.374C7.37583 11.8875 7.99442 13.0971 9.05406 15.2231C9.4084 15.9339 9.77205 16.8995 10.052 17.7057ZM12.0165 12.1214L12.0169 12.1229L12.0187 12.1303L12.0262 12.1614C12.0328 12.1892 12.0426 12.231 12.0549 12.2851C12.0793 12.3933 12.1135 12.5507 12.1515 12.7446C12.2277 13.1333 12.3188 13.665 12.3793 14.2398C12.4401 14.8171 12.4685 15.4242 12.425 15.9679C12.3806 16.5235 12.2652 16.9532 12.0855 17.2227C12.0264 17.3113 11.9138 17.444 11.7594 17.6058C11.5605 17.8142 11.1314 17.7657 10.9967 17.3777C10.7141 16.5639 10.3334 15.5481 9.94904 14.777C8.88216 12.6365 8.19326 11.2759 6.33336 9.62597C5.99304 9.32406 5.58878 9.1089 5.19665 8.9539C4.31631 8.60592 3.75035 7.80549 3.89639 7.0753L4.24943 5.31013C4.36085 4.753 4.77748 4.30665 5.32562 4.15715L10.9254 2.62995C12.9052 2.08999 14.9227 3.36145 15.2898 5.38053L15.9738 9.14223C16.197 10.3699 15.2538 11.5 14.006 11.5H12.5015C12.3476 11.5 12.2022 11.5709 12.1074 11.6923C12.0127 11.8136 11.9792 11.972 12.0165 12.1214C12.0165 12.1214 12.0165 12.1213 12.0165 12.1214Z"})})}function pe(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon thumbsup-icon",t),children:(0,r.jsx)("path",{d:"M10.052 2.2943C10.3913 1.317 11.6841 0.866733 12.4829 1.70386C12.6455 1.87428 12.8081 2.05844 12.9176 2.22266C13.2379 2.70317 13.3725 3.33596 13.4218 3.95233C13.4721 4.58046 13.438 5.25459 13.3738 5.86485C13.3093 6.47747 13.2129 7.0396 13.1328 7.44778C13.1294 7.46548 13.1259 7.48289 13.1225 7.50001H14.006C15.8777 7.50001 17.2924 9.19515 16.9576 11.0367L16.2737 14.7984C15.8017 17.3943 13.2078 19.0291 10.6622 18.3348L5.06251 16.8076C4.14894 16.5585 3.45455 15.8145 3.26885 14.886L2.91581 13.1208C2.63809 11.7322 3.69991 10.5625 4.82905 10.1161C5.15163 9.98862 5.44337 9.8268 5.66974 9.62598C7.37583 8.11247 7.99442 6.90288 9.05406 4.77696C9.4084 4.06607 9.77205 3.10056 10.052 2.2943ZM12.0165 7.87863L12.0169 7.87708L12.0187 7.86974L12.0262 7.83864C12.0328 7.8108 12.0426 7.76905 12.0549 7.71495C12.0793 7.60671 12.1135 7.44931 12.1515 7.25537C12.2277 6.86667 12.3188 6.33505 12.3793 5.76017C12.4401 5.18294 12.4685 4.57581 12.425 4.03207C12.3806 3.47656 12.2652 3.04685 12.0855 2.77736C12.0264 2.68871 11.9138 2.55605 11.7594 2.39422C11.5605 2.18577 11.1314 2.23429 10.9967 2.62229C10.7141 3.43611 10.3334 4.45196 9.94904 5.22306C8.88216 7.3635 8.19326 8.72409 6.33336 10.374C5.99304 10.676 5.58878 10.8911 5.19665 11.0461C4.31631 11.3941 3.75035 12.1945 3.89639 12.9247L4.24943 14.6899C4.36085 15.247 4.77748 15.6934 5.32562 15.8429L10.9254 17.3701C12.9052 17.91 14.9227 16.6386 15.2898 14.6195L15.9738 10.8578C16.197 9.63011 15.2538 8.50001 14.006 8.50001H12.5015C12.3476 8.50001 12.2022 8.42908 12.1074 8.30772C12.0127 8.18639 11.9792 8.02797 12.0165 7.87863C12.0165 7.8786 12.0165 7.87867 12.0165 7.87863Z"})})}function ve(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",...n,xmlns:"http://www.w3.org/2000/svg",className:(0,o.iv)("svg-icon video-icon",t),children:(0,r.jsx)("path",{d:"M8.76512 7.07608C8.61099 6.97969 8.41669 6.97454 8.25768 7.06264C8.09867 7.15075 8 7.31821 8 7.5V12.65C8 12.8341 8.10118 13.0033 8.26337 13.0905C8.42557 13.1776 8.62252 13.1685 8.77603 13.0669L12.776 10.4185C12.9178 10.3246 13.0022 10.1651 13 9.99508C12.9978 9.82505 12.9093 9.6678 12.7651 9.57764L8.76512 7.07608ZM4.5 3C3.11929 3 2 4.11929 2 5.5V14.5C2 15.8807 3.11929 17 4.5 17H15.5C16.8807 17 18 15.8807 18 14.5V5.5C18 4.11929 16.8807 3 15.5 3H4.5ZM3 5.5C3 4.67157 3.67157 4 4.5 4H15.5C16.3284 4 17 4.67157 17 5.5V14.5C17 15.3284 16.3284 16 15.5 16H4.5C3.67157 16 3 15.3284 3 14.5V5.5Z"})})}function fe(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon volume-icon",t),children:(0,r.jsx)("path",{d:"M15 4.25C15 3.17138 13.7255 2.59915 12.9195 3.31583L8.42794 7.30909C8.29065 7.43116 8.11333 7.49859 7.92961 7.49859H4.25C3.00736 7.49859 2 8.50595 2 9.74859V14.2465C2 15.4891 3.00736 16.4965 4.25 16.4965H7.92956C8.11329 16.4965 8.29063 16.5639 8.42793 16.686L12.9194 20.6797C13.7255 21.3965 15 20.8243 15 19.7456V4.25ZM9.4246 8.43011L13.5 4.80679V19.1888L9.42465 15.5651C9.01275 15.1988 8.48074 14.9965 7.92956 14.9965H4.25C3.83579 14.9965 3.5 14.6607 3.5 14.2465V9.74859C3.5 9.33437 3.83579 8.99859 4.25 8.99859H7.92961C8.48075 8.99859 9.01272 8.7963 9.4246 8.43011ZM18.9916 5.89733C19.3244 5.65079 19.7941 5.72077 20.0407 6.05362C21.2717 7.7157 22 9.7739 22 12C22 14.2261 21.2717 16.2843 20.0407 17.9464C19.7941 18.2793 19.3244 18.3492 18.9916 18.1027C18.6587 17.8562 18.5888 17.3865 18.8353 17.0536C19.8815 15.6411 20.5 13.8939 20.5 12C20.5 10.1062 19.8815 8.35896 18.8353 6.94641C18.5888 6.61356 18.6587 6.14387 18.9916 5.89733ZM17.143 8.36933C17.5072 8.17214 17.9624 8.30757 18.1596 8.67184C18.6958 9.66245 19 10.7968 19 12C19 13.2032 18.6958 14.3376 18.1596 15.3282C17.9624 15.6924 17.5072 15.8279 17.143 15.6307C16.7787 15.4335 16.6432 14.9783 16.8404 14.6141C17.2609 13.8373 17.5 12.9477 17.5 12C17.5 11.0523 17.2609 10.1627 16.8404 9.38593C16.6432 9.02167 16.7787 8.56652 17.143 8.36933Z"})})}function ge(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon warning-icon",t),children:(0,r.jsx)("path",{d:"M10.9092 2.78216C11.949 2.20625 13.247 2.54089 13.8848 3.5224L13.9676 3.66023L21.7266 17.6685C21.9114 18.0021 22.0084 18.3773 22.0084 18.7587C22.0084 19.9495 21.0832 20.9243 19.9124 21.0035L19.7584 21.0087H4.2426C3.86129 21.0087 3.48623 20.9118 3.15265 20.7271C2.11281 20.1513 1.70777 18.8734 2.20133 17.812L2.27422 17.6687L10.031 3.66046C10.2355 3.2911 10.5399 2.98674 10.9092 2.78216ZM20.4144 18.3953L12.6555 4.38702C12.4548 4.02467 11.9983 3.89363 11.636 4.09433C11.5437 4.14547 11.4635 4.21533 11.4005 4.299L11.3433 4.3871L3.58647 18.3954C3.38582 18.7577 3.51692 19.2141 3.87928 19.4148C3.96268 19.461 4.05385 19.4907 4.14785 19.5027L4.2426 19.5087H19.7584C20.1726 19.5087 20.5084 19.1729 20.5084 18.7587C20.5084 18.6633 20.4902 18.5691 20.4551 18.4811L20.4144 18.3953L12.6555 4.38702L20.4144 18.3953ZM12.0003 16.0018C12.5518 16.0018 12.9989 16.4489 12.9989 17.0004C12.9989 17.552 12.5518 17.9991 12.0003 17.9991C11.4487 17.9991 11.0016 17.552 11.0016 17.0004C11.0016 16.4489 11.4487 16.0018 12.0003 16.0018ZM11.9961 8.49955C12.3758 8.49925 12.6898 8.78115 12.7397 9.14718L12.7467 9.24895L12.7503 13.7505C12.7506 14.1648 12.4151 14.5008 12.0009 14.5011C11.6212 14.5014 11.3072 14.2195 11.2572 13.8535L11.2503 13.7517L11.2467 9.25015C11.2463 8.83594 11.5819 8.49988 11.9961 8.49955Z"})})}function xe(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon warning-full-icon",t),children:(0,r.jsx)("path",{d:"M10.5297 3.65893C11.3859 2.1111 13.6111 2.11108 14.4673 3.65888L22.2131 17.6603C23.0427 19.16 21.9581 20.9995 20.2443 20.9995H4.75323C3.03945 20.9995 1.95483 19.16 2.78438 17.6604L10.5297 3.65893ZM13.4973 17.0009C13.4973 16.4494 13.0502 16.0022 12.4987 16.0022C11.9471 16.0022 11.5 16.4494 11.5 17.0009C11.5 17.5524 11.9471 17.9996 12.4987 17.9996C13.0502 17.9996 13.4973 17.5524 13.4973 17.0009ZM13.2381 9.14764C13.1882 8.7816 12.8742 8.4997 12.4945 8.5C12.0802 8.50033 11.7447 8.83639 11.7451 9.2506L11.7487 13.7522L11.7556 13.854C11.8055 14.22 12.1196 14.5019 12.4993 14.5016C12.9135 14.5013 13.249 14.1652 13.2487 13.751L13.2451 9.2494L13.2381 9.14764Z"})})}function Ce(e){const{className:t,...n}=e;return(0,r.jsx)("svg",{role:"presentation",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...n,className:(0,o.iv)("svg-icon",t),children:(0,r.jsx)("path",{d:"M11.0001 12.5001C11.0001 12.224 11.2239 12.0001 11.5001 12.0001H14.5001C14.7762 12.0001 15.0001 12.224 15.0001 12.5001C15.0001 12.7762 14.7762 13.0001 14.5001 13.0001H11.5001C11.2239 13.0001 11.0001 12.7762 11.0001 12.5001ZM8.00006 5.50003C8.00006 5.22389 7.7762 5.00003 7.50005 5.00003C7.22391 5.00003 7.00005 5.22389 7.00005 5.50003V6.50004H6.00004C5.72389 6.50004 5.50003 6.7239 5.50003 7.00005C5.50003 7.27619 5.72389 7.50005 6.00004 7.50005H7.00005V8.50006C7.00005 8.7762 7.22391 9.00006 7.50005 9.00006C7.7762 9.00006 8.00006 8.7762 8.00006 8.50006V7.50005H9.00006C9.27621 7.50005 9.50007 7.27619 9.50007 7.00005C9.50007 6.7239 9.27621 6.50004 9.00006 6.50004H8.00006V5.50003ZM10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18ZM10 17C8.247 17 6.6445 16.3556 5.41645 15.2908L15.2908 5.41645C16.3556 6.6445 17 8.247 17 10C17 13.866 13.866 17 10 17ZM4.70933 14.5837C3.64444 13.3556 3.00001 11.7531 3.00001 10C3.00001 6.13401 6.13401 3.00001 10 3.00001C11.7531 3.00001 13.3556 3.64444 14.5837 4.70933L4.70933 14.5837Z"})})}},17486:(e,t,n)=>{n.d(t,{C:()=>i});var o=n(67280),r=n(72243),a=n(82435);function i(e){const{className:t,illustration:n,subtitle:i,title:s}=e;return(0,a.jsxs)("div",{className:(0,o.iv)("illustration-view standard-view",t,"absolute-fill flex-column flex-grow flex-align-center flex-justify-center text-align-center padding-40"),children:[(0,a.jsx)(r.Suspense,{fallback:null,children:n}),(0,a.jsx)("span",{"aria-level":2,className:"title-s margin-top-16",role:"heading",children:s}),i?(0,a.jsx)("span",{className:"margin-top-8",children:i}):null]})}},94434:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(87501),r=n(67280),a=n(72243),i=n(77357),s=n(69989),l=n(2408),c=n(98540),d=n(78465),u=n(69873),h=n(43409),m=n(46303),p=n(82435);const v=1500,f={direction:o.Uj.Vertical,handleTabKey:!1,skipHiddenCheck:!0};function g(e){const{ariaLabel:t,className:n,componentRef:g,dragSelect:C=!0,focuszoneProps:w=f,itemFeed:b,layoutFunction:y,role:j="list",selection:L,scrollingElement:P,viewUpdated:N}=e,{cursor:k,getItemsFromFeed:S}=b,T=a.useRef(0),A=a.useRef([]),E=a.useRef(null),M=a.useRef(),D=a.useRef(),R=a.useRef([]),I=a.useRef(!1),[V,F]=a.useState({value:[]}),[,O]=a.useState(0),[U,B]=a.useState(0);a.useImperativeHandle(g,(()=>({getCenterTile:re,getTile:ae,getAllTiles:oe,getVisibleTiles:ie,scrollTo:se})));const{dragRect:H,onMouseDown:Z,onTouchStart:_}=(0,s.Y)({minDistance:15}),{setTimeout:$}=(0,h.K)(),{setTimeout:z}=(0,h.K)({preserve:!0}),{setTimeout:G}=(0,h.K)({preserve:!0}),{trackPromise:W}=(0,d.f)(),q=(0,m.X7)(),Q=(0,c.mU)(b.initialized),{elements:X,height:Y,tiles:K}=a.useMemo((()=>U?y(V.value,U,k.previousPage?M.current:void 0,!!k.previousPage||!Q,!!k.nextPage):{elements:[],height:0,tiles:[]}),[k.previousPage,k.nextPage,V,Q,y,U]);a.useMemo((()=>{M.current=void 0,D.current=void 0,A.current=[],S().catch(q)}),[S,q]);const J=[],ee=[],te=[];if(P.current&&E.current){const e=P.current.getBoundingClientRect(),t=E.current.getBoundingClientRect(),n=Math.max(0,-(t.top-e.top))-1500,o=e.height-Math.max(0,t.top-e.top)+3e3;for(let r=0;r<X.length;r++){const e=X[r];e.rect.top<n+o+(K[0]?K[0].rect.top:0)&&e.rect.top+e.rect.height>n?(J.push(e.element),ee.push(e),e.tileDetails&&te.push(e.tileDetails)):A.current&&e.tileDetails&&A.current.indexOf(e.tileDetails.item)>=0&&J.push(e.element)}}const ne=te.length?te[0].item.id:"";return a.useLayoutEffect((()=>{if(P.current&&M.current){const e=ae(M.current);e&&(D.current?P.current.scrollTop+=e.rect.top-D.current.top:k.previousPage&&se(e.item,"center"),D.current=e.rect)}N&&N(ee,te),function(){const e=P.current;if(e&&Q&&K.length&&T.current<2&&!I.current){const t=[void 0,void 0];I.current=!0,k.previousPage&&K[0].rect.top+v>=e.scrollTop&&(t[0]=S(k.previousPage)),k.nextPage&&K[K.length-1].rect.top+K[K.length-1].rect.height<=e.scrollTop+e.clientHeight+v&&(t[1]=S(k.nextPage)),t[0]||t[1]?W(Promise.all(t)).then((()=>{I.current=!1,T.current=0,O((e=>e+1))})).catch((e=>{e.canceled||(I.current=!1,O((e=>e+1)),1===++T.current&&q(e))})):I.current=!1}}()})),(0,c.Qe)(b.items,(e=>{const{addedItems:t,removedItems:n}=e;if(t&&(M.current||(M.current=t[0])),n&&M.current)for(let o=0;o<n.length;o++){if(n[o].id===M.current.id){M.current=b.items.value[Math.max(0,e.index-1)],D.current=void 0;break}}F({value:b.items.value})})),(0,l.OR)(P.current,"scroll",(()=>{T.current=0,z((()=>O((e=>e+1))),30)}),l.AE),(0,l.OR)(P.current,"touchmove",(e=>{H.value&&e.preventDefault()}),l.qf),(0,u.a)(E,(e=>{$((()=>{U!==e[0].contentRect.width&&B(e[0].contentRect.width)}),50)})),(0,p.jsx)(o.kP,{...w,focusGroupProps:{defaultElementId:ne},children:(0,p.jsxs)("div",{"aria-label":t,className:(0,r.iv)("tile-layout",n,"relative flex-noshrink user-select-none"),onFocus:function(e){let t=e.target;for(;t&&t!==E.current;){const e=t.getAttribute("data-item-id");if(e){for(let t=0;t<K.length;t++){const{id:n}=K[t].item;if(e===n){A.current.push(K[t].item),t>0&&A.current.push(K[t-1].item),t+1<K.length&&A.current.push(K[t+1].item);break}}break}t=t.parentElement}},onMouseDown:e=>{C&&(!e.defaultPrevented&&L&&(e.shiftKey?R.current=Array.from(L.value):R.current=[]),Z(e))},onTouchStart:e=>{C&&(_(e),!e.defaultPrevented&&L&&(R.current=Array.from(L.value)))},ref:E,role:j,style:{height:Y},children:[J,(0,p.jsx)(i.Q,{values:{dragRect:H},children:e=>{let{dragRect:t}=e;return t&&L?(G((()=>{const e=[];for(const n of K)x(t,n.rect)&&!1!==n.item.selectable&&e.push(n.item.id);L&&L.select([...R.current,...e])}),25),(0,p.jsx)("div",{"aria-hidden":!0,className:"absolute-fill pointer-events-none",children:(0,p.jsx)("div",{className:"layout-range-select relative",style:t})})):null}})]})});function oe(){return K}function re(){const e=E.current,t=P.current;let n;if(e&&t){const o=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=o.left-r.left+t.scrollLeft,i=o.top-r.top+t.scrollTop;let s=Number.MAX_SAFE_INTEGER;const l={x:(r.right-r.left)/2+t.scrollLeft,y:(r.bottom-r.top)/2+t.scrollTop};for(let e=0;e<K.length;e++){const t=K[e],o=t.rect,r=Math.abs(l.x-(o.left+a+o.width/2)),c=Math.abs(l.y-(o.top+i+o.height/2)),d=Math.sqrt(r*r+c*c);d<s&&(s=d,n=t)}}return n}function ae(e){for(let t of K)if(t.item===e||t.group.length>1&&t.group.indexOf(e)>=0)return t}function ie(){const e=E.current,t=P.current,n=[];if(e&&t){const o=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=o.left-r.left,i=o.top-r.top,s={left:a>0?0:Math.abs(a),height:Math.min(o.height,r.height-Math.max(0,i)),top:i>0?0:Math.abs(i),width:Math.min(o.width,r.width-Math.max(0,a))};for(const e of K)x(s,e.rect)&&n.push(e)}return n}function se(e,t){const n=E.current,o=P.current;if(o&&n){const r=ae(e);if(r){const e=n.getBoundingClientRect(),a=o.getBoundingClientRect(),i=e.top-a.top+o.scrollTop,s=null===r||void 0===r?void 0:r.rect;let l;l="top"===t?s.top:"center"===t?s.top-(o.clientHeight-s.height)/2:s.top-(P.current.clientHeight-s.height),P.current.scrollTop=Math.max(0,l+i)}}}}function x(e,t){return e.left<t.left+t.width&&e.left+e.width>t.left&&e.top<t.top+t.height&&e.top+e.height>t.top}},49916:(e,t,n)=>{n.d(t,{X:()=>L,z:()=>P});var o=n(18421),r=n(95112),a=n(98381),i=n(67280),s=n(71914),l=n(72243),c=n(14766),d=n(13812),u=n(10995),h=n(960),m=n(82435);const{CheckboxStateChecked:p,CheckboxStateUnchecked:v,GridLayoutLabel:f,GroupPhotosTitle:g,InlineHeaderTitle:x,MasonryLayoutLabel:C,RiverLayoutLabel:w,SelectLayoutLabel:b,ShowFilenameTitle:y,ViewAsMenuHeader:j}=window.Resources.Common;function L(e,t,n,o,i,s){const l=[{id:"view-header",itemType:a.MenuItemType.Header,text:j},{checked:"river"===o,className:"simple-checkbox",iconProps:{render:e=>(0,m.jsx)(h.gE,{className:e})},id:"river",onActivate:()=>i("river"),readonly:!0,text:w},{checked:"masonry"===o,className:"simple-checkbox",iconProps:{render:e=>(0,m.jsx)(h.Rk,{className:e})},id:"masonry",onActivate:()=>i("masonry"),readonly:!0,text:C},{checked:"grid"===o,className:"simple-checkbox",iconProps:{render:e=>(0,m.jsx)(h.rj,{className:e})},id:"grid",onActivate:()=>i("grid"),readonly:!0,text:f}];if(s){const i=function(e,t,n){const o=[];return e.embedded||o.push({checked:t.featureEnabled("autoGroupPhotos"),flagValue:"autoGroupPhotos",iconProp:e=>(0,m.jsx)(h.ky,{className:e}),name:"autoGroupPhotos",text:g}),"masonry"!==n&&(o.push({checked:t.featureEnabled("showHeaders"),flagValue:"showHeaders",iconProp:e=>(0,m.jsx)(h.Lw,{className:e}),name:"showHeaders",text:x}),o.push({checked:t.featureEnabled("showFilenames"),flagValue:"showFilenames",iconProp:e=>(0,m.jsx)(h.QS,{className:e}),name:"showFilenames",text:y})),o}(t,n,o);i.length&&(l.push({className:"feature-divider",id:"feature-divider",itemType:a.MenuItemType.Divider}),i.forEach((t=>{l.push({ariaLabel:t.tooltip,checked:t.checked,className:"feature-row",iconProps:{render:t.iconProp},id:t.name,onActivate:()=>{const o=!t.checked.value;n.setFeatureEnabled(t.flagValue,o),e.dispatchEvent("telemetryAvailable",{action:"userAction",feature:t.flagValue,name:"toggleFeature",value:o}),(0,r.x)(o?p:v,!0)},text:t.text})})))}return l}function P(e){const{className:t,layoutAlgorithm:n,role:r="menuitem",selectAlgorithm:p,showExtendedOptions:v=!0}=e,f=l.useContext(u.B3),g=l.useContext(c.A),x=l.useContext(d.S),C=l.useMemo((()=>new o.db(L(g,f,x,n,p,v))),[x,n,p,v]);return(0,m.jsx)(a.MenuButton,{buttonClassName:"normal-button",contextualMenuProps:{anchorOffset:{horizontal:0,vertical:4},anchorOrigin:{horizontal:s.Ye.start,vertical:s.Ye.end},menuOrigin:{horizontal:s.Ye.start,vertical:s.Ye.start},menuProps:{className:(0,i.iv)(t,"compact-menu status-menu"),id:"layoutAlgorithm",items:C}},hideDropdownIcon:!0,iconProps:{render:e=>function(e,t){return"grid"===e?(0,m.jsx)(h.rj,{className:t}):"river"===e?(0,m.jsx)(h.gE,{className:t}):(0,m.jsx)(h.Rk,{className:t})}(n,e)},id:"layout-dropdown",role:r,subtle:!0,tooltipProps:{showOnFocus:!0,text:b}},"layout-dropdown")}},57025:(e,t,n)=>{n.d(t,{m:()=>s});var o=n(87501),r=n(26746),a=n(72243),i=n(82435);function s(e){const{children:t,details:n,index:s,...l}=e,c=a.useContext(o.Vn);return(0,i.jsx)("tr",{"aria-posinset":s+1,"aria-setsize":n.listProps.itemProvider.length,"data-focuszone":n.excludeFocusZone?void 0:c.focuszoneId,"data-row-index":s,role:"listitem",tabIndex:(0,r.p)(n),...l,onFocus:t=>{e.onFocus&&e.onFocus(t),n.onFocusItem(s,t)},children:(0,i.jsx)("td",{children:t})})}},36221:(e,t,n)=>{n.d(t,{N:()=>T});var o=n(40477),r=n(67280),a=n(72243),i=n(14766),s=n(13812),l=n(29612),c=n(98540),d=n(6558),u=n(960),h=n(10995),m=n(62873),p=n(62216),v=n(82435);const{BuyStorageButton:f,ManageStorageButton:g,UpgradeNowButton:x}=window.Resources.Common,{MOJEmailButton:C,MOJEmailText:w,QuotaCritical:b,QuotaFull:y,QuotaFullOver:j,QuotaHalfway:L,QuotaHalfway2:P,QuotaNearing:N,QuotaNearingCritical:k,QuotaOver:S}=window.Resources.NotificationBanner;function T(e){const{className:t,maxVisible:n=1}=e,T=a.useContext(i.A),A=a.useContext(s.S),E=a.useContext(h.B3),M=a.useContext(l.J),D=a.useContext(m.v),[R,I]=a.useState([]);return(0,c.mU)(E.accountDetails,V),(0,c.mU)(D.getUserPreferences("email"),V),a.useEffect((()=>{0===R.length&&V()}),[E.accountDetails.value,D.getUserPreferences("email").value]),(0,v.jsx)("div",{className:(0,r.iv)("photo-notification-group flex-column",t),children:R.map((e=>(0,v.jsx)(o.K,{buttonProps:e.buttonProps,className:e.className,iconProps:{render:()=>e.icon},messageBarClassName:"notification-banner",onDismiss:()=>{var t;M.mergeSetting("notificationsExpiry",{[e.type]:e.timeout?Date.now()+1e3*e.timeout*60*60*24:0});const n=R.indexOf(e);if(n>=0){const e=R.filter(((e,t)=>t!==n));I(e)}T.dispatchEvent("telemetryAvailable",{action:"userAction",name:"dismissNotificationBanner",value:e}),null===(t=e.onDismiss)||void 0===t||t.call(e)},children:e.textContent},e.type)))});function V(){const e=E.accountDetails.value,t=D.getUserPreferences("email").value;if(e&&t){const o=function(e){const{accountDetails:t,emailPreferences:n,eventContext:o}=e,r=[];if(t&&t.quota){const{quota:e,unifiedStorageQuota:n}=t,{state:a,total:i,used:s}=n||e,{storagePlans:l}=e,c=i>=107374182400&&i<1099511627776,h=Math.floor(s/i*100),m="critical"===a,C="full"===a,w="nearing"===a||"normal"===a&&h>=70&&l.upgradeAvailable&&!c,T="normal"===a&&h>=50&&h<=69&&l.upgradeAvailable&&!c,A="overlimit"===a||"exceeded"===a,E=[{className:"storage-link",href:"https://onedrive.live.com/?v=managestorage",onClick:()=>{o.dispatchEvent("telemetryAvailable",{action:"userAction",name:"manageStorage"})},subtle:!0,text:g},{className:"upgrade-button",href:"https://onedrive.live.com/?v=upgrade&hideLeftNav=true&hideLeftNav=true&ocid=PROD_OneDrive-Web_PremiumLeftNav_Normal_GetMoreStorage",onClick:()=>{o.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigatePremium"})},text:T?x:f}];T?r.push({className:"banner quota-banner halfway",buttonProps:E,icon:(0,v.jsx)(u.d,{className:"margin-right-8"}),textContent:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"font-weight-semibold body-s margin-right-12",children:L}),(0,v.jsx)("span",{className:"body-s",children:(0,d.WU)(P,{size:(0,p.BU)(s)})})]}),timeout:90,type:"quota"}):w?r.push({className:"banner quota-banner full",buttonProps:E,icon:(0,v.jsx)(u.v3,{className:"margin-right-8"}),textContent:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"font-weight-semibold body-s margin-right-12",children:(0,d.WU)(N,{percentage:h})}),(0,v.jsx)("span",{className:"body-s",children:k})]}),timeout:90,type:"quota"}):m?r.push({className:"banner quota-banner full",buttonProps:E,icon:(0,v.jsx)(u.jj,{className:"margin-right-8"}),textContent:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"font-weight-semibold body-s margin-right-12",children:(0,d.WU)(b,{percentage:h})}),(0,v.jsx)("span",{className:"body-s",children:k})]}),timeout:90,type:"quota"}):C?r.push({className:"banner quota-banner full",buttonProps:E,icon:(0,v.jsx)(u.jj,{className:"margin-right-8"}),textContent:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"font-weight-semibold body-s margin-right-12",children:(0,d.WU)(y,{percentage:h})}),(0,v.jsx)("span",{className:"body-s",children:j})]}),timeout:90,type:"quota"}):A&&r.push({className:"banner quota-banner full",buttonProps:E,icon:(0,v.jsx)(u.jj,{className:"margin-right-8"}),textContent:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"font-weight-semibold body-s margin-right-12",children:(0,d.WU)(S,{percentage:h})}),(0,v.jsx)("span",{className:"body-s",children:j})]}),timeout:90,type:"quota"})}n&&(n.WeekendRecap||n.albumSuggestion||r.push({className:"banner moj-banner",buttonProps:[{text:C,href:"https://onedrive.live.com/?v=NotificationOptions",onClick:()=>{o.dispatchEvent("telemetryAvailable",{action:"userAction",name:"goToNotificationSettingPage"})},primary:!0}],featureDependencies:["EnableMOJNotificationBanner"],icon:(0,v.jsx)(u.it,{className:"margin-right-8"}),textContent:w,timeout:90,type:"mojemail"}));return r}({eventContext:T,accountDetails:e,emailPreferences:t}),r=M.getSetting("notificationsExpiry")||{};let a=!1;const i=[];for(let e=0;e<o.length;e++){const t=o[e],s=t.type;if(t.featureDependencies&&t.featureDependencies.some((e=>!1===A.featureEnabled(e).value)))continue;const l=r[s];if(!(0===l||Date.now()<l)){if(a=!0,delete r[s],!(i.length<n))break;i.push(t)}}I(i),a&&M.setSetting("notificationsExpiry",r)}}}},86068:(e,t,n)=>{n.d(t,{S:()=>g});var o=n(75894),r=n(87501),a=n(67280),i=n(72243),s=n(77357),l=n(14766),c=n(98540),d=n(44721),u=n(960),h=n(10995),m=n(20857),p=n(78649),v=n(82435);const{ToggleNavigation:f}=window.Resources.Common;function g(e){const{children:t,className:n,defaultElementIds:g,raised:x}=e,C=i.useContext(l.A),w=i.useContext(h.B3),b=i.useRef(null),[y]=i.useState((()=>new d.Y)),[j,L]=(0,c.mA)(!1),P=(0,c.mU)(e.selection||y),N="desktop"===(0,p.W)(i.useCallback((e=>{"desktop"===e&&j.value&&L(!1)}),[L,j.value])),k=P.size,S=k>0||x,T=N||!w.authenticated()||w.embedded?g?P.size?g.selectionActive:g.selectionInactive:void 0:"open-navigation";return(0,v.jsxs)("div",{className:"relative flex-row flex-noshrink",ref:b,children:[(0,v.jsx)(r.kP,{direction:r.Uj.Horizontal,focusGroupProps:{defaultElementId:T},handleTabKey:!1,children:(0,v.jsxs)("div",{className:(0,a.iv)("page-command-bar command-bar",n,"flex-row flex-grow flex-align-center padding-vertical-8 overflow-hidden",S&&"page-command-bar-raised",!N&&S&&"depth-16",N&&0===k&&!x&&"margin-left-12 margin-right-32",(w.embedded||N)&&S&&"margin-left-4 margin-right-24 padding-horizontal-8 depth-16"),role:"menubar",children:[!N&&w.authenticated()&&!w.embedded&&(0,v.jsxs)("div",{className:(0,a.iv)("page-command-bar-inner flex-row flex-align-center margin-left-8"),children:[(0,v.jsx)(o.Button,{ariaLabel:f,className:"toggle-navigation",iconProps:{render:e=>(0,v.jsx)(u.Dg,{className:e})},id:"open-navigation",onClick:()=>{C.dispatchEvent("telemetryAvailable",{action:"userAction",name:"showNavigationPanel"}),L(!j.value)},role:"menuitem",subtle:!0},"toggle-navigation"),(0,v.jsx)("div",{className:(0,a.iv)("separator-line-right margin-vertical-4 margin-left-8")})]}),(0,v.jsx)("div",{className:(0,a.iv)("page-command-bar-inner flex-row flex-align-center flex-grow",!N&&"margin-horizontal-12"),children:t&&t(P)})]})}),(0,v.jsx)(s.Q,{values:{showNavigation:j},children:e=>{let{showNavigation:t}=e;return t?(0,v.jsx)(m.$6,{onDismiss:()=>L(!1)}):null}})]})}},60946:(e,t,n)=>{n.d(t,{P:()=>m});var o=n(67280),r=n(72243),a=n(14288),i=n(98540),s=n(63693),l=n(62216),c=n(15690),d=n(48288),u=n(82435);const h={height:0,width:0};function m(e){const{alt:t,blocking:n=!1,className:m,cropRect:p,debugInfo:v,dimensions:f,fadeIn:g=!0,fixed:x=!1,getPhotoContent:C,onError:w,onLoad:b,photo:y,downloadScale:j,transition:L=!0,...P}=e,{height:N,width:k}=y.dimensions,S=r.useContext(a.r),T=r.useRef(null),A=r.useRef(null),E=r.useRef(void 0),[M,D]=r.useState(void 0),R=r.useMemo((()=>{let e;if(n){const t=S.getScenario();t&&(e=(0,s.PQ)(),t.waitUntil(e.promise,{scenarioName:"downloadPhoto",scenarioType:"imageLoad",waitForPaint:!1}))}return e}),[n,y.id,j]);r.useEffect((()=>()=>{null===R||void 0===R||R.reject({isCanceled:!0,reason:{unmount:!0}})}),[R]);const I=(0,c.Wl)(Math.min(f.height,N||256),Math.min(f.width,k||256),(null===p||void 0===p?void 0:p.height)||N||256,(null===p||void 0===p?void 0:p.width)||k||256,{crop:!p});let V;L&&(I.height>750||I.width>750)&&(V=(0,c.Wl)(256,256,I.height,I.width));const F=C(y.id,{cacheToken:y.lastModifiedDateTime,filename:y.name,photoScale:V},!0),O=p?(0,c.Ig)(y.dimensions,p,I):h,U=p?O:"full"===j?!y.file||(0,c.uW)(y.file.mimeType)?"full":y.dimensions:j||I;let B,H;p&&(B=(0,c.pG)(y.dimensions,p,O)),L&&p&&V&&(H=(0,c.pG)(y.dimensions,p,V));const Z=C(y.id,{cacheToken:y.lastModifiedDateTime,filename:y.name,photoScale:U}),_=x?f:I;let $=t;var z;t||(null!==(z=y.tags)&&void 0!==z&&z.length?$=(0,l.$9)(y):y.name&&($=y.name));const G=r.useCallback(((e,t)=>{t?(D(d.Z),null===R||void 0===R||R.reject(t),w&&w(e)):(null===R||void 0===R||R.resolve(),b&&b(e))}),[R,w,b,D]);(0,i.mU)(Z.status,(e=>{if("rejected"===e&&"fulfilled"!==q)return G(void 0,{error:{code:"downloadFailed",message:`${y.id}:${W}`}}),!0}));const W=(0,i.mU)(Z.url,(e=>(E.current=e,!0))),q=(0,i.mU)(F.status),Q=(0,i.mU)(F.url);r.useMemo((()=>{Q&&H&&V&&(0,c.xJ)(Q,H,f,A,V)}),[f,V,H,Q]),r.useMemo((()=>{W&&B&&!M&&(0,c.xJ)(W,B,f,T,O).then((()=>G(void 0))).catch((()=>G(void 0,{error:{code:"cropFailed",message:`${y.id}:${W}`}})))}),[T,O,f,M,G,W,y.id,B]);const X=v&&(0,u.jsx)("div",{className:"photo-debug-info absolute sub-layer pointer-events-none",style:{height:_.height,width:_.width},children:v});return M?(0,u.jsxs)(u.Fragment,{children:[(0,r.createElement)("div",{"aria-label":$,...P,className:(0,o.iv)("photo",m,"photo-failed"),key:`f-${y.id}`,style:{backgroundImage:`url(${M})`,height:_.height,width:_.width}}),X]}):(0,u.jsxs)(u.Fragment,{children:["fulfilled"===q?H?(0,u.jsx)("canvas",{"aria-label":$,className:(0,o.iv)("photo-transition photo-canvas",m),height:Math.ceil(_.height),ref:A,width:Math.ceil(_.width),style:{height:_.height,width:_.width}},"canvas-overlay"):(0,u.jsx)("div",{"aria-hidden":!0,className:(0,o.iv)("photo-transition photo-image",m),style:{backgroundImage:`url(${Q})`,height:_.height,width:_.width}},"image-overlay"):null,W?B?(0,u.jsx)("canvas",{"aria-label":$,className:(0,o.iv)("photo photo-canvas",m,g?"fade-in":"visible"),height:Math.ceil(_.height),ref:T,width:Math.ceil(_.width),style:{height:_.height,width:_.width}},`cs-${y.id}`):(0,r.createElement)("img",{...P,alt:$,className:(0,o.iv)("photo photo-image",m,g?"fade-in":"visible"),key:`is-${y.id}`,onError:e=>G(e,{error:{code:"loadFailed",message:`${y.id}:${W}`}}),onLoad:e=>G(e),style:{backgroundImage:`url(${E.current||W})`,height:_.height,width:_.width},src:E.current||W}):null,X]})}},54861:(e,t,n)=>{n.d(t,{j:()=>v,J:()=>p});var o=n(81431),r=n(23706),a=n(67280),i=n(72243),s=n(14766),l=n(6558),c=n(43834),d=n(62216),u=n(15690),h=n(82435);const{SelectAllForDate:m}=window.Resources.Common,p=40;function v(e){const{className:t,photos:n,format:p,rect:v,selection:f,showLocation:g=!1}=e,x=i.useContext(c.K),C=i.useContext(s.A),[w,b]=i.useState(f&&f.allSelected(n)),y=(0,u.yp)(n[0]),j=p?p(y):(new Date).getFullYear()!==y.getFullYear()?x.formatDate(y,"long"):x.formatDate(y,"short");let L;if(g){const e={};for(const t of n)if(t.location){const n=(0,d.T7)(t.location);n&&(e[n]?e[n]++:e[n]=1)}for(const t of Object.keys(e))L?e[t]>e[L]&&(L=t):L=t}const P=i.useMemo((()=>!!f&&(!!w&&f.allSelected(n))),[w,n,f]);return null===f||void 0===f||f.subscribe(((e,t)=>{w&&"unselect"===t&&!f.allSelected(n)?b(!1):!w&&"select"===t&&f.allSelected(n)&&b(!0)})),(0,h.jsx)("div",{"aria-hidden":!0,"aria-level":2,className:(0,a.iv)("photo-header",t,"absolute body-m flex-row flex-align-center overflow-hidden"),role:"heading",style:{height:v.height,left:v.left,top:v.top,width:v.width},children:(0,h.jsxs)("div",{className:"photo-header-container flex-row flex-align-center cursor-pointer",onClick:e=>{e.defaultPrevented||N(e,"title")},children:[f&&(0,h.jsx)(o.Checkbox,{ariaLabel:(0,l.WU)(m,{date:j}),checked:P,className:"photo-header-checkbox photo-checkbox",excludeFocusZone:!0,onChange:e=>{e.defaultPrevented||N(e,"checkbox")}}),(0,h.jsx)("time",{className:"photo-header-date font-weight-semibold text-ellipsis",children:j}),g&&L&&(0,h.jsx)(r.Tooltip,{overflowOnly:!0,children:(0,h.jsx)("span",{className:"photo-header-location secondary-text text-ellipsis padding-left-8",children:L})})]})});function N(e,t){f&&(C.dispatchEvent("telemetryAvailable",{action:"userAction",mode:t,name:w?"unselectForDate":"selectForDate"}),w?f.unselect(n.map((e=>e.id))):f.select(n.map((e=>e.id)),!0),b(!w),e.preventDefault())}}},14144:(e,t,n)=>{n.d(t,{f:()=>q});var o=n(75894),r=n(81431),a=n(95112),i=n(41566),s=n(87501),l=n(2243),c=n(23706),d=n(67280),u=n(26746),h=n(72243),m=n(14766),p=n(13812),v=n(7803),f=n(62119),g=n(90743),x=n(98540),C=n(43409),w=n(32382),b=n(6558),y=n(77633),j=n(43834),L=n(13097),P=n(10995),N=n(78649),k=n(64126),S=n(68684),T=n(62216),A=n(960),E=n(60946),M=n(38997),D=n(32580),R=n(55539),I=n(82435);function V(e){const{blocking:t,children:n,configuration:o,origin:r,placeholder:a=null}=e,i=h.useContext(p.S),s=h.useContext(R.T),{setTimeout:l}=(0,C.K)(),[c]=h.useState((()=>{let t=!1;return(n,o)=>{if(n){if("throttleStart"===o)t=!0;else if("throttleEnd"===o)t=!1;else if(!1===t)return;e.throttleCallback&&e.throttleCallback(n,o)}}})),[d]=h.useState((()=>{if(i.featureEnabled("throttleNetwork").value){const e=s.throttle(r);for(let t=0;t<o.length;t++){const n=o[t];if(e>=n.throttle)return c(n,"throttleStart"),l((()=>{c(n,"throttleEnd"),m(!1)}),n.delayMs),n}}})),[u,m]=h.useState(!!d);h.useEffect((()=>()=>c(d,"throttleUnmount")),[d,c]);let v=u?a:n;return t&&d&&(v=(0,I.jsx)(D.$,{complete:()=>!u,scenarioName:"throttleChildren",children:v})),v}var F=n(48090),O=n(67502);const{CheckboxStateChecked:U,CheckboxStateUnchecked:B,Duration:H,PhotoText:Z,RangeSelected:_,SharedLabel:$,VideoText:z}=window.Resources.Common,{GroupedPhotoTooltip:G}=window.Resources.PhotoTile,W=[{throttle:1,delayMs:18e3},{throttle:.95,delayMs:15e3},{throttle:.9,delayMs:1e4},{throttle:.85,delayMs:5e3},{throttle:.75,delayMs:3e3},{throttle:.6,delayMs:1e3}];function q(e){var t,n,D,R;const{aspectRatio:q,blocking:Q=!1,className:X="absolute",commandActive:Y,commands:K,debugInfo:J,downloadPhoto:ee,fixed:te=!1,group:ne=[],href:oe,label:re,navigationState:ae,orientation:ie,padding:se,photo:le,rect:ce,selection:de,showFavorite:ue,subtitle:he,telemetryProperties:me={},transition:pe=!0,...ve}=e,{id:fe,video:ge}=le,xe=se?{...ce,height:ce.height-se.bottom}:ce,Ce=h.useContext(j.K),we=h.useContext(L.D),be=h.useContext(m.A),ye=h.useContext(p.S),je=h.useContext(i.FocusGroupContext),Le=h.useContext(s.Vn),Pe=h.useContext(v.k),Ne=h.useContext(P.B3),ke=h.useRef(!1),Se=h.useRef(void 0),[Te,Ae]=h.useState(!1),[Ee,Me]=h.useState(!1),[De,Re]=h.useState(!1),[Ie,Ve]=h.useState(0),[Fe,Oe]=h.useState(!1),[Ue,Be]=h.useState(!!de&&de.selected(fe)),He="mobile"===(0,N.W)(),Ze=(0,x.mU)(ye.featureEnabled("showCompactLayout"))||He,{clearInterval:_e,setInterval:$e}=(0,C.Y)(),{clearTimeout:ze,setTimeout:Ge}=(0,C.K)(),We=oe?"a":"button",qe=ge?"video":"photo",{hasFocus:Qe,onBlur:Xe,onFocus:Ye}=(0,f.q)({onFocusChange:e=>gt(e,Ke)}),{hasMouse:Ke,onMouseEnter:Je,onMouseLeave:et}=(0,g.Y)({onMouseChange:e=>gt(Qe,e)}),{onTouchStart:tt}=(0,w.i)(h.useCallback((()=>{be.dispatchEvent("telemetryAvailable",{...me,action:"userAction",mode:"longTouch",name:"selectTile",type:qe}),null===de||void 0===de||de.select(fe,!0)}),[fe,be,de,me,qe]));(0,x.mU)(de,((e,t)=>{const n=e.has(fe);if("proposeSelection"===t){if(Fe!==n)return Oe(n),!0}else"select"===t&&n?Be(!0):"unselect"===t&&n&&Be(!1);return!1}));const nt="image/gif"===(null===(t=le.file)||void 0===t?void 0:t.mimeType),ot=(null===(n=le.shared)||void 0===n||null===(D=n.owner)||void 0===D?void 0:D.user)&&le.shared.owner.user.id!==Ne.driveId,rt=ne.length>1||nt||!!le.video,at=ne.length>1?ne.length:le.video?(0,T.LU)(le.video.duration):"",it=le.video?(0,b.WU)(H,{duration:Ce.formatDurationLabel(le.video.duration)}):void 0,st=rt||ot?(0,I.jsxs)("span",{className:"tile-badge body-s flex-row flex-align-center",children:[rt&&(0,I.jsxs)("span",{className:"inline-flex-row",children:[ne.length>1?(0,I.jsx)(A.ky,{}):nt?"GIF":(0,I.jsx)(A.eh,{}),at&&(0,I.jsx)("span",{"aria-label":it,className:"hover-badge-text",children:at})]}),ot&&(0,I.jsx)("span",{"aria-label":$,className:(0,d.iv)("inline-flex-row",rt&&"separator-line-left margin-left-4 padding-left-4"),children:(0,I.jsx)(A.jH,{})})]}):null,lt=de&&(Ke||Qe||Ue)?(0,I.jsx)("div",{className:"tile-selection flex-row pointer-events-auto cursor-pointer",onClick:e=>{e.defaultPrevented||e.shiftKey||(be.dispatchEvent("telemetryAvailable",{...me,action:"userAction",mode:"padding",name:de.selected(fe)?"unselectTile":"selectTile",type:qe}),de.toggle(fe),e.preventDefault())},children:(0,I.jsx)(r.Checkbox,{ariaLabel:ge?z:Z,checked:Ue,className:"photo-checkbox pointer-events-none",excludeTabStop:!0,onChange:e=>{e.defaultPrevented||e.shiftKey||(be.dispatchEvent("telemetryAvailable",{...me,action:"userAction",mode:"checkbox",name:de.selected(fe)?"unselectTile":"selectTile",type:qe}),de.toggle(fe),(0,a.x)(de.selected(fe)?U:B,!0),e.preventDefault())}})}):null;let ct,dt=null;const ut=Y&&!!Y()||(Ke||Qe)&&(!de||0===de.selectedCount),ht=(0,I.jsxs)("div",{className:"tile-banner flex-row flex-align-start flex-justify-between overflow-hidden",children:[re&&(0,I.jsxs)("div",{className:"tile-caption flex-column padding-bottom-12 padding-horizontal-12 overflow-hidden",children:[(0,I.jsx)("span",{className:"title-xs font-weight-semibold text-ellipsis",children:re}),he&&(0,I.jsx)("span",{className:"tile-subtitle body-m text-ellipsis",children:he})]}),ut&&(0,I.jsx)("div",{className:"flex-row flex-grow overflow-hidden",children:K})]});if(ge){var mt;Se.current&&Te&&(Qe||Ke?ke.current||(Se.current.seek(O.R3),Se.current.play()):ke.current&&(Se.current.seek(O.R3),Se.current.pause())),ct=(0,I.jsxs)(h.Fragment,{children:[(0,I.jsx)(O.nk,{autoPlay:!1,controlsRef:Se,controls:!1,debugInfo:J,dimensions:{height:xe.height,width:xe.width},disablePictureInPicture:!0,draggable:!1,getPhotoContent:(0,k.a)(ee),loadPlayer:Ee,messageTimeoutMs:5e3,muted:!0,onEnded:()=>ke.current=!1,onLoadFailure:()=>Ae(!0),onLoadedData:()=>{be.dispatchEvent("telemetryAvailable",{...me,action:"userAction",name:"startVideoTile"}),Ae(!0)},onPause:()=>ke.current=!1,onPlay:()=>ke.current=!0,photo:le,videoDetails:ge}),ue&&(null===(mt=le.viewpoint)||void 0===mt?void 0:mt.isFavorite)&&(0,I.jsx)(o.Button,{ariaHidden:!0,className:"favorite-button tile-button rounded-4",excludeFocusZone:!0,excludeTabStop:!0,iconProps:{render:e=>h.createElement(A.it,{className:e})},tabIndex:-1})]},`${le.id}-container`),dt=(0,I.jsxs)(I.Fragment,{children:[(Ke||Qe)&&Ee&&!Te&&(0,I.jsx)("div",{className:"tile-overlay-spinner absolute-fill flex-row flex-align-center flex-justify-center pointer-events-none",children:(0,I.jsx)(l.$j,{size:l.Ey.large})}),(0,I.jsxs)(F.D,{className:(0,d.iv)("flex-justify-between",Ze?"photo-tile-compact":"photo-tile-expanded"),children:[(0,I.jsxs)("div",{className:"tile-banner flex-row flex-align-start flex-justify-between",children:[st,lt]}),ht]})]})}else{var pt;const e=Ie%Math.min(ne.length,5);ct=(0,I.jsxs)(I.Fragment,{children:[ne.map(((t,n)=>{var o;const r=0===n;return n<5?(0,I.jsx)(E.P,{"aria-hidden":!0,blocking:r&&Q,className:(0,d.iv)("absolute",!r&&"screenshot-ignore",n===e?"active":"inactive",ie),cropRect:q?ft(t):void 0,debugInfo:J,dimensions:{height:xe.height,width:xe.width},downloadScale:(Ke||Qe)&&"image/gif"===(null===(o=t.file)||void 0===o?void 0:o.mimeType)?"full":void 0,draggable:!1,fixed:te,getPhotoContent:(0,k.a)(ee),photo:t,transition:pe},`${fe}-${n}`):null})),ue&&(null===(pt=le.viewpoint)||void 0===pt?void 0:pt.isFavorite)&&(0,I.jsx)(o.Button,{ariaHidden:!0,className:"favorite-button tile-button rounded-4 pointer-events-none",excludeFocusZone:!0,iconProps:{render:e=>h.createElement(A.it,{className:e})},tabIndex:-1})]}),(Ke||Qe||st||Ue||ut||Fe||re)&&(dt=(0,I.jsx)(F.D,{className:(0,d.iv)("flex-justify-between",Ze?"photo-tile-compact":"photo-tile-expanded"),children:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"tile-banner flex-row flex-align-start flex-justify-between",children:[st||(0,I.jsx)("span",{}),lt]}),ht]})}))}let vt=(0,I.jsx)(s.kP,{handleTabKey:!0,children:(0,I.jsx)("div",{className:(0,d.iv)("photo-tile",X,"tile-overlay-container inline-flex-row",Ue&&"selected",Fe&&"proposed-selection",Ze?"rounded-4":"rounded-8"),onBlur:Xe,onClick:e=>{e.defaultPrevented||de&&(e.shiftKey&&de.selectedCount?(be.dispatchEvent("telemetryAvailable",{...me,action:"userAction",mode:"range",name:"selectTile",type:qe}),de.selectRange(fe),(0,a.x)(_,!0)):(be.dispatchEvent("telemetryAvailable",{...me,action:"userAction",mode:"tile",name:de.selected(fe)?"unselectTile":"selectTile",type:qe}),de.toggle(fe),(0,a.x)(de.selected(fe)?U:B,!0)),e.preventDefault())},onFocus:e=>{de&&(0,y.K)("Shift")&&de.proposeSelection(fe),Ye(e)},onKeyDown:e=>{!e.defaultPrevented&&de&&("Shift"===e.key?e.repeat||de.proposeSelection(fe):" "===e.key&&(e.shiftKey?(be.dispatchEvent("telemetryAvailable",{...me,action:"userAction",mode:"range",name:"selectTile",type:qe}),de.selectRange(fe),(0,a.x)(_,!0)):(be.dispatchEvent("telemetryAvailable",{...me,action:"userAction",mode:"keyboard",name:de.selected(fe)?"unselectTile":"selectTile",type:qe}),de.toggle(fe),(0,a.x)(de.selected(fe)?U:B,!0)),e.preventDefault()))},onMouseEnter:Je,onMouseLeave:et,onMouseMove:e=>{de&&e.shiftKey&&document.hasFocus()&&de.proposeSelection(fe)},onTouchStart:tt,role:null!==(R=ve.role)&&void 0!==R?R:"listitem",style:{height:xe.height,left:xe.left,top:xe.top,width:xe.width},children:(0,I.jsx)(i.FocusGroupContext.Provider,{value:{onFocus:()=>{}},children:(0,I.jsx)(s.Vn.Consumer,{children:e=>{var t;let n="";if(re)n=he?`${re.toString()}, ${he.toString()}`:re.toString();else if(ne.length>1)n=(0,b.WU)(G,{photoCount:ne.length});else if(1===ne.length){var o;null!==(o=le.tags)&&void 0!==o&&o.length?n=(0,T.$9)(le):le.name&&(n=le.name)}return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"inline-flex-row flex-grow",children:(0,I.jsx)(We,{...ve,"aria-label":n,className:"tile inline-flex-row flex-grow flex-align-center flex-justify-center","data-focuszone":`${Le.focuszoneId} ${e.focuszoneId}`,draggable:!1,href:oe,id:(0,d.AS)(ve.id||fe),onClick:e=>{e.defaultPrevented||!oe||e.shiftKey||de&&0!==de.selectedCount||("business"===Ne.accountType?((0,S.Y5)(be,we,le),e.preventDefault()):Pe.navigate(e,"activateTile",{state:ae,telemetryProperties:{...me,type:qe}}))},onContextMenu:w.d,onFocus:e=>{je.onFocus(ve.id||fe),ve.onFocus&&ve.onFocus(e)},tabIndex:null!==(t=ve.tabIndex)&&void 0!==t?t:(0,u.p)({id:ve.id||fe},je),children:ct})}),dt]})}})})})});return se&&se.bottom&&(vt=(0,I.jsxs)(I.Fragment,{children:[vt,(0,I.jsx)("div",{"aria-hidden":!0,className:"photo-tile-nameplate absolute flex-row flex-align-center flex-justify-center overflow-hidden",style:{height:se.bottom,left:ce.left,width:ce.width,top:ce.top+ce.height-se.bottom},children:(0,I.jsx)(c.Tooltip,{overflowOnly:!0,children:(0,I.jsx)("span",{className:"photo-tile-name margin-horizontal-12 text-ellipsis",children:le.name})})})]})),(0,I.jsx)(V,{blocking:Q,configuration:W,origin:Ne.apiOrigin.vroomOrigin,placeholder:(0,I.jsx)(M.V,{className:"absolute",rect:ce}),throttleCallback:(e,t)=>{be.dispatchEvent("telemetryAvailable",{action:"operationComplete",name:t,duration:e.delayMs})},children:vt});function ft(e){var t,n;const o=null===(t=e.image)||void 0===t||null===(n=t.cropRegions)||void 0===n?void 0:n.find((e=>e.aspectRatio===q));if(o)return{left:o.boundingBoxX,top:o.boundingBoxY,width:o.boundingBoxWidth,height:o.boundingBoxHeight}}function gt(e,t){ge?e||t?Ge((()=>{Me(!0)}),1e3):ze():e||t?De||(ne.length>1&&$e((()=>Ve((e=>e+1))),3e3),Re(!0)):(Ve(0),_e(),Re(!1))}}},52746:(e,t,n)=>{n.d(t,{k:()=>oe});var o=n(98381),r=n(67280),a=n(71914),i=n(72243),s=n(37140),l=n(77357),c=n(69902),d=n(32580);function u(e){let{children:t,mount:n,unmount:o}=e;return i.useEffect((()=>(n(),()=>{o()})),[n,o]),t}var h=n(14766),m=n(98540),p=n(22400),v=n(51150),f=n(10995),g=n(68684),x=n(69176),C=n(960),w=n(75894),b=n(23706),y=n(6558),j=n(43834),L=n(62216),P=n(15690),N=n(82435);const{CameraType:k,DateTaken:S,DateUploaded:T,MyFiles:A,ImageDimensions:E,Location:M,OtherLocation:D,OtherOneLocation:R,PhotoDirectoryLabel:I,PhotoSize:V}=window.Resources.Common;function F(e){var t,n;const{photo:o}=e,a=i.useContext(j.K),s=o.image||o.video,l=(0,x.ZQ)(o.parentReference).split("/"),c=(0,x.Ak)(o);function d(e){return(0,N.jsx)("div",{className:"flex-row flex-wrap body-s rhythm-horizontal-4",children:e.map(((e,t,n)=>e?(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("span",{className:(0,r.iv)(t===n.length-1?"font-weight-semibold":"secondary-text"),children:e}),t!==n.length-1&&(0,N.jsx)("span",{className:"secondary-text",children:">"})]},t):(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("span",{className:(0,r.iv)(t===n.length-1?"font-weight-semibold":"secondary-text"),children:A}),t!==n.length-1&&(0,N.jsx)("span",{className:"secondary-text",children:">"})]},t)))})}return(0,N.jsxs)("div",{className:"flex-column overflow-hidden",children:[(0,N.jsx)(b.Tooltip,{overflowOnly:!0,children:(0,N.jsx)("span",{className:"body-m font-weight-semibold text-ellipsis",children:o.name})}),(0,N.jsxs)("div",{className:"flex-row body-s margin-top-12",children:[(0,N.jsxs)("div",{className:"flex-column rhythm-vertical-8",children:[(null===(t=o.photo)||void 0===t?void 0:t.cameraMake)&&(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"font-weight-semibold",children:k}),(0,N.jsx)("div",{className:"secondary-text",children:`${o.photo.cameraMake}${o.photo.cameraModel?`, ${o.photo.cameraModel}`:""}`})]}),o.size&&(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"font-weight-semibold",children:V}),(0,N.jsx)("div",{className:"secondary-text white-space-nowrap",children:(0,L.BU)(o.size)})]}),null!==s&&void 0!==s&&s.width&&null!==s&&void 0!==s&&s.height?(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"font-weight-semibold",children:E}),(0,N.jsx)("div",{className:"secondary-text white-space-nowrap",children:`${s.width} x ${s.height}`})]}):null]}),(0,N.jsx)("div",{className:"separator-line-right margin-horizontal-16"}),(0,N.jsxs)("div",{className:"flex-column rhythm-vertical-8",children:[null!==(n=o.photo)&&void 0!==n&&n.takenDateTime?(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"font-weight-semibold",children:S}),(0,N.jsx)("div",{className:"secondary-text white-space-nowrap",children:a.formatDate((0,P.yp)(o),"full")})]}):o.fileSystemInfo&&(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"font-weight-semibold",children:T}),(0,N.jsx)("div",{className:"secondary-text white-space-nowrap",children:a.formatDate(new Date(o.fileSystemInfo.createdDateTime),"full")})]}),o.location&&(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{className:"font-weight-semibold",children:M}),(0,N.jsx)("div",{className:"secondary-text",children:(0,L.T7)(o.location)})]})]})]}),l&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"flex-row separator-line-bottom margin-vertical-8"}),(0,N.jsx)("span",{"aria-label":I}),d(l)]}),c.length>0&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"flex-row separator-line-bottom margin-vertical-8"}),(0,N.jsxs)("div",{className:"flex-column flex-wrap body-m rhythm-vertical-8",children:[(0,N.jsx)("div",{className:"secondary-text",children:1===c.length?R:(0,y.WU)(D,{locationCount:c.length})}),c.map(((e,t,n)=>(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("span",{className:"flex-column",children:d(e.relativePath.split("/"))}),t<n.length-1&&(0,N.jsx)("div",{className:"separator-line-bottom "})]},t)))]})]})]})}const{DeleteButton:O,RemoveFavorite:U,ShareButton:B,ShowPhotoDetails:H,Favorite:Z}=window.Resources.Common;function _(e){const{ariaLabel:t,icon:n,onClick:o,telemetryAction:r,telemetryProperties:a={},tooltipProps:s}=e,l=i.useContext(h.A);return(0,N.jsx)(w.Button,{ariaLabel:t,className:"tile-button rounded-4",iconProps:{render:e=>i.createElement(n,{className:e})},onClick:e=>{l.dispatchEvent("telemetryAvailable",{...a,action:"userAction",name:r}),o&&o(e),e.preventDefault()},tooltipProps:s})}function $(e){return(0,N.jsx)(_,{...e,ariaLabel:O,icon:C.HG,telemetryAction:"deleteQuickAction"})}function z(e){const{photo:t}=e;return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(_,{...e,ariaLabel:H,icon:C.Hs,telemetryAction:"detailsQuickAction",tooltipProps:{anchorOffset:{horizontal:0,vertical:-5},anchorOrigin:{horizontal:a.Ye.start,vertical:a.Ye.start},className:"tile-information",renderContent:()=>(0,N.jsx)(F,{photo:t}),tooltipOrigin:{horizontal:a.Ye.start,vertical:a.Ye.end}}})})}function G(e){var t,n;return(0,N.jsx)(_,{...e,ariaLabel:null!==(t=e.photo.viewpoint)&&void 0!==t&&t.isFavorite?U:Z,icon:null!==(n=e.photo.viewpoint)&&void 0!==n&&n.isFavorite?C.it:C.Ux,telemetryAction:"favoriteQuickAction"})}function W(e){return(0,N.jsx)(_,{...e,ariaLabel:B,icon:C.mB,telemetryAction:"shareQuickAction"})}var q=n(14144);const Q=(0,s.V)((()=>Promise.all([n.e(9044),n.e(9582)]).then(n.bind(n,30282)))),X=(0,s.V)((()=>Promise.all([n.e(9044),n.e(6768),n.e(2597),n.e(1650)]).then(n.bind(n,91729)))),Y=(0,s.V)((()=>n.e(4700).then(n.bind(n,54700)))),K=(0,s.V)((()=>n.e(3645).then(n.bind(n,3645)))),{DeleteButton:J,MoreButton:ee,InfoButton:te,ShareButton:ne}=window.Resources.Common;function oe(e){const{photo:t,showDelete:n=!0,showFavorite:s=!0,showInfo:w=!0,showShare:b=!0,telemetryProperties:y,setCallout:j,...L}=e,P=i.useContext(h.A),k=i.useContext(f.B3),S=i.useRef(null),T=i.useRef(!1),[,A]=i.useState(0),[E,M]=(0,m.mA)(!1),[D,R]=(0,m.mA)(!1),I=[];let V=null,F=null,O=null,U=null;return s&&!k.migrated&&"business"!==k.accountType&&(F=(0,N.jsx)(G,{onClick:e=>{var n;P.dispatchEvent("telemetryAvailable",{...y,action:"userAction",name:"favoriteQuickAction"}),null!==(n=t.viewpoint)&&void 0!==n&&n.isFavorite?(0,g.Ni)(P,[t.id]):(0,g.a3)(P,[t.id]),A((e=>e+1)),e.preventDefault()},photo:t},"favorite")),n&&(V=(0,N.jsx)($,{onClick:()=>{M(!0)},photo:t},"download"),I.push({className:"phototile-command",id:"phototiie-delete-command",iconProps:{render:e=>(0,N.jsx)(C.HG,{className:e})},text:J,onActivate:()=>{P.dispatchEvent("telemetryAvailable",{...y,action:"userAction",name:"deleteQuickAction"}),M(!0)}})),w&&(O=(0,N.jsx)(z,{onClick:()=>B(),photo:t},"details"),I.push({className:"phototile-command",id:"phototiie-info-command",iconProps:{render:e=>(0,N.jsx)(C.Hs,{className:e})},text:te,onActivate:()=>{P.dispatchEvent("telemetryAvailable",{...y,action:"userAction",name:"detailsQuickAction"}),B()}})),b&&(U=(0,N.jsx)(W,{onClick:()=>R(!0),photo:t},"share"),I.push({className:"phototile-command",id:"phototiie-share-command",iconProps:{render:e=>(0,N.jsx)(C.mB,{className:e})},text:ne,onActivate:()=>{P.dispatchEvent("telemetryAvailable",{...y,action:"userAction",name:"shareQuickAction"}),R(!0)}})),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(q.f,{...L,commandActive:()=>E.value?"delete":T.current?"details":D.value?"share":void 0,commands:(0,N.jsx)(c.b,{containerElement:S,responsiveSelectors:[".quick-command-container"],children:e=>{let{responsiveIndex:t}=e;return(0,N.jsxs)("div",{className:"flex-row flex-justify-between flex-grow overflow-hidden padding-4 rhythm-horizontal-4",ref:S,children:[(0,N.jsx)("div",{className:"favorite-quick-action tile-hover flex-row rounded pointer-events-auto",role:"presentation",children:F}),(0,N.jsxs)("div",{className:"quick-command-container flex-row flex-align-center flex-noshrink pointer-events-auto",role:"presentation",children:[U,V,O]}),I.length>0&&(0,N.jsx)(o.MenuButton,{ariaLabel:ee,className:(0,r.iv)("transparent icon-only tile-hover flex-row rounded pointer-events-auto flex-noshrink margin-left-8",-1===t&&"hidden"),contextualMenuProps:{anchorOffset:{horizontal:0,vertical:4},anchorOrigin:{horizontal:a.Ye.start,vertical:a.Ye.end},className:"phototile-dropdown compact-menu",menuOrigin:{horizontal:a.Ye.start,vertical:a.Ye.start},menuProps:{id:"overflow-menu",items:I}},hideDropdownIcon:!0,iconProps:{iconName:"More",className:"text-on-image-background"},subtle:!0})]})}},"command-layout"),photo:t,showFavorite:s,telemetryProperties:y}),(0,N.jsx)(l.Q,{values:{showDeleteDialog:E},children:e=>{var n,o;let{showDeleteDialog:r}=e;return r?(0,N.jsx)(i.Suspense,{fallback:null,children:(0,N.jsx)(d.$,{scenarioName:"deletephotos",children:(0,N.jsx)(Q,{deletePhotos:g.xk,duplicatePhotoParentName:(0,x.GO)(t),items:[t],onDismiss:()=>M(!1),photoIds:[t.id,...null!==(n=null===(o=t.duplicates)||void 0===o?void 0:o.map((e=>e.id)))&&void 0!==n?n:[]]})})}):null}}),(0,N.jsx)(l.Q,{values:{showShareDialog:D},children:e=>{let{showShareDialog:n}=e;const o="business"===k.accountType?Y:K;return n?(0,N.jsx)(i.Suspense,{fallback:null,children:(0,N.jsx)(d.$,{scenarioName:"sharedialog",children:(0,N.jsx)(o,{items:[t],onDismiss:()=>R(!1)})})}):null}})]});function B(){if(j){const e=(0,N.jsx)(i.Suspense,{fallback:null,children:(0,N.jsx)(u,{mount:()=>{T.current=!0},unmount:()=>{T.current=!1,A((e=>e+1))},children:(0,N.jsx)(d.$,{scenarioName:"detailspanel",children:(0,N.jsx)(X,{addTag:g._U,deleteTag:g.Pn,downloadPhoto:v.DH,getItem:p.rV,loadPhotoDetails:g.Gj,onDismiss:()=>null===j||void 0===j?void 0:j(null),photo:t,updatePhoto:g.tU})})})},`details-panel-${t.id}`);j(e)}}}},53584:(e,t,n)=>{n.d(t,{X:()=>b});var o=n(75894),r=n(98381),a=n(67280),i=n(71914),s=n(72243),l=n(69902),c=n(13812),d=n(7803),u=n(98540),h=n(10995),m=n(62873),p=n(71197),v=n(82435);const{AlbumsLink:f,GalleryLink:g,ExploreLink:x,PeopleLink:C}=window.Resources.Common,{MediaTitle:w}=window.Resources.AllPhotos;function b(e){const{activeId:t,className:n}=e,b=s.useContext(d.k),y=s.useContext(c.S),j=s.useContext(h.B3),L=s.useContext(m.v),P=s.useRef(null),N=(0,u.mU)(L.getUserPreferences("photo")),k=(0,u.mU)(y.featureEnabled("showAlbums")),S="desktop"===(0,p.Vx)(),T=s.useMemo((()=>{const e=[];return e.push({href:"/",id:"gallery",name:"navigateGalleryPivot",text:g}),k&&e.push({href:"/albums",id:"albums",name:"navigateAlbumsPivot",text:f}),e.push({href:"/explore",id:"explore",name:"navigateExplorePivot",text:x}),null!==N&&void 0!==N&&N.biometricConsent&&e.push({href:"/people",id:"people",name:"navigatePeoplePivot",text:C}),e}),[null===N||void 0===N?void 0:N.biometricConsent,k]),{activeText:A,buttons:E,menuItems:M}=s.useMemo((()=>{const e=[],n=[];let r;for(let a=0;a<T.length;a++){const i=T[a],s=b.prepare(i.href),l=i.id===t;l&&(r=i.text),n.push({checked:l,href:s,id:i.id,onActivate:(e,t)=>b.navigate(t,i.name),readonly:!0,text:i.text}),e.push((0,v.jsx)(o.Button,{className:"pivot-button strong-button title-s",href:s,id:i.id,onClick:e=>b.navigate(e,i.name),primary:l,role:"menuitem",subtle:!l,children:i.text},i.id))}return{activeText:r,buttons:e,menuItems:n}}),[t,b,T]);return(0,v.jsx)(l.b,{containerElement:P,responsiveSelectors:[(0,a.SS)("gallery"),(0,a.SS)("albums"),(0,a.SS)("explore")],children:e=>{let{responsiveIndex:t}=e;return j.embedded?(0,v.jsx)("div",{"aria-level":1,className:(0,a.iv)(n,"title-s flex-row flex-align-center"),role:"heading",children:w}):(0,v.jsx)("div",{className:(0,a.iv)(n,"flex-row flex-align-center rhythm-horizontal-4 overflow-hidden"),ref:P,role:"group",children:S&&-1===t?E:(0,v.jsx)(r.MenuButton,{className:"pivot-dropdown strong-button",contextualMenuProps:{anchorOrigin:{horizontal:i.Ye.start,vertical:i.Ye.end},menuOrigin:{horizontal:i.Ye.start,vertical:i.Ye.start},menuProps:{className:"compact-menu",id:"overflow-menu",items:M}},subtle:!0,children:A})})}},"pivot-layout")}},38997:(e,t,n)=>{n.d(t,{V:()=>i,t:()=>s});var o=n(67280),r=(n(72243),n(71197)),a=n(82435);function i(e){const{className:t,rect:{height:n,left:r,top:i,width:s}}=e;return(0,a.jsx)("div",{"aria-hidden":!0,className:(0,o.iv)("placeholder",t,"rounded-6"),style:{height:n,left:r,top:i,width:s}})}function s(e){const{className:t,padding:n=r.hb,rect:{height:s,left:l,top:c,width:d}}=e;if(n.bottom){const e={height:s-n.bottom,left:l,top:c,width:d};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{className:"absolute",rect:e}),(0,a.jsx)("div",{"aria-hidden":!0,className:(0,o.iv)("placeholder-nameplate",t,"flex-row flex-align-end"),style:{height:n.bottom,left:l,top:c+s-n.bottom,width:d},children:(0,a.jsx)("span",{className:"placeholder-name placeholder flex-grow margin-horizontal-8 rounded-6",children:"\xa0"})})]})}return(0,a.jsx)(i,{className:t,rect:{height:s,left:l,top:c,width:d}})}},83627:(e,t,n)=>{n.d(t,{o:()=>f});var o=n(67280),r=n(71914),a=n(72243),i=n(26107),s=n(77357),l=n(14766),c=n(90743),d=n(98540),u=n(69873),h=n(43834),m=n(82435);const{TimelineLabel:p}=window.Resources.Common,v=Intl.DateTimeFormat(void 0,{year:"numeric",month:"long"});function f(e){const{endDate:t,onTargetDate:n,onWheel:r,showContents:i,startDate:v,viewportRange:f}=e,x=a.useContext(h.K),C=a.useContext(l.A),w=a.useRef(0),b=a.useRef(null),y=a.useRef(null),[j,L]=a.useState([(0,m.jsx)("span",{className:"photo-scrubber-bullet flex-noshrink"},0)]),[P,N]=(0,d.mA)(void 0),[k,S]=(0,d.mA)({x:0,y:0}),[T,A]=a.useState(),{hasMouse:E,onMouseEnter:M,onMouseLeave:D}=(0,c.Y)(),R=(0,d.mU)(t),I=(0,d.mU)(v),V=(0,d.mU)(f,(()=>A("transition"))),F=(0,d.mU)(i),O="rtl"===document.documentElement.dir?-1:1;(0,u.a)(y,a.useCallback((e=>{const t=Math.ceil(e[0].contentRect.height/68);if(t!==w.current){const e=[];for(let n=0;n<t;n++)e.push((0,m.jsx)("span",{className:"photo-scrubber-bullet flex-noshrink"},n));w.current=t,L(e)}}),[]));let U=!0,B=!0;return R&&I&&V&&(U=V.endDate.getTime()<=R.getTime(),B=V.startDate.getTime()>=I.getTime()),(0,m.jsxs)("section",{"aria-label":p,className:(0,o.iv)("photo-scrubber flex-column flex-align-center flex-noshrink overflow-hidden cursor-pointer",F&&"photo-scrubber-visible"),onWheel:r,ref:y,children:[(0,m.jsx)("span",{className:(0,o.iv)("photo-scrubber-date flex-noshrink body-s secondary-text font-weight-semibold padding-4 padding-top-8",B&&"active"),onClick:()=>{C.dispatchEvent("telemetryAvailable",{action:"userAction",name:"scrubberStart"}),I&&n(I)},children:I&&x.formatDate(I,"year")}),(0,m.jsxs)("div",{className:"photo-scrubber-channel relative flex-column flex-align-center flex-grow overflow-hidden",onClick:()=>{C.dispatchEvent("telemetryAvailable",{action:"userAction",name:"scrubberChannel"}),P.value&&n(P.value)},onMouseEnter:M,onMouseLeave:D,onMouseMove:function(e){if(I&&R){const t=b.current.getBoundingClientRect(),n=Math.max(0,e.clientY-t.top)/t.height,o=new Date(I.getTime()-(I.getTime()-R.getTime())*n);N(o),S({x:-1===O?t.left:t.right,y:Math.max(4,Math.min(e.clientY,t.top+t.height-4))}),A(void 0)}},ref:b,children:[j,(0,m.jsx)(s.Q,{values:{hoverDate:P,hoverPoint:k,viewportRange:f},children:e=>{let t,{hoverDate:n,hoverPoint:o,viewportRange:r}=e,{x:a,y:i}=o;if(E)t=n;else if(F&&b.current&&R&&I&&r){const e=b.current.getBoundingClientRect(),n=I.getTime()-R.getTime(),o=(I.getTime()-r.startDate.getTime())/n;t=r.startDate,a=-1===O?e.left:e.right,i=e.top+e.height*o}return t?(0,m.jsx)(g,{anchorPoint:{x:a,y:i},className:T,targetDate:t}):null}})]}),(0,m.jsx)("span",{className:(0,o.iv)("photo-scrubber-date flex-noshrink body-s secondary-text font-weight-semibold padding-4 padding-bottom-8",U&&"active"),onClick:()=>{C.dispatchEvent("telemetryAvailable",{action:"userAction",name:"scrubberEnd"}),R&&n(R)},children:R&&x.formatDate(R,"year")})]})}function g(e){const{anchorPoint:t,className:n,targetDate:s}=e,l=a.useRef(void 0),c="rtl"===document.documentElement.dir?-1:1;return a.useLayoutEffect((()=>{l.current.updateLayout()})),(0,m.jsxs)(i.U,{anchorPoint:t,className:(0,o.iv)("photo-scrubber-target pointer-events-none",n),componentRef:l,contentClassName:"flex-row rounded-4 transparent",calloutOrigin:-1===c?{horizontal:r.Ye.start,vertical:r.Ye.center}:{horizontal:r.Ye.end,vertical:r.Ye.center},fixedLayout:!0,children:[(0,m.jsx)("span",{className:"photo-scrubber-target-date body-s font-weight-semibold padding-horizontal-8 padding-vertical-4 rounded-4 white-space-nowrap depth-8",children:v.format(s)}),(0,m.jsx)("span",{className:"photo-scrubber-mark rounded-4 margin-left-8"})]})}},81097:(e,t,n)=>{n.d(t,{F:()=>u});var o=n(75894),r=n(73848),a=n(67280),i=n(72243),s=n(960),l=n(82435);const{ApplyButton:c,ClearButton:d}=window.Resources.Common;function u(e){const{displayName:t,filterType:n,active:u=!1,onClick:h}=e,[m,p]=i.useState(u),v=!!h;return(0,l.jsx)(r.DR,{className:"overflow-hidden padding-4 "+(m&&"bolt-pill-active"),contentClassName:"flex-row flex-align-center bolt-pill-button",onClick:v?()=>{v&&(h(),p(!m))}:void 0,size:r.n8.large,variant:r.oG.outlined,children:(0,l.jsxs)("div",{className:"flex-row flex-align-center",children:["date"===n?(0,l.jsx)(s.Lw,{className:"flex-noshrink"}):"person"===n?(0,l.jsx)(s.Fc,{className:"flex-noshrink"}):(0,l.jsx)(s.wn,{className:"flex-noshrink"}),(0,l.jsx)("span",{className:"flex-grow padding-horizontal-8 text-ellipsis",children:t}),v&&(0,l.jsx)(o.Button,{ariaLabel:m?d:c,className:"bolt-pill-button icon-only padding-horizontal-4",excludeTabStop:!0,iconProps:{render:e=>(0,l.jsx)(s.UZ,{className:(0,a.iv)("small",!m&&"rotate-45",e)})},subtle:!0})]})})}},1550:(e,t,n)=>{n.d(t,{i:()=>u});var o=n(67280),r=n(72243),a=n(1632),i=n(98540),s=n(43409),l=n(36003),c=n(74278),d=n(82435);function u(e){const{ariaLabel:t,ariaValueText:n,className:u,delay:h,excludeTabStop:m,id:p,max:v,min:f,onChange:g,orientation:x="horizontal",pivot:C="start",step:w=1}=e,b="horizontal"===x,y=r.useRef(null),j=r.useRef(void 0),{setTimeout:L}=(0,s.K)({preserve:!0}),P=v-f,N=P/2+f,k=Math.max(f,Math.min(v,(0,i.mU)(e.value))),{onMouseDown:S}=(0,a.Y)((e=>!e.defaultPrevented&&1===e.buttons&&R(I(e.clientX,e.clientY)))),{onTouchStart:T}=(0,l.R)((e=>!e.defaultPrevented&&R(I(e.changedTouches[0].clientX,e.changedTouches[0].clientY)))),A=(k-f)/P*100+"%",E=b?"rtl"===document.documentElement.dir?{right:A}:{left:A}:{top:A},M=b?"flex-row":"flex-column";return(0,d.jsxs)("div",{"aria-label":t,"aria-valuenow":k,"aria-valuemax":v,"aria-valuemin":f,"aria-valuetext":n,className:(0,o.iv)(`bolt-slider bolt-slider-pivot-${C} bolt-slider-orient-${x}`,u,M,"relative flex-align-center flex-grow"),id:(0,o.AS)(p),onClick:e=>{e.defaultPrevented||(R(I(e.clientX,e.clientY)),e.preventDefault())},onDragStart:c.P,onKeyDown:function(e){let t=0;const n="rtl"===document.documentElement.dir?-1:1;"ArrowLeft"===e.key||"ArrowDown"===e.key?(t=-w,e.preventDefault()):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||(t=w,e.preventDefault());t&&R(k+t*n)},onMouseDown:S,onTouchStart:T,ref:y,role:"slider",tabIndex:m?void 0:0,children:[(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track bolt-slider-track-leading",M,"flex-align-center pre-midpoint pre-value")}),(0,d.jsxs)("div",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center flex-grow relative"),children:[k<N?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center pre-midpoint pre-value"),style:D(100*Math.min(50,(k-f)/P))}),(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center pre-midpoint post-value"),style:D(100*(.5-Math.min(.5,(k-f)/P)))}),(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center post-midpoint post-value"),style:D(50)})]}):k===N?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center pre-midpoint pre-value"),style:D(50)}),(0,d.jsx)("span",{}),(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center post-midpoint post-value"),style:D(50)})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center pre-midpoint pre-value"),style:D(50)}),(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center post-midpoint pre-value"),style:D(100*Math.min(50,(k-N)/P))}),(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track",M,"flex-align-center post-midpoint post-value"),style:D(100*(.5-Math.min(.5,(k-N)/P)))})]}),(0,d.jsx)("span",{className:"bolt-slider-thumb absolute",onClick:c.P,style:E},"thumb")]}),(0,d.jsx)("span",{className:(0,o.iv)("bolt-slider-track bolt-slider-track-trailing",M,"flex-align-center post-midpoint post-value")})]});function D(e){return b?{width:e+"%"}:{height:e+"%"}}function R(e){e=Math.min(v,Math.max(f,e)),g&&e!==k&&e!==j.current&&(h?(j.current=e,L((()=>{g(j.current),j.current=void 0}),h)):g(e))}function I(e,t){if(y.current){const n=y.current.getBoundingClientRect();let o;if(b){const t=(e-n.x)/n.width;o="rtl"===document.documentElement.dir?v-Math.round(P/w*t)*w:f+Math.round(P/w*t)*w}else{const e=(t-n.y)/n.height;o=f+Math.round(P/w*e)*w}return o}return f}}},48090:(e,t,n)=>{n.d(t,{D:()=>a});var o=n(67280),r=(n(72243),n(82435));function a(e){const{children:t,className:n,limitedFocus:a,simple:i,...s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{...s,className:(0,o.iv)("tile-overlay",n,"absolute-fill flex-column flex-grow rounded-12 pointer-events-none",a&&"limited-overlay-focus",i&&"simple-overlay"),children:t}),!i&&(0,r.jsx)("div",{className:"tile-overlay-border absolute-fill flex-column pointer-events-none rounded-12"})]})}},67502:(e,t,n)=>{n.d(t,{nk:()=>W,bR:()=>q,R3:()=>G});var o=n(75894),r=n(18421),a=n(87501),i=n(98381),s=n(67280),l=n(71914),c=n(72243),d=n(22658),u=n(26107),h=n(77357),m=n(14766),p=n(90743),v=n(98540),f=n(43409),g=n(1375),x=n(6558),C=n(74278),w=n(81284),b=n(60946),y=n(43834),j=n(10995),L=n(62216),P=n(71197),N=n(960),k=n(1550),S=n(82435);const{AudioLanguageMenuItem:T,Duration:A,NoCaptionsMenuItem:E,PauseButton:M,PlayButton:D,SettingsButton:R,ShowCaptionsMenuItem:I,ToggleFullscreenButton:V,UnspecifiedLanguageMenuItem:F,VideoAlt:O,VideoMuted:U,VideoNotSupported:B,VideoPlaybackVariable:H,VideoSliderProgress:Z,VideoSuspendFeedback:_,VolumeSliderProgress:$}=window.Resources.Common,z=new r.fA(!0),G=.01;function W(e){var t,n;const{className:r,controlsRef:W,messageTimeoutMs:q=0,debugInfo:Q,dimensions:X,getPhotoContent:Y,loadPlayer:K=!1,onLoadFailure:J,onToggleFullscreen:ee,photo:te,showControls:ne="never",showPoster:oe=!0,videoDetails:re,...ae}=e,ie=c.useContext(y.K),se=c.useContext(m.A),le=c.useContext(j.B3),ce=c.useRef(),de=c.useRef((0,d.Z)()),ue=c.useRef(0),he=c.useRef(void 0),me=c.useRef(null),pe=c.useRef(null),ve=c.useRef(null),fe=c.useRef(null),ge=c.useRef(null),xe=c.useRef(0),[Ce,we]=(0,v.mA)(0),[be,ye]=(0,v.mA)(0),[je,Le]=(0,v.mA)(void 0),[Pe,Ne]=(0,v.mA)(0),[ke,Se]=(0,v.mA)(!1),[Te,Ae]=(0,v.mA)(!1),[Ee,Me]=(0,v.mA)(-1),[De,Re]=c.useState(!1),[Ie,Ve]=(0,v.mA)(1),{hasMouse:Fe,onMouseEnter:Oe,onMouseLeave:Ue}=(0,p.Y)(),{onMouseEnter:Be,onMouseLeave:He}=(0,p.Y)({leaveDelay:200,onMouseChange:e=>Me(e?Ee.value:-Ee.value)}),{onMouseEnter:Ze,onMouseLeave:_e}=(0,p.Y)({leaveDelay:50,onMouseChange:e=>{var t,n;return e?null===(t=fe.current)||void 0===t?void 0:t.expand():null===(n=fe.current)||void 0===n?void 0:n.collapse()}}),{setTimeout:$e}=(0,f.K)(),{clearTimeout:ze,setTimeout:Ge}=(0,f.K)(),{setTimeout:We}=(0,f.K)({preserve:!0}),{clearTimeout:qe,setTimeout:Qe}=(0,f.K)(),Xe=(0,v.mU)(z);c.useImperativeHandle(W,(()=>({pause:()=>{ve.current&&ke.value&&ve.current.pause()},play:()=>{ve.current&&ve.current.play().catch(C.Z)},seek:e=>{ve.current&&(ve.current.currentTime=e)}})));const{apiOrigin:Ye,apiVersion:Ke}=le,Je=null!==(t=null===(n=te.parentReference)||void 0===n?void 0:n.driveId)&&void 0!==t?t:le.driveId,et=c.useMemo((()=>{const e=(0,w.Ti)({format:"dash"});return`${Ye.vroomOrigin}/${Ke.apiVersion2}/drives/${Je}/items/${te.id}/content?${e.toString()}`}),[Ke.apiVersion2,Ye.vroomOrigin,Je,te.id]);return(0,g.J)({driveId:Je,loadFailure:J,loadPlayer:K,manifestUrl:et,photoId:te.id,playbackSession:de.current,player:ce,setFeedback:nt,logLevel:0,ttmlElement:pe,videoElement:ve}),K&&0===ue.current&&(ue.current=performance.now()),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:(0,s.iv)(r,"relative flex-row"),style:{height:X.height,width:X.width},children:[(0,S.jsx)("video",{"aria-label":(0,x.WU)(O,{videoName:te.name,videoLength:ie.formatDurationLabel(re.duration)}),...ae,className:"video",height:X.height,muted:Xe||ae.muted,onDurationChange:function(e){ye(ve.current.duration),ae.onDurationChange&&ae.onDurationChange(e)},onEnded:function(e){Se(!1),ae.onEnded&&ae.onEnded(e)},onLoadedData:function(e){Re(!0);const t=performance.now()-ue.current;se.dispatchEvent("telemetryAvailable",{action:"performance",duration:t,itemId:te.id,name:"videoReady",playbackId:de.current,videoLength:re.duration}),ae.onLoadedData&&ae.onLoadedData(e)},onPause:function(e){Se(!1),ae.onPause&&ae.onPause(e)},onPlay:function(e){Se(!0),ae.onPlay&&ae.onPlay(e)},onPlaying:function(e){qe(),nt(void 0),ae.onPlaying&&ae.onPlaying(e)},onTimeUpdate:function(e){if(ve.current){const e=ve.current.currentTime;we(e);const t=performance.now();if(xe.current>0){const n=t-xe.current;n>100&&se.dispatchEvent("telemetryAvailable",{action:"performance",duration:n,itemId:te.id,name:"videoWait",playbackId:de.current,videoCurrentTime:e,videoLength:re.duration}),xe.current=0}}ae.onTimeUpdate&&ae.onTimeUpdate(e)},onVolumeChange:function(e){Ve(ve.current.volume),ae.onVolumeChange&&ae.onVolumeChange(e)},onWaiting:function(e){Qe((()=>{ke.value&&(se.dispatchEvent("telemetryAvailable",{action:"exception",error:"waitForTooLong",name:"videoPlayback",playbackId:de.current}),nt(_))}),1e4),xe.current=performance.now(),ae.onWaiting&&ae.onWaiting(e)},ref:ve,width:X.width,children:B}),(0,S.jsx)("div",{className:"video-ttml-overlay",ref:pe})]}),!De&&oe&&(0,S.jsx)(b.P,{"aria-hidden":!0,className:"absolute",dimensions:X,draggable:!1,getPhotoContent:Y,photo:te}),(0,S.jsx)(h.Q,{values:{currentTime:Ce,duration:be,playing:ke,recentFocus:Te,showControls:ne},children:e=>{let{currentTime:t,duration:n,playing:r,recentFocus:c,showControls:d}=e;const m=Fe||c||"visible"===d,p=m?"":"hidden",v=function(e,t){const n=[],o=e.current;if(o){const e=o.getBitrateInfoListFor("video");if(e.length>1){var r,a,s;const l=o.getQualityFor("video");e.forEach(((e,r,a)=>{const i=e.height,s=r>0&&a[r-1].height===i||r<a.length-1&&a[r+1].height===i?`${Math.floor(e.bitrate/1e3)} kbps`:void 0;n.splice(0,0,{checked:l===r,className:"simple-checkbox",data:r,id:i.toString(),onActivate:()=>{t.dispatchEvent("telemetryAvailable",{action:"userAction",name:"setQuality",value:i}),o.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),o.setQualityFor("video",r,!0)},readonly:!0,secondaryText:s,text:`${e.height}p${e.height>=720?" HD":""}`})})),n.push({id:"separator",itemType:i.MenuItemType.Divider}),n.push({checked:!(null===(r=o.getSettings().streaming)||void 0===r||null===(a=r.abr)||void 0===a||null===(s=a.autoSwitchBitrate)||void 0===s||!s.video),className:"simple-checkbox",id:"auto",onActivate:()=>{t.dispatchEvent("telemetryAvailable",{action:"userAction",name:"setQuality",value:"auto"}),o.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})},text:H,readonly:!0})}const l=o.getTracksFor("audio");if(l.length>1){const e=o.getCurrentTrackFor("audio");n.push({className:"compact-menu status-menu",id:"audio",text:T,subMenuProps:{className:"compact-menu status-menu",id:"audio-track-submenu",items:l.map(((n,r)=>({checked:e===l[r],className:"simple-checkbox",id:`${r}`,onActivate:()=>{t.dispatchEvent("telemetryAvailable",{action:"userAction",name:"setAudio",value:n.lang}),o.setCurrentTrack(l[r])},readonly:!0,text:n.lang||F})))}})}const c=o.getTracksFor("text");if(c.length){const e=o.getCurrentTextTrackIndex();1===c.length?n.push({checked:0===e,className:"simple-checkbox",id:"text",onActivate:()=>{const n=e>=0;t.dispatchEvent("telemetryAvailable",{action:"userAction",name:"setCaption",value:n?"disabled":"enabled"}),o.setTextTrack(n?-1:0)},readonly:!0,text:I}):n.push({id:"text-sub",text:I,subMenuProps:{className:"compact-menu status-menu",id:"text-track-submenu",items:[...c.map(((n,r)=>({checked:e===r,className:"simple-checkbox",id:`${r}`,onActivate:()=>{t.dispatchEvent("telemetryAvailable",{action:"userAction",name:"setCaption",value:n.lang}),o.setTextTrack(r)},readonly:!0,text:n.lang}))).filter((e=>e)),{id:"separator",itemType:i.MenuItemType.Divider},{checked:-1===e,className:"simple-checkbox",id:"text",onActivate:()=>{t.dispatchEvent("telemetryAvailable",{action:"userAction",name:"setCaption",value:"disabled"}),o.setTextTrack(-1)},readonly:!0,text:E}]}})}else n.push({checked:!1,disabled:!0,id:"text",readonly:!0,text:I})}return n}(ce,se);return De&&"never"!==d?(0,S.jsx)("div",{className:"video-controls-overlay absolute-fill",onClick:C.P,onFocus:tt,onMouseEnter:Oe,onMouseLeave:Ue,children:(0,S.jsxs)("div",{className:(0,s.iv)("video-controls pointer-events-auto padding-vertical-12 padding-horizontal-20",m&&"visible"),onDoubleClick:C.P,children:[(0,S.jsxs)("div",{className:"flex-column margin-bottom-4 margin-top-8",onMouseEnter:Be,onMouseLeave:He,onMouseMove:e=>Me(e.clientX),ref:me,children:[(0,S.jsx)(k.i,{ariaValueText:(0,x.WU)(Z,{currentTime:Math.floor(t),duration:Math.floor(n)}),className:"video-time-slider video-slider",min:G,max:n,onChange:e=>{We((()=>se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"changeVideoSlider"})),250),xe.current=0,ve.current&&(ve.current.currentTime=e)},pivot:"start",step:.1,value:t}),(0,S.jsx)(h.Q,{values:{timelineLocation:Ee},children:e=>{let{timelineLocation:t}=e;if(n&&t>=0){const e=me.current.getBoundingClientRect(),o=Math.min(e.width,Math.max(0,t-e.left))/e.width;return he.current&&he.current.updateLayout(),(0,S.jsx)(u.U,{anchorPoint:{x:t,y:e.top-8},calloutOrigin:{horizontal:l.Ye.center,vertical:l.Ye.end},componentRef:he,contentClassName:"padding-8 rounded-4 depth-16",fixedLayout:!0,children:(0,L.LU)(Math.floor(n*o*1e3))})}return null}})]}),(0,S.jsxs)("div",{className:"flex-row",children:[(0,S.jsx)("span",{children:(0,L.LU)(Math.floor(1e3*Math.min(n,t)))}),(0,S.jsx)(a.kP,{direction:a.Uj.Horizontal,focusGroupProps:{defaultElementId:"video-play-pause-button"},handleTabKey:!1,children:(0,S.jsxs)("div",{className:"flex-row flex-justify-center flex-grow padding-top-8 rhythm-horizontal-4",role:"list",children:[(0,S.jsx)(o.Button,{ariaLabel:r?M:D,className:"transparent",iconProps:{render:e=>r?(0,S.jsx)(N.dz,{className:e}):(0,S.jsx)(N.sh,{className:e})},id:"video-play-pause-button",onClick:e=>{r?(se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"pauseVideo"}),ve.current.pause()):(se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"playVideo"}),ve.current.play().catch(C.Z)),e.preventDefault()},tooltipProps:{className:p,text:r?M:D}}),(0,S.jsx)(h.Q,{values:{volume:Ie},children:e=>{let{volume:t}=e;return(0,S.jsx)("div",{className:"flex-row",onBlur:()=>{var e;return null===(e=fe.current)||void 0===e?void 0:e.collapse()},onFocus:()=>{var e;return null===(e=fe.current)||void 0===e?void 0:e.expand()},onMouseEnter:Ze,onMouseLeave:_e,children:(0,S.jsx)(o.ExpandableButton,{anchorOffset:{horizontal:0,vertical:8},anchorOrigin:{horizontal:l.Ye.center,vertical:l.Ye.end},ariaLabel:t>0?(0,x.WU)($,{volume:Math.round(100*t)+"%"}):U,buttonClassName:"transparent",containerRef:ge,dropdownOrigin:{horizontal:l.Ye.center,vertical:l.Ye.start},hideDropdownIcon:!0,iconProps:{render:e=>0===t?(0,S.jsx)(N.g7,{className:e}):(0,S.jsx)(N.ff,{className:e})},id:"video-volume-button",onClick:e=>{se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"updateVolume"}),ve.current.volume?(Ne(ve.current.volume),ve.current.volume=0):ve.current.volume=Pe.value,e.preventDefault()},onKeyDown:e=>{"ArrowDown"===e.key?(se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"decreaseVolume"}),ve.current.volume=Math.max(0,ve.current.volume-.01),e.preventDefault()):"ArrowUp"===e.key&&(se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"increaseVolume"}),ve.current.volume=Math.min(1,ve.current.volume+.01),e.preventDefault())},ref:fe,renderCallout:(e,n,o,r,a,i,l)=>(0,S.jsx)(u.U,{anchorElement:o,anchorOffset:r,anchorOrigin:a,anchorPoint:i,calloutOrigin:l,className:(0,s.iv)("depth-16",p),contentClassName:"rounded-8",id:n,children:(0,S.jsxs)("div",{className:"volume-controls flex-column flex-align-center flex-grow rounded-4",onMouseDown:C.P,children:[(0,S.jsx)("span",{className:"margin-horizontal-8 margin-top-8",children:Math.round(100*t)}),(0,S.jsx)(k.i,{ariaValueText:(0,x.WU)($,{volume:Math.round(100*t)+"%"}),className:"video-volume-slider video-slider margin-vertical-8",excludeTabStop:!0,min:0,max:1,onChange:e=>{se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"clickVideoSliderVolume"}),ve.current.volume=1-e},orientation:"vertical",pivot:"end",step:.01,value:1-t})]})}),tooltipProps:{}})})}}),v.length>1&&(0,S.jsx)(i.MenuButton,{ariaLabel:R,buttonClassName:"transparent",contextualMenuProps:()=>({anchorOffset:{horizontal:0,vertical:-8},anchorOrigin:{horizontal:l.Ye.center,vertical:l.Ye.start},className:(0,s.iv)("video-quality-menu",p),menuOrigin:{horizontal:l.Ye.center,vertical:l.Ye.end},menuProps:{className:"compact-menu status-menu",id:"videoSettings",items:v}}),hideDropdownIcon:!0,iconProps:{render:e=>(0,S.jsx)(N.Zr,{className:e})},id:"video-settings-button",tooltipProps:{className:p,text:R}}),ee&&(0,P.aW)()&&(0,S.jsx)(o.Button,{ariaLabel:V,className:"transparent",iconProps:{render:e=>document.fullscreenElement?(0,S.jsx)(N.F9,{className:e}):(0,S.jsx)(N.XG,{className:e})},id:"video-fullscreen-button",onClick:e=>{document.fullscreenElement?se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"exitFullscreen"}):se.dispatchEvent("telemetryAvailable",{action:"userAction",name:"enterFullscreen"}),ee(),e.preventDefault()},tooltipProps:{className:p,text:V}})]})}),(0,S.jsx)("span",{"aria-label":(0,x.WU)(A,{duration:ie.formatDurationLabel(1e3*n)}),children:(0,L.LU)(Math.floor(1e3*n))})]})]})}):null}}),(0,S.jsx)(h.Q,{values:{feedback:je},children:e=>{let{feedback:t}=e;return t?(0,S.jsx)("span",{className:"absolute-fill flex-row flex-align-center flex-justify-center padding-8 pointer-events-none",children:(0,S.jsx)("span",{className:"video-feedback body-s text-center white-space-normal padding-16 rounded-6",children:t})}):null}}),Q&&(0,S.jsx)("div",{className:"photo-debug-info absolute-fill sub-layer pointer-events-none",children:Q})]});function tt(){Ae(!0),$e((()=>Ae(!1)),2e3)}function nt(e){Le(e),q&&(e?Ge((()=>Le(void 0)),q):ze())}}function q(e,t){return()=>({modifyRequest:function(n){const o=new URL(n.url),r=t.domainSettings[o.hostname];if(r){const t=e.authkey,a=e.badgerToken;if(r.badger&&a)n.headers.Authorization=`Badger ${a}`;else{if(!r.badger||!t)return e.accessToken(r.scope).then((e=>{e&&(r.supportsAccessParam?(o.searchParams.append("access_token",e),n.url=o.toString()):n.headers.Authorization=`Bearer ${e}`)}));o.searchParams.append("authkey",t),n.url=o.toString()}}return Promise.resolve()}})}window.addEventListener("keydown",(()=>z.value=!1)),window.addEventListener("mousedown",(()=>z.value=!1))},84486:(e,t,n)=>{n.d(t,{L:()=>C});var o=n(75894),r=n(67280),a=n(72243),i=n(14766);let s=0;var l=n(6558),c=n(960),d=n(1550),u=n(82435);const{ZoomButtonWithZoomInfo:h,ZoomInButton:m,ZoomLevel:p,ZoomOutButton:v}=window.Resources.Common,f=500,g=150,x=25;function C(e){const{className:t,maxZoomLevel:n=f,minZoomLevel:C=g,role:w="menuitem",setZoomLevel:b,zoomIncrement:y=x,zoomLevel:j}=e,L=a.useContext(i.A),P=function(){const[e]=a.useState((()=>++s));return e}();return(0,u.jsxs)("div",{className:"flex-row rhythm-horizontal-4",children:[(0,u.jsx)(o.Button,{ariaLabel:(0,l.WU)(h,{zoomButton:v,zoomLevel:j}),iconProps:{render:e=>(0,u.jsx)(c.ZS,{className:e})},id:`zoom-out-${P}`,onClick:()=>{const e=Math.max(C,j-y);L.dispatchEvent("telemetryAvailable",{action:"userAction",name:"zoomOutButton",value:e}),b(e)},role:w,subtle:!0,tooltipProps:{addAriaDescribedBy:!1,text:(0,l.WU)(h,{zoomButton:v,zoomLevel:j})}}),(0,u.jsx)(d.i,{ariaLabel:p,className:(0,r.iv)("photo-zoom-slider",t),delay:100,excludeTabStop:!0,id:"photo-zoom",max:n,min:C,onChange:e=>{L.dispatchEvent("telemetryAvailable",{action:"userAction",name:"zoomSliderAllPhotos",value:e}),b(e)},pivot:"center",step:y,value:j}),(0,u.jsx)(o.Button,{ariaLabel:(0,l.WU)(h,{zoomButton:m,zoomLevel:j}),iconProps:{render:e=>(0,u.jsx)(c.FS,{className:e})},id:`zoom-in-${P}`,onClick:()=>{const e=Math.min(n,j+y);L.dispatchEvent("telemetryAvailable",{action:"userAction",name:"zoomInButton",value:e}),b(e)},role:w,subtle:!0,tooltipProps:{addAriaDescribedBy:!1,text:(0,l.WU)(h,{zoomButton:m,zoomLevel:j})}})]})}},39086:(e,t,n)=>{n.d(t,{KX:()=>c,Qc:()=>h,rC:()=>u});var o=n(72243),r=n(98444),a=n(63693),i=n(57083),s=n(64695),l=n(10995);const c=o.createContext({accessToken:()=>Promise.resolve("")}),d={};let u;!function(e){e.Default="OneDrive.ReadWrite",e.Sandbox="onedrive-devbox.readwrite"}(u||(u={}));class h{constructor(e,t,n,o,r){this.acquireHostToken=()=>Promise.resolve(""),this.cacheExpiration=0,this.refreshToken=void 0,this.sessionContext=void 0,this.tokenCache={},this.authkey=void 0,this.badgerToken=void 0,this.authkey=n,this.badgerToken=o,this.refreshToken=(0,s.hG)(i.g$,{eventDispatch:e,name:"refreshToken"}),this.sessionContext=t,r&&(this.acquireHostToken=r)}accessToken(e,t){const{forceRefresh:n,ignoreQuickCache:o}=t||d,i=e.split(" ");if(!n&&!o){const e=this.matchScopes(i);if(e)return Promise.resolve(e)}if(this.sessionContext.embedded)return this.acquireHostToken(e);{if(!n){this.processTokens();const e=this.matchScopes(i);if(e)return Promise.resolve(e)}const t=(0,r.ej)("RefreshToken");return t?this.refreshToken(e,t).then((()=>(this.processTokens(),this.matchScopes(i)||""))).catch((0,a.gf)((()=>{this.refreshFailed()}))):this.refreshFailed()}}matchScopes(e){if(Date.now()<this.cacheExpiration)for(let t in this.tokenCache){const n=this.tokenCache[t];let o=0;for(;o<e.length&&n.has(e[o]);o++);if(o===e.length)return t}}processTokens(){const e=(0,r.$1)();this.tokenCache={},this.cacheExpiration=0;for(let t in e)if(0===t.indexOf("AccessToken-")){const n=e[t];let o=t.substring(12).split("+");const r=this.sessionContext.sandboxEnv&&this.sessionContext.migrated?u.Sandbox:u.Default;if(-1!==o.indexOf(r)&&(o=[r]),this.tokenCache[n])for(let e of o)this.tokenCache[n].add(e);else this.tokenCache[n]=new Set(o)}this.cacheExpiration=Date.now()+1e4}refreshFailed(){return(0,l.LD)(),window.location.href=(0,l.Z8)(this.sessionContext,"rf"),new Promise((()=>{}))}}},43834:(e,t,n)=>{n.d(t,{K:()=>i,v:()=>a});var o=n(72243),r=n(62216);class a{get yearFormat(){return this._yearFormat||(this._yearFormat=Intl.DateTimeFormat(this.locale,{year:"numeric"})),this._yearFormat}get weekdayFormat(){return this._weekdayFormat||(this._weekdayFormat=Intl.DateTimeFormat(this.locale,{weekday:"long"})),this._weekdayFormat}get shortFormat(){return this._shortFormat||(this._shortFormat=Intl.DateTimeFormat(this.locale,{month:"short",day:"numeric"})),this._shortFormat}get longFormat(){return this._longFormat||(this._longFormat=Intl.DateTimeFormat(this.locale,{year:"numeric",month:"short",day:"numeric"})),this._longFormat}get dateTimeFormat(){return this._dateTimeFormat||(this._dateTimeFormat=Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})),this._dateTimeFormat}get hourFormat(){return this._hourFormat||(this._hourFormat=new Intl.NumberFormat(this.locale,{style:"unit",unit:"hour",unitDisplay:"long"})),this._hourFormat}get minuteFormat(){return this._minuteFormat||(this._minuteFormat=new Intl.NumberFormat(this.locale,{style:"unit",unit:"minute",unitDisplay:"long"})),this._minuteFormat}get secondFormat(){return this._secondFormat||(this._secondFormat=new Intl.NumberFormat(this.locale,{style:"unit",unit:"second",unitDisplay:"long"})),this._secondFormat}constructor(e){this.locale=e,this._yearFormat=void 0,this._weekdayFormat=void 0,this._shortFormat=void 0,this._longFormat=void 0,this._dateTimeFormat=void 0,this._hourFormat=void 0,this._minuteFormat=void 0,this._secondFormat=void 0}formatDate(e,t){let n;return n="short"===t?this.shortFormat.format(e):"full"===t?this.dateTimeFormat.format(e):"year"===t?this.yearFormat.format(e):"weekday"===t?this.weekdayFormat.format(e):this.longFormat.format(e),n.replace("\u202f"," ")}formatDurationLabel(e){const{hours:t,minutes:n,seconds:o}=(0,r.ib)(e);let a="";return t&&(a+=this.hourFormat.format(t)),n&&(a&&(a+=" "),a+=this.minuteFormat.format(n)),o&&(a&&(a+=" "),a+=this.secondFormat.format(o)),a}}const i=o.createContext(new a("en-us"))},13097:(e,t,n)=>{n.d(t,{D:()=>o});const o=n(72243).createContext({})},18365:(e,t,n)=>{n.d(t,{M:()=>a});var o=n(72243);let r=0;const a=o.createContext(new class{constructor(){this.feeds=new Map}add(e){const t=++r;return this.feeds.set(t,e),t}delete(e){this.feeds.delete(e)}get(e){return this.feeds.get(e)}})},42822:(e,t,n)=>{n.d(t,{KE:()=>r,W5:()=>i,l:()=>a});var o=n(72243);const r=new Set(["People","Places","Search","Things"]),a=o.createContext({addCustomization:()=>{},customizeFeedback:()=>null,provideFeedback:()=>Promise.resolve(),removeCustomization:()=>{}});class i{constructor(e,t,n,o){this.customizations=[],this.eventContext=void 0,this.sendFeedback=void 0,this.sessionContext=void 0,this.settingsContext=void 0,this.eventContext=n,this.sendFeedback=e,this.sessionContext=t,this.settingsContext=o}addCustomization(e){this.customizations.push(e),this.eventContext.dispatchEvent("feedbackCustomized")}customizeFeedback(e,t){return this.customizations.length?this.customizations[this.customizations.length-1](e,t):null}provideFeedback(e){const{comment:t,email:n,feedbackSource:o,feedbackType:a,screenshot:i}=e,s=this.sessionContext.graphProfile.value,l=null===s||void 0===s?void 0:s.ageGroup;if(!("0"===l||"3"===l||"4"===l))return this.eventContext.dispatchEvent("telemetryAvailable",{action:"exception",name:"sendFeedback",error:"unsupported",value:o}),Promise.resolve();const c=this.sessionContext.getPage().current;r.has(c)&&this.settingsContext.setSetting("feedback",{lastProvided:Date.now()});const d={authenticationType:"MSA",ageGroup:"0"===l?"Undefined":"3"===l?"Adult":"NotAdult",connectedExperiences:null,policyAllowContact:null,policyAllowContent:null,policyAllowFeedback:null,policyAllowScreenshot:null,policyAllowSurvey:null},u=[{id:"360036980771",value:o},{id:"360039035053",value:"OneDrivePhotos"},{id:"360039035052",value:!n},{id:"360039035056",value:JSON.stringify(d)}];return this.sessionContext.session&&u.push({id:"81090127",value:this.sessionContext.session}),u.push(...e.extraData),this.sendFeedback({market:this.sessionContext.locale,metadata:{app:"OneDrive",appVersion:this.sessionContext.clientVersion,backendVersion:"ODC",comment:t,device:{deviceModel:navigator.vendor,platform:"Web",platformVersion:navigator.userAgent},extraData:u,feedbackType:a,isDogfoodBuild:this.sessionContext.dogfoodUser,user:{aadPuid:null===s||void 0===s?void 0:s.id,authEnvironment:"Prod",authType:"MSA",email:n||(null===s||void 0===s?void 0:s.userPrincipalName),firstName:(null===s||void 0===s?void 0:s.givenName)||".",isBusiness:!1,isDogfood:this.sessionContext.dogfoodUser,lastName:(null===s||void 0===s?void 0:s.surname)||".",tenantId:"9188040d-6c67-4c5b-b112-36a304b66dad"}},screenshot:i})}removeCustomization(e){const t=this.customizations.indexOf(e);t>=0&&(this.customizations.splice(t,1),this.eventContext.dispatchEvent("feedbackCustomized"))}}},10995:(e,t,n)=>{n.d(t,{B3:()=>m,Gj:()=>c,LD:()=>h,Z8:()=>u,bc:()=>l});var o=n(18421),r=n(72243),a=n(98444),i=n(81284),s=n(39086);const l="9188040d-6c67-4c5b-b112-36a304b66dad",c={ariaToken:"b099dca11fed49d7994ca255014628ad-64f54736-b2a7-44a6-9c34-4348f6d52011-7189",cdnDomain:"res.cdn.office.net",clientId:"cac44c57-87e7-4c86-88e2-e2ea658ecb30",clientVersion:"dev",dogfoodUser:!0,environment:"development",experiments:{},loginAuthority:"login.microsoftonline.com",ramps:{},redirectUri:"http://localhost:3000/auth/login",ring:"dev",serverVersion:"dev",telemetryEndpoint:"https://browser.events.data.microsoft.com/OneCollector/1.0/",tenantId:l},d={...c,accountDetails:new o.fA(void 0),apiOrigin:i.O0,apiVersion:i.P5,authenticated:()=>!1,domainSettings:i.NP,driveId:"me",getPage:()=>({current:"",previous:""}),graphProfile:new o.fA(void 0),locale:"en-US",profileUrl:new o.fA(""),session:"",setCurrentPage:()=>{},standalone:!1};function u(e,t,n){const o=new URLSearchParams(window.location.search);o.delete("login_hint");const r=o.toString(),a=r?`${window.location.pathname}?${r}`:window.location.pathname,i=e.sandboxEnv&&e.migrated?s.rC.Sandbox:s.rC.Default,l={client_id:e.clientId,nonce:`${t}.${e.session||"53bebd0c-4d8a-4448-9991-e0f9dbc4a83a"}`,redirect_uri:e.redirectUri,response_mode:"form_post",response_type:"code",scope:`${i} Files.ReadWrite People.Read User.Read offline_access openid profile`,state:a};return n&&(l.login_hint=n),new URL(`https://${e.loginAuthority}/consumers/oauth2/v2.0/authorize?${new URLSearchParams(l).toString()}`).toString()}function h(){const e=(0,a.$1)();for(let t in e)0===t.indexOf("AccessToken-")&&(0,a.kT)(t);(0,a.kT)("IdToken"),(0,a.kT)("RefreshToken")}const m=r.createContext(d)},55539:(e,t,n)=>{n.d(t,{O:()=>i,T:()=>a});var o=n(72243),r=n(25624);const a=o.createContext({throttle:()=>0});function i(){const e=new Map;return(0,r.V)("fetchComplete",(n=>{const{url:o}=n,r=new URL(o).origin,a=t(n.telemetryProperties.rateLimitLimit);if(a){const o=t(n.telemetryProperties.rateLimitRemaining),i=t(n.telemetryProperties.rateLimitReset);void 0!==o&&void 0!==i&&e.set(r,{limit:a,remaining:o,reset:i})}else"fulfilled"===n.result.status&&e.delete(r)})),{throttle:t=>{const n=e.get(t);return n?1-n.remaining/n.limit:0}};function t(e){return"number"===typeof e?e:"string"===typeof e?Number.parseInt(e):void 0}}},62873:(e,t,n)=>{n.d(t,{N:()=>l,v:()=>s});var o=n(18421),r=n(72243),a=n(7407),i=n(64695);const s=r.createContext({getUserPreferences:()=>new o.fA(null),setUserPreferences:()=>Promise.resolve()});class l{constructor(e,t){this.photoPreferences=void 0,this.emailPreferences=void 0,this.featurePreferences=void 0,this.settingContext=void 0,this.updatePhotoPreferences=void 0,this.updateEmailPreferences=void 0,this.updateFeaturePreferences=void 0,this.settingContext=t;const n=t.getSetting("photoPreferences"),r=t.getSetting("emailPreferences"),s=t.getSetting("featurePreferences");this.photoPreferences=new o.fA(null!==n&&void 0!==n?n:null),this.emailPreferences=new o.fA(null!==r&&void 0!==r?r:null),this.featurePreferences=new o.fA(null!==s&&void 0!==s?s:null),this.updatePhotoPreferences=(0,i.hG)(a.gs,{eventDispatch:e,name:"updateUserPhotoPreferences"}),this.updateEmailPreferences=(0,i.hG)(a.OK,{eventDispatch:e,name:"updateUserEmailPreferences"}),this.updateFeaturePreferences=(0,i.hG)(a.sh,{eventDispatch:e,name:"updateUserFeaturePreferences"})}getUserPreferences(e){switch(e){case"photo":return this.photoPreferences;case"email":return this.emailPreferences;case"feature":return this.featurePreferences}}setUserPreferences(e,t){switch(e){case"photo":return this.updatePhotoPreferences(t).then((e=>{this.photoPreferences.value=e,this.settingContext.setSetting("photoPreferences",e)}));case"email":return this.updateEmailPreferences(t).then((e=>{this.emailPreferences.value=e,this.settingContext.setSetting("emailPreferences",e)}));case"feature":return this.updateFeaturePreferences(t).then((e=>{this.featurePreferences.value=e,this.settingContext.setSetting("featurePreferences",e)}))}}}},78669:(e,t,n)=>{n.d(t,{M:()=>r});var o=n(18421);const r=n(72243).createContext({workerDetails:new o.fA({capabilities:[]})})},20857:(e,t,n)=>{n.d(t,{W_:()=>q,$6:()=>Q});var o=n(75894),r=n(23190),a=n(87501),i=n(78070),s=n(28966),l=n(23706),c=n(67280),d=n(72243),u=n(85230),h=n(26107),m=n(77357),p=n(14766),v=n(13812),f=n(7803),g=n(98540),x=n(6558),C=n(960),w=n(10995),b=n(62216),y=n(82435);const{AddNew:j,PeopleTitle:L,ToggleNavigation:P}=window.Resources.Common,{BuyMoreStorage:N,BuyStorage:k,ExpandCollapseAltLabel:S,FilesPage:T,FilesPageAltLabel:A,HomePage:E,HomePageAltLabel:M,PeopleAltLabel:D,PhotosPage:R,PhotosPageAltLabel:I,PremiumOneDrive:V,PurchaseLabel:F,PurchaseMoreLabel:O,QuotaPercentage:U,QuotaUsageOver:B,RecentPage:H,RecentPageAltLabel:Z,RecycleBinPage:_,RecycleBinPageAltLabel:$,SharedPage:z,SharedPageAltLabel:G,StorageLabel:W}=window.Resources.Navigation;function q(e){const{expanded:t,setExpanded:n}=e,r=d.useContext(p.A),i=d.useContext(v.S),u=d.useContext(f.k),h=d.useContext(w.B3),q=(0,g.mU)(i.featureEnabled("showHome")),Q=h.userProfile&&(h.userProfile.name||h.userProfile.preferred_username);return(0,y.jsxs)("nav",{className:(0,c.iv)("photo-navigation flex-column flex-noshrink overflow-hidden",t?"expanded padding-bottom-12 padding-right-12":"collapsed padding-bottom-16"),children:[(0,y.jsxs)("div",{className:"flex-column overflow-hidden",children:[(0,y.jsx)("div",{className:"flex-row margin-bottom-22 margin-left-16 margin-top-24",children:(0,y.jsx)(o.Button,{ariaLabel:t?j:"",className:(0,c.iv)("add-new-button flex-align-center overflow-hidden padding-horizontal-12",t?"rounded-18":"collapsed flex-justify-center round"),disabled:!0,text:t?j:"",iconProps:{render:e=>(0,y.jsx)(C.kj,{className:e})}})}),(0,y.jsxs)(X,{ariaExpanded:t,ariaLabel:S,className:"toggle-navigation flex-align-self-stretch flex-justify-between rounded-8",expanded:t,id:"expand",onClick:e=>{r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"toggleNavigation",value:!t}),n(!t),e.preventDefault()},tooltipProps:{showOnFocus:!0,text:P},children:[t&&Q&&(0,y.jsx)(l.Tooltip,{overflowOnly:!0,children:(0,y.jsx)("span",{className:"navigation-user-details flex-row flex-center flex-noshrink font-weight-semibold text-ellipsis",children:Q})}),t?(0,y.jsx)(C.CY,{}):(0,y.jsx)(C.Dg,{})]}),(0,y.jsx)(a.kP,{direction:a.Uj.Vertical,focusGroupProps:{defaultElementId:q?"home-page":"files-page"},handleTabKey:!1,children:(0,y.jsxs)("div",{"aria-label":(0,x.WU)("{{username}}, use the up and down keys to move through different sub links; hit enter to navigate to a sub link.",{username:Q}),className:(0,c.iv)("flex-column overflow-x-hidden overflow-y-auto margin-bottom-8",!t&&"scrollbar-hidden"),"data-testid":"navigation-links-group1",role:"menu",children:[q?(0,y.jsx)(Y,{ariaLabel:M,expanded:t,href:"https://onedrive.live.com?qt=mru",iconProps:{render:e=>(0,y.jsx)(C.SK,{className:e})},id:"home-page",onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigateHome"}),text:E}):null,(0,y.jsx)(Y,{ariaLabel:A,expanded:t,href:"https://onedrive.live.com?qt=root",iconProps:{render:e=>(0,y.jsx)(C.gt,{className:e})},id:"files-page",onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigateMyFiles"}),text:T}),q?null:(0,y.jsx)(Y,{ariaLabel:Z,expanded:t,href:"https://onedrive.live.com?qt=mru",iconProps:{render:e=>(0,y.jsx)(C.lE,{className:e})},id:"recent-page",onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigateRecent"}),text:H}),(0,y.jsx)(Y,{ariaLabel:I,expanded:t,href:"/",iconProps:{render:e=>(0,y.jsx)(C.Pz,{className:e})},id:"photos-page",onClick:e=>u.navigate(e,"navigateGallery"),selected:!0,text:R}),(0,y.jsx)(Y,{ariaLabel:G,expanded:t,href:"https://onedrive.live.com?qt=sharedby",iconProps:{render:e=>(0,y.jsx)(C.BY,{className:e})},id:"shared-page",onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigateShared"}),text:z}),(0,y.jsx)(Y,{ariaLabel:$,expanded:t,href:"https://onedrive.live.com?qt=recyclebin",iconProps:{render:e=>(0,y.jsx)(C.lQ,{className:e})},id:"recycle-bin",onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigateRecycleBin"}),text:_})]})}),(0,y.jsx)("div",{className:"group-header flex-row",children:t?(0,y.jsx)(l.Tooltip,{overflowOnly:!0,children:(0,y.jsx)("span",{className:"flex-row flex-center flex-noshrink font-weight-semibold text-ellipsis",children:"Browse files by"})}):(0,y.jsx)("span",{className:"separator-line"})}),(0,y.jsx)(a.kP,{direction:a.Uj.Vertical,focusGroupProps:{defaultElementId:"browse-by-people"},handleTabKey:!1,children:(0,y.jsx)("div",{className:(0,c.iv)("flex-column overflow-x-hidden overflow-y-auto margin-bottom-8",!t&&"scrollbar-hidden"),"data-testid":"navigation-links-group2",role:"menu",children:(0,y.jsx)(Y,{ariaLabel:D,expanded:t,href:"https://onedrive.live.com?qt=people",iconProps:{render:e=>(0,y.jsx)(C.Fc,{className:e})},id:"browse-by-people",onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigateBrowseByPeople"}),text:L})})})]}),(0,y.jsx)("div",{className:"flex-column flex-grow flex-justify-end rhythm-vertical-8 padding-top-8",children:(0,y.jsx)(m.Q,{values:{accountDetails:h.accountDetails},children:e=>{let{accountDetails:n}=e;if(n&&n.quota){const{quota:e,unifiedStorageQuota:o}=n,{remaining:a,state:i,total:l,used:d}=o||e,{storagePlans:u}=n.quota,h=d>=l,m=Math.floor(d/l*100),p=l>=107374182400&&l<1099511627776,v=l>=1099511627776,f="normal"===i?m>=70&&u.upgradeAvailable&&!p?"nearing":"normal":i,g="normal"!==f,w=(0,x.WU)(U,{quotaPercentage:m});return(0,y.jsxs)("div",{className:(0,c.iv)("account-details flex-column","nearing"===f&&"nearing","normal"!==f&&"nearing"!==f&&"full",t?"margin-bottom-12 padding-horizontal-12":"padding-horizontal-4"),children:[(0,y.jsxs)("div",{className:(0,c.iv)("flex-column padding-top-8 margin-bottom-8",("normal"===f&&!v||p)&&t&&"purchase-border margin-bottom-16 padding-horizontal-12 padding-top-12 rounded-6"),children:[t&&!g&&u.upgradeAvailable&&(0,y.jsx)("span",{className:"purchase-label flex-row body-s margin-bottom-16",children:p?O:F}),g?"nearing"===f?(0,y.jsx)(X,{className:(0,c.iv)("premium-button nearing-button rounded-6",t?"margin-bottom-12":"collapsed margin-bottom-4 flex-self-center"),expanded:t,href:"https://onedrive.live.com/?v=upgrade&hideLeftNav=true&hideLeftNav=true&ocid=PROD_OneDrive-Web_PremiumLeftNav_Normal_GetMoreStorage",iconProps:{render:e=>(0,y.jsx)(C.QE,{className:e})},onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigatePremium"}),text:N}):(0,y.jsx)(X,{className:(0,c.iv)("premium-button full-button rounded-6",t?"margin-bottom-12":"collapsed margin-bottom-4 flex-self-center"),expanded:t,href:"https://onedrive.live.com/?v=upgrade&hideLeftNav=true&hideLeftNav=true&ocid=PROD_OneDrive-Web_PremiumLeftNav_Normal_GetMoreStorage",iconProps:{render:e=>(0,y.jsx)(C.jj,{className:e})},onClick:()=>{r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigatePremium"})},text:N}):(0,y.jsx)(X,{className:(0,c.iv)("premium-button rounded-6",t?"margin-bottom-12":"collapsed margin-bottom-4 flex-self-center"),expanded:t,href:"https://onedrive.live.com/?v=upgrade&hideLeftNav=true&hideLeftNav=true&ocid=PROD_OneDrive-Web_PremiumLeftNav_Normal_GetMoreStorage",iconProps:{render:e=>(0,y.jsx)(C.tv,{className:e})},onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"navigatePremium"}),text:p?N:v?V:k})]}),t&&(0,y.jsx)("div",{className:"quota-icon-label-container flex-row flex-align-center",children:(0,y.jsx)("span",{className:"quota-icon-label font-weight-semibold",children:W})}),(0,y.jsxs)("div",{"aria-label":w,className:(0,c.iv)("flex-row margin-vertical-4",!t&&"margin-horizontal-8"),role:"contentinfo",children:[(0,y.jsx)("div",{className:"quota-used-percentile flex-noshrink",style:{width:Math.max(1,Math.min(100,m))+"%"}}),(0,y.jsx)("div",{className:"quota-unused-percentile flex-grow"})]}),t&&(0,y.jsx)("span",{className:(0,c.iv)("body-s secondary-text white-space-pre-wrap overflow-hidden",g&&"margin-bottom-8"),children:(0,x.R4)((0,x.WU)(B,{overage:(0,b.BU)(d-l),quotaPercentage:m,remaining:(0,b.BU)(a),total:(0,b.RA)(l),used:(0,b.RA)(d)}),(e=>(0,y.jsxs)(s.Link,{className:(0,c.iv)("quota-used-text focus-treatment flex-row flex-align-center",h&&"underline"),href:"https://onedrive.live.com/?v=managestorage",onClick:()=>r.dispatchEvent("telemetryAvailable",{action:"userAction",name:"manageStorage"}),children:["nearing"===f&&(0,y.jsx)(C.QE,{className:"margin-right-4"}),"normal"!==f&&"nearing"!==f&&(0,y.jsx)(C.jj,{className:"margin-right-4"}),e]},"manage-storage")))})]})}return null}})})]})}function Q(e){const{onDismiss:t}=e,n=(0,u.k6)();return d.useEffect((()=>{const e=n.listen((()=>t()));return()=>{e()}})),(0,y.jsx)(h.U,{className:"navigation-callout absolute-fill",contentClassName:"flex-column",contentJustification:r.vN.Stretch,contentLocation:r.RD.Start,contentOrientation:r.aq.Column,focuszoneProps:{circularNavigation:!0,focusOnMount:!0,handleTabKey:!0,includeDefaults:!0},escDismiss:!0,id:"navigation-panel",lightDismiss:!0,modal:!0,onDismiss:t,children:(0,y.jsx)(q,{expanded:!0,setExpanded:t})})}function X(e){const{ariaLabel:t,children:n,className:r,expanded:a,selected:i,text:s,...d}=e;return(0,y.jsxs)(o.Button,{ariaLabel:t||(a?void 0:s),className:(0,c.iv)("navigation-button flex-noshrink",r,a&&"expanded",i&&"selected"),subtle:!0,...d,children:[a&&s?(0,y.jsx)(l.Tooltip,{overflowOnly:!0,children:(0,y.jsx)("span",{className:"navigation-button-text text-ellipsis",children:s})}):null,n]})}function Y(e){const{ariaLabel:t,className:n,expanded:r,iconProps:a,selected:s,text:d,...u}=e,h=r?void 0:{text:d};return(0,y.jsxs)(o.Button,{ariaLabel:t,className:(0,c.iv)("navigation-link",n,"navigation-item flex-justify-start flex-row flex-noshrink rounded-8",r&&"expanded",s&&"selected"),role:"menuitem",subtle:!0,tooltipProps:h,...u,children:[(0,y.jsx)("div",{className:"selection-banner margin-vertical-4"}),a&&(0,y.jsx)(i.I,{...a,className:(0,c.iv)(a.className,"left-icon")}),r&&d?(0,y.jsx)(l.Tooltip,{overflowOnly:!0,children:(0,y.jsx)("span",{className:"navigation-link-text text-ellipsis",children:d})}):null]})}},39146:(e,t,n)=>{n.d(t,{$:()=>i});var o=n(72243),r=n(62543),a=n(10995);function i(){return o.useContext(a.B3).migrated?r.Rt:r._Z}},38639:(e,t,n)=>{n.d(t,{t:()=>r});var o=n(72243);function r(e){const t=o.useRef(),[n,r]=o.useState(0);return o.useLayoutEffect((()=>{const n=t.current,o=e.current;n&&o&&(o.scrollTo(n,"center"),t.current=void 0)}),[n]),{centerOnItem:function(n){const o=e.current;if(o&&!n){const e=o.getCenterTile();e&&(n=e.item)}n&&(t.current=n,r((e=>e+1)))}}}},14260:(e,t,n)=>{n.d(t,{i:()=>s});var o=n(72243),r=n(13332),a=n(10995),i=n(64695);function s(e,t){const n=o.useContext(a.B3),s={};return void 0!==n.migrated&&(s.migrated=n.migrated),(0,r.i)(e,{retryCallback:i.$9,telemetryProperties:s,...t})}},9354:(e,t,n)=>{n.d(t,{E:()=>d});var o=n(18421),r=n(72243),a=n(52557),i=n(98540),s=n(74278),l=n(63693),c=n(18365);function d(e,t){const{ensureData:n=!1,filterFunction:d=s.Z,initialize:u=s.Z,useCache:h=!1}=t||{},m=r.useContext(c.M),[{getItemsPageCache:p,itemMap:v,items:f,removedItems:g}]=r.useState((()=>({getItemsPageCache:new Map,itemMap:new Map,items:new o.db([]),removedItems:new Set}))),x=r.useMemo((()=>{const t={nextPage:void 0,previousPage:void 0},r=new o.fA(!1),i=n=>{const o=null!==n&&void 0!==n?n:"";if(h){let e=p.get(o);if(e)return e}const i=e(n).then(c).then((e=>((0,a.unstable_batchedUpdates)((()=>{if(n){if(n===t.nextPage)t.nextPage=e["@odata.nextLink"],d(e.value,x),f.splice(f.length,0,...e.value);else if(n===t.previousPage){const n=e.value,o=n.length;for(let e=0,t=o-1;e<Math.floor(o/2);e++,t--){const o=n[e];n[e]=n[t],n[t]=o}t.previousPage=e["@oneDrive.previousPageLink"],d(n,x),f.splice(0,0,...n)}}else u(),t.nextPage=e["@odata.nextLink"],t.previousPage=e["@oneDrive.previousPageLink"],d(e.value,x),f.value=e.value,r.value=!0})),{nextPage:e["@odata.nextLink"],previousPage:e["@oneDrive.previousPageLink"],value:e.value}))).catch((0,l.gf)((()=>{r.value=!0})));return h&&p.set(o,i),i},s=m.add({cursor:t,getItem:x,getItemsFromFeed:i,initialized:r,items:f});return{cursor:t,feedId:s,getItem:x,getItemsFromFeed:i,initialized:r,items:f};function c(t){return n&&!t.value.length&&t["@odata.nextLink"]?e(t["@odata.nextLink"]).then(c):Promise.resolve(t)}function x(e,t){return t&&g.has(e)?void 0:v.get(e)}}),[n,m,d,e,p,u,v,f,g,h]),{feedId:C}=x;return(0,i.Qe)(f,r.useCallback((e=>(e.removedItems&&e.removedItems.forEach((e=>g.add(e.id))),e.addedItems&&e.addedItems.forEach((e=>{v.set(e.id,e),g.delete(e.id)})),!0)),[v,g])),r.useEffect((()=>()=>{m.delete(C),p.clear()}),[m,C,p]),x}},78649:(e,t,n)=>{n.d(t,{W:()=>s});var o=n(72243),r=n(2408),a=n(43409),i=n(71197);function s(e){const t=o.useRef((0,i.Vx)()),[,n]=o.useState(0),{setTimeout:s}=(0,a.K)();return(0,r.OR)(window,"resize",o.useCallback((()=>{s((()=>{const o=(0,i.Vx)();o!==t.current&&(e&&e(o),t.current=o,n((e=>e+1)))}),20)}),[n,s,e])),t.current}},64126:(e,t,n)=>{n.d(t,{a:()=>p,r:()=>v});var o=n(72243),r=n(52557),a=n(98667),i=n(98540),s=n(39086),l=n(10995),c=n(78669),d=n(14260),u=n(15690);const h=/\)/g,m=/\(/g;function p(e){return function(t,n){return v(t,e,n)}}function v(e,t,n){const p=o.useContext(s.KX),v=o.useContext(l.B3),f=o.useContext(c.M),{cacheToken:g="",filename:x,photoScale:C}=n||{},[w,b]=(0,i.mA)(void 0),[y,j]=(0,i.mA)(void 0),L=(0,d.i)(t,{blocking:!1,name:"downloadPhoto"}),{createObjectURL:P}=(0,a.q)(),N=void 0===C||"full"===C?C:(0,u.d9)(C.height,C.width);return o.useMemo((()=>{if(N){const t=v.driveId;let n=N;if(f.workerDetails.value.capabilities.indexOf("vroomAuthorization")>=0&&(!v.migrated||f.workerDetails.value.capabilities.indexOf("vroomAuthorization2")>=0)&&!p.authkey&&!p.badgerToken&&!v.embedded&&v.authenticated()){const{apiOrigin:o,apiVersion:r}=v,a={};"full"!==N&&(a.prefer="noredirect,closestavailablesize"),g&&(a.cb=g);const i=new URLSearchParams(a);return f.workerDetails.value.capabilities.indexOf("extraHeaders")>=0&&i.set("eh",`Scenario:${v.getPage().current}`),{status:"fulfilled",url:"full"!==N?`${o.vroomOrigin}/${r.downloadVersion}/drives/${t}/items/${e}/thumbnails/0/${n}/content${k(x,n)}?${i}`:`${o.vroomOrigin}/${r.downloadVersion}/drives/${t}/items/${e}/content?${i}`}}L(t,e,{cacheToken:g,photoScale:N}).then((e=>((0,r.unstable_batchedUpdates)((()=>{j(P(e)),b("fulfilled")})),e))).catch((()=>{(0,r.unstable_batchedUpdates)((()=>{b("rejected")}))}))}return{status:w,url:y}}),[g,N,e]);function k(e,t){if(!v.migrated&&e){const n=e.lastIndexOf(".");return n>=0&&(e=`${e.substring(0,n)}.${t}.${e.substring(n+1)}`),`/${e.replace(m,"[").replace(h,"]")}`}return""}}},13854:(e,t,n)=>{n.d(t,{H:()=>m,O:()=>p});var o=n(72243),r=n(14766),a=n(98540),i=n(52520),s=n(74278),l=n(81284),c=n(10995),d=n(15690),u=n(9354),h=n(46303);function m(e,t,n){const{id:r}=n||{},i=o.useRef(void 0),s=o.useContext(c.B3),[l,u]=(0,a.mA)(void 0),[m,v]=(0,a.mA)(void 0),f=(0,h.Ny)(),g=o.useCallback((n=>(i.current&&i.current===r||(i.current=r,t(s.driveId,r).then((e=>{i.current===r&&e&&v((0,d.yp)(e))})).catch(f)),e(n).then((e=>(!l.value&&e.value.length&&u((0,d.yp)(e.value[0])),e))))),[t,e,l,u,v]);return{...p(g,n),newestPhoto:l,oldestPhoto:m}}function p(e,t){const{ensureData:n,filterFunction:a=s.Z,selection:c}=t||{},h=o.useContext(r.A),[m]=o.useState(new Map),[p]=o.useState(new Map),v=(0,u.E)(e,{ensureData:n,filterFunction:o.useCallback(((e,t)=>{a(e,t);for(let r=0;r<e.length;r++){var n,o;let a=e[r];const i=t(a.id);i&&(a=Object.assign(i,a),e.splice(r,1,i)),a.duplicates=[];const s=null===(n=a.file)||void 0===n||null===(o=n.hashes)||void 0===o?void 0:o.sha256Hash;if(s){const t=p.get(s);t?(e.splice(r--,1),t.duplicates.push(a),m.set(a.id,t)):p.set(s,a)}}}),[m,a,p]),initialize:o.useCallback((()=>{m.clear(),p.clear()}),[m,p])});return o.useEffect((()=>{return h.addEventListener("dataChanged",e),()=>{h.removeEventListener("dataChanged",e)};function e(e){if("photoCreated"===e.changeType){const o=e.data.photo,r=v.getItem(o.id,!0);if(r)null!==r&&void 0!==r&&r.lastModifiedDateTime&&o.lastModifiedDateTime&&new Date(r.lastModifiedDateTime)<new Date(o.lastModifiedDateTime)&&Object.assign(r,o);else{var t,n;const e=null===(t=o.file)||void 0===t||null===(n=t.hashes)||void 0===n?void 0:n.sha256Hash;let r;if(o.duplicates=[],e&&void 0!==(r=p.get(e)))r.duplicates.push(o),m.set(o.id,r);else{const t=(0,i.r)(v.items.value,o,((e,t)=>(0,d.yp)(e).getTime()-(0,d.yp)(t).getTime()));v.items.splice(t,0,o),e&&p.set(e,o)}}}else if("photosDeleted"===e.changeType){const t=e.data.photoIds;c&&c.unselect(t);for(let e=0;e<t.length;e++){const n=t[e],i=m.get(n);if(null!==i&&void 0!==i&&i.duplicates){for(let e=0;e<i.duplicates.length;e++)if(i.duplicates[e].id===n){i.duplicates.splice(e,1),m.delete(n);break}}else for(let e=0;e<v.items.length;e++){var o,r;const t=v.items.value[e],i=null===(o=t.file)||void 0===o||null===(r=o.hashes)||void 0===r?void 0:r.sha256Hash;if(t.id===n){var a;if(v.items.splice(e,1),i)if(null!==(a=t.duplicates)&&void 0!==a&&a.length){const n=t.duplicates[0];n.duplicates=t.duplicates,n.duplicates.splice(0,1),m.delete(n.id),p.set(i,n),v.items.splice(e,0,n)}else p.delete(i);break}}}}else if("photoUpdated"===e.changeType){const t=v.getItem(e.data.photo.id);t&&(e.data.photo.dimensions===l.Xl&&(e.data.photo.dimensions=t.dimensions),e.data.photo.photo={...null===t||void 0===t?void 0:t.photo,...e.data.photo.photo},Object.assign(t,e.data.photo))}else if("tagAdded"===e.changeType){const t=v.getItem(e.data.photoId);t&&(t.tags?t.tags.find((t=>t.localizedName===e.data.tag))||t.tags.push({autoTagged:{},localizedName:e.data.tag,name:e.data.tag,source:"UserDefined"}):t.tags=[{autoTagged:{},localizedName:e.data.tag,name:e.data.tag,source:"UserDefined"}])}else if("tagDeleted"===e.changeType){const t=v.getItem(e.data.photoId);if(null!==t&&void 0!==t&&t.tags)for(let n=0;n<t.tags.length;n++)if(t.tags[n].localizedName===e.data.tag){t.tags.splice(n,1);break}}else if("favoriteChange"===e.changeType)for(let i=0;i<e.data.photoIds.length;i++){const t=e.data.photoIds[i],n=v.getItem(t),o=e.data.isFavorite;n&&(n.viewpoint={...n.viewpoint,isFavorite:o})}}}),[m,p,h,v,c]),v}},46303:(e,t,n)=>{n.d(t,{Ny:()=>d,X7:()=>c});n(18421),n(40264);var o=n(72243),r=n(14766),a=n(74278),i=n(82435);const{UnknownError:s}=window.Resources.Common,l={};function c(e){const{filterFunction:t,messageType:n="error",timeout:a}=e||l,s=o.useContext(r.A);return o.useCallback((function(e){if(t&&(e=t(e)),e){if(e.isCanceled)return;"object"===typeof e&&(e=u(e)),s.dispatchEvent("showMessage",{messageType:n,timeout:void 0===a?"error"===n?0:2e3:a,title:()=>(0,i.jsx)("span",{children:e})})}}),[s,t,n,a])}function d(){return c({filterFunction:a.Z})}function u(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("string"===typeof e)return e;if(e.localizedMessage)return e.localizedMessage;if(e.message)return"string"===typeof e.message?e.message:JSON.stringify(e.message);if(e.error){let n=u(e.error,!1);return!n&&t&&(n=JSON.stringify(e)),n}return""}},92094:(e,t,n)=>{n.d(t,{y:()=>a});var o=n(72243),r=n(29612);function a(e){const t=o.useContext(r.J);return[t.getSetting(e),n=>{t.mergeSetting(e,n)}]}},2116:(e,t,n)=>{n.d(t,{B:()=>r});var o=n(92094);function r(e,t){const[,n]=(0,o.y)("uxSetting");return{zoom:function(o){t(),n({zoomLevel:o}),e(o)}}}},42980:(e,t,n)=>{n.d(t,{R:()=>s});var o=n(54861),r=n(71197),a=n(21650);const i=200;function s(e){const{isSameSection:t,isSimilar:n,itemSpacing:s=16,padding:l=r.hb,renderItem:c,renderOptions:d,renderPlaceholder:u=r.oU,renderSectionHeader:h,zoomLevel:m=i}=e,p=(0,a.CN)(),v=(0,a.CN)();return function(e,r,i,f,g){const x=Math.max(1,Math.floor(r/m)),C=(r+s)/x-s,w={height:C,width:C},b=[],y=[],j=[];let L=0,P=0;if(e){const t=(0,a.sD)(e,n);if(f)for(let e=0;e<p.length;e++)y.push({dimensions:w});for(let e=0;e<t.length;e++){const n=t[e][0];y.push({group:t[e],dimensions:w,item:n})}if(g)for(let e=0;e<v.length;e++)y.push({dimensions:w})}else for(let t=0;t<v.length;t++)y.push({dimensions:w});for(let n=0,a=0;n<y.length;){let e=!1,i=n,m=0;for(;n<y.length;){const{item:o}=y[n];if(t&&(e=e||0===n||!t(y[n-1].item,o)),++n===i+x)break}for(e&&(m+=o.J),L=0;i<n;i++){const{group:e,dimensions:p,item:v}=y[i];if(e&&t&&h&&(0===i||!t(v,y[i-1].item))){let a=[...e],l=p.width;for(let e=i+1;e<y.length&&t(v,y[e].item);e++){const{group:t,dimensions:o}=y[e];t&&(e<n&&(l+=o.width+s),a.push(...t))}const c={height:o.J,left:L,top:P,width:Math.min(l,r-L)};b.push({element:h(a,c),rect:c})}const f={height:p.height+l.bottom,left:L,width:p.width,top:P+m};if(e&&v){const t={group:e,item:v,padding:l,rect:f};j.push(t),b.push({element:c(t,a++,d),rect:f,tileDetails:t})}else b.push({element:u(f,l,a++),rect:f});L+=p.width+s}P+=w.height+m+s+l.bottom}return{elements:b,height:P-s,items:e||[],layoutWidth:r,pivotItem:i,tiles:j}}}},94574:(e,t,n)=>{n.d(t,{V:()=>s});var o=n(15690),r=n(71197),a=n(21650);const i=200;function s(e){const{isSimilar:t,itemSpacing:n=16,renderItem:s,renderOptions:l,renderPlaceholder:c=r.oU,zoomLevel:d=i}=e,u=(0,a.CN)(),h=(0,a.CN)();return function(e,i,m,p,v){const f=Math.max(1,Math.floor(i/d)),g=[],x=(i+n)/f-n,C=[],w=[],b=[];for(let t=0;t<f;t++)g[t]=0;if(e){const n=(0,a.sD)(e,t);if(p)for(let e=0;e<u.length;e++)w.push({dimensions:(0,o.Wl)(0,x,1,u[e])});for(let e=0;e<n.length;e++){let t=n[e][0].dimensions;t.height&&t.width||(t={height:x,width:x}),t=(0,o.Wl)(0,x,t.height,t.width),t.height=Math.max(125,Math.round(t.height)),w.push({group:n[e],dimensions:t,item:n[e][0]})}if(v)for(let e=0;e<h.length;e++)w.push({dimensions:(0,o.Wl)(0,x,1,h[e])})}else for(let t=0;t<h.length;t++)w.push({dimensions:(0,o.Wl)(0,x,1,h[t])});for(let t=0,o=0;t<w.length;t++){const{dimensions:e,group:i,item:d}=w[t],{index:u,value:h}=(0,a.VV)(g),m={height:e.height,left:u*(x+n),top:h,width:x};if(i&&d){const e={group:i,item:d,rect:m};b.push(e),C.push({element:s(e,o++,l),rect:m,tileDetails:e})}else C.push({element:c(m,r.hb,o++),rect:m});g[u]+=m.height+n}return{elements:C,height:(0,a.Fp)(g).value-n,items:e||[],layoutWidth:i,pivotItem:m,tiles:b}}}},86164:(e,t,n)=>{n.d(t,{X:()=>l});var o=n(54861),r=n(15690),a=n(71197),i=n(21650);const s=200;function l(e){const{fixedDimensions:t,isSameSection:n,isSimilar:l,itemSpacing:c=16,padding:d=a.hb,renderItem:u,renderOptions:h,renderPlaceholder:m=a.oU,renderSectionHeader:p,zoomLevel:v=s}=e;let f;t&&(f=[t.width/t.height]);const g=(0,i.CN)(f),x=(0,i.CN)(f);return function(e,a,s,f,C){const w=[],b=[],y=[],j=[];let L=0,P=v;const N=(0,i.sD)(e,l);if(f){for(let e=0;e<g.length;e++)b.push({dimensions:(0,r.Wl)(v,0,1,g[e])});s&&(L+=g.length)}for(let n=0;n<N.length;n++){const e=N[n],o=e[0];let a=o.dimensions;if(s)for(let t=0;t<e.length;t++)if(e[t]===s){L+=n,s=void 0;break}a.height&&a.width||(a={height:P,width:P}),a=t||(0,r.Wl)(v,0,a.height,a.width),a.width=Math.max(125,a.width),b.push({group:e,dimensions:a,item:o})}if(C)for(let t=0;t<x.length;t++)b.push({dimensions:(0,r.Wl)(v,0,1,x[t])});E(L,1),L&&E(L-1,-1);let k,S=0,T=0,A=0;for(let t=0;t<y.length;t++){const{itemCount:e,rowHeight:r}=y[t];if(n&&p){let t=!1,r=0;for(let i=0;i<e;i++){const{dimensions:e,item:s}=b[S+i];let l=e.width;if(s&&!n(k,s)){const e=[s];let d=S+i+1;for(t=!0,k=s;d<b.length;){const{dimensions:t,item:o}=b[d];if(!o||!n(k,o))break;l+=t.width+c,e.push(o),i++,d++}const u={height:o.J,left:r,top:A,width:Math.min(l,a-r)};w.push({element:p(e,u),rect:u})}r+=l+c}t&&(A+=o.J)}for(let t=0,n=0;n<e;n++){const{dimensions:e,group:o,item:r}=b[S+n],a={height:e.height+d.bottom,left:t,top:A,width:e.width};if(o&&r){const e={group:o,item:r,padding:d,rect:a};j.push(e),w.push({element:u(e,T++,h),rect:a,tileDetails:e})}else w.push({element:m(a,d,T++),rect:a});t+=a.width+c}S+=e,A+=r+c+d.bottom}return{elements:w,height:A-c,items:e||[],layoutWidth:a,pivotItem:s,tiles:j};function E(e,n){let o=0,i=0,s=0;for(let l=e;l>=0&&l<b.length;){const{dimensions:e}=b[l];let d=s+i+c+e.width>a;if(0!==o&&d||(s+=e.width,i+=c,o++,l+=n,!(l>=0&&l<b.length))){t&&0!==y.length||(P=d?v*(a-i+c)/s:v);for(let e=l-o*n;e!==l;e+=n){const t=b[e];t.dimensions=(0,r.Wl)(P,0,t.dimensions.height,t.dimensions.width)}-1===n?y.splice(0,0,{itemCount:o,rowHeight:P}):y.push({itemCount:o,rowHeight:P}),o=0,i=0,s=0}}}}}},21650:(e,t,n)=>{n.d(t,{AL:()=>o,CN:()=>a,Fp:()=>s,VV:()=>l,sD:()=>i});const o={dimension60Rect:{height:60,width:60},dimension160Rect:{height:160,width:160},dimension200Rect:{height:200,width:200},dimension256Rect:{height:256,width:256},dimension280Rect:{height:280,width:280}},r=[.5625,.5625,.5625,.5625,.5625,.5625,.75,.75,.75,.75,.75,.75,1.33,1.33,1.33,1.33,1.33,1.33,1.45,1.77,1.77,1.77,1.77,1.77,1.77];function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=[];for(let o=0;o<t;o++)n.push(e[Math.floor(Math.random()*e.length)]);return n}function i(e,t){const n=[];let o;for(const r of e)o&&t&&t(o[o.length-1],r)?o.push(r):(o=[r],n.push(o));return n}function s(e){let t=0,n=0;for(let o=0;o<e.length;o++)e[o]>n&&(n=e[o],t=o);return{index:t,value:n}}function l(e){let t=0,n=Number.MAX_SAFE_INTEGER;for(let o=0;o<e.length;o++)e[o]<n&&(n=e[o],t=o);return{index:t,value:n}}},75864:(e,t,n)=>{n.d(t,{QJ:()=>A,Yj:()=>M,_9:()=>E,mp:()=>S,o8:()=>T,zC:()=>k});var o=n(18421),r=n(28966),a=n(77357),i=n(6558),s=n(97845),l=n(81284),c=n(29993),d=n(15690),u=n(90174),h=n(69176),m=n(82435);const{AddToAlbum:p,AddToAlbumFailed:v,AddedToAlbum:f,RemovedFromAlbum:g,RemoveFromAlbum:x,RemoveFromAlbumFailed:C,UpdateAlbumName:w,UpdateAlbumNameFailed:b,UpdatedAlbumName:y,UpdateCoverPhoto:j,UpdateCoverPhotoFailed:L,UpdatedCoverPhoto:P}=window.Resources.AlbumOperations,{SpecialCharacterError:N}=window.Resources.CreateAlbumDialog;function k(e,t,n,d,h,g,x,C){const w=new o.fA(0),b=new o.fA("progress");let y=0;const j={completedWork:w,messageType:b,title:(0,m.jsx)(a.Q,{values:{completedWork:w},children:e=>{let{completedWork:t}=e;return t<x.length?(0,m.jsx)(m.Fragment,{children:(0,i.WU)(p,{albumName:h,itemCount:x.length})}):(0,m.jsx)(m.Fragment,{children:(0,i.R4)((0,i.WU)(y>0?v:f,{albumName:h,errorCount:y,itemCount:x.length}),(e=>(0,m.jsx)(r.Link,{className:"album-navigation padding-horizontal-4",href:`/album/${g}`,onClick:e=>{d.navigate(e,"navigateAlbum",{telemetryProperties:{mode:"messageAddToAlbum"}})},children:e},"link")))})}}),totalWork:x.length};n.dispatchEvent("showMessage",j);return(0,u.Q)("addToAlbum",n,((o,r)=>{const a=o(t.addToAlbum,{name:"addToAlbum"}),i=(0,s.y)(5),d=[];for(let t=0;t<x.length;t+=C){const n=x.slice(t,t+C).map((e=>e.id)),o=()=>a(e,g,n).finally((()=>w.value=w.value+n.length));d.push(i.queueTask(o))}return Promise.allSettled(d).then((a=>{const{flattenedResult:i,modifiedPhotoIds:s,addedPhotos:d=[],shouldReloadAlbum:u=!1}=(0,c.F)(a,x.map((e=>e.id)),C);if(y=i.length-s.length,b.value=y>0?"error":"success",u){o(t.getAlbumPhotos,{name:"getAlbumPhotos"})(e,g).then((e=>{const t=e.value.map(l.k);return r({changeType:"albumUpdated",data:{albumId:g,addedPhotos:t}}),t}))}else s.length&&r({changeType:"albumUpdated",data:{albumId:g,addedPhotos:0===d.length?x:d}});return n.dispatchEvent("hideMessage",j),i}))}),{customerPromise:{perfGoal:2e3,pillar:"Edit"}})}function S(e,t,n,o,a,s,l){return(0,u.Q)("createAlbum",t,((c,d)=>{if(!(0,h.RV)(a))return Promise.reject(N);const u=c(e.createAlbum,{name:"createAlbum"}),p=c(e.getAlbum,{name:"getAlbum"}),v=l&&s>0?null===l||void 0===l?void 0:l.slice(s):[];return u(o,a,s>0?null===l||void 0===l?void 0:l.slice(0,s):l).then((t=>{if((null===v||void 0===v?void 0:v.length)>0){const n=c(e.addToAlbum,{name:"addToAlbum"}),r=[];for(let e=0;e<v.length;e+=s){const a=n(o,t.id,v.slice(e,e+s));r.push(a)}return Promise.all(r).then((()=>t))}return t})).then((e=>{const s={messageType:"success",title:(0,m.jsx)(m.Fragment,{children:(0,i.R4)((0,i.WU)(f,{albumName:a,itemCount:null===l||void 0===l?void 0:l.length}),(t=>(0,m.jsx)(r.Link,{className:"album-navigation padding-horizontal-4",href:`/album/${e.id}`,onClick:e=>{n.navigate(e,"navigateAlbum",{telemetryProperties:{mode:"messageCreateAlbum"}})},children:t},"link")))}),timeout:3e3};return t.dispatchEvent("showMessage",s),p(o,e.id).then((e=>(d({changeType:"albumCreated",data:{album:e}}),e)))}))}),{customerPromise:{perfGoal:2e3,pillar:"Create"}})}function T(e,t,n,o){const r={customerPromise:{perfGoal:2e3*o.length,pillar:"Delete"}};return(0,u.Q)("deleteAlbum",t,((t,r)=>{const a=t(e.deleteAlbum,{name:"deleteAlbum"}),i=(0,s.y)(5);return Promise.allSettled(o.map((e=>i.queueTask((()=>a(n,e)))))).then((e=>{const t=e.filter((e=>"fulfilled"===e.status)).map(((e,t)=>o[t]));return t.length&&r({changeType:"albumsDeleted",data:{albumIds:t}}),e}))}),r)}function A(e,t,n,r,l,d,h){const p=new o.fA(0),v=new o.fA(0),f=new o.fA("progress"),w={completedWork:p,messageType:f,title:(0,m.jsx)(a.Q,{values:{completedWork:p,errorCount:v},children:e=>{let{completedWork:t,errorCount:n}=e;const o=t<d.length?x:n>0?C:g;return(0,m.jsx)(m.Fragment,{children:(0,i.WU)(o,{albumName:r,errorCount:n,itemCount:d.length})})}}),totalWork:d.length};t.dispatchEvent("showMessage",w);const b={customerPromise:{perfGoal:2e3*d.length,pillar:"Edit"}};return(0,u.Q)("removeAlbumPhotos",t,((o,r)=>{const a=o(e.removeAlbumPhoto,{name:"removeAlbumPhoto"}),i=(0,s.y)(5),u=[];for(let e=0;e<d.length;e+=h){const t=d.slice(e,e+h),o=()=>a(n,l,t).finally((()=>p.value=p.value+t.length));u.push(i.queueTask(o))}return Promise.allSettled(u).then((e=>{const{flattenedResult:n,modifiedPhotoIds:o}=(0,c.F)(e,d,h);return v.value=n.length-o.length,f.value=v.value>0?"error":"success",o.length&&r({changeType:"albumPhotosRemoved",data:{albumId:l,removedPhotoIds:o}}),t.dispatchEvent("hideMessage",w),n}))}),b)}function E(e,t,n,r,i,s){const l=new o.fA("progress"),c={messageType:l,title:(0,m.jsx)(a.Q,{values:{messageType:l},children:e=>{let{messageType:t}=e;const n="progress"===t?j:"success"===t?P:L;return(0,m.jsx)(m.Fragment,{children:n})}})},h=(0,d.x)(i,s.dimensions);return t.dispatchEvent("showMessage",c),(0,u.Q)("updateAlbum",t,((o,a)=>o(e.setCoverPhoto,{name:"updateAlbum"})(n,r,i).then((()=>{l.value="success",a({changeType:"albumUpdated",data:{albumId:r,coverPhotoId:i,thumbnail:h}}),t.dispatchEvent("hideMessage",c)})).catch((()=>{l.value="error"}))))}function M(e,t,n,r,i){if(!(0,h.RV)(i))return Promise.reject(N);const s=new o.fA("progress"),l={messageType:s,title:(0,m.jsx)(a.Q,{values:{messageType:s},children:e=>{let{messageType:t}=e;const n="progress"===t?w:"success"===t?y:b;return(0,m.jsx)(m.Fragment,{children:n})}})};t.dispatchEvent("showMessage",l);return(0,u.Q)("updateAlbum",t,((o,a)=>o(e.updateAlbum,{name:"updateAlbum"})(n,r,i).then((()=>{s.value="success",a({changeType:"albumUpdated",data:{albumId:r,albumName:i}}),t.dispatchEvent("hideMessage",l)})).catch((()=>{s.value="error"}))),{customerPromise:{perfGoal:2e3,pillar:"Edit"}})}},68684:(e,t,n)=>{n.d(t,{Gj:()=>V,Ni:()=>O,Pn:()=>R,V5:()=>I,Y5:()=>F,_U:()=>M,a3:()=>E,eG:()=>H,mJ:()=>B,tU:()=>U,xk:()=>D});var o=n(18421),r=n(52557),a=n(77357),i=n(6558),s=n(74278),l=n(97845),c=n(22400),d=n(51150),u=n(10995),h=n(25256),m=n(90174),p=n(69176),v=n(82435);const{LoadFailure:f}=window.Resources.Common,{AddingTag:g,CompletingDownload:x,DeletingPhotos:C,DeletingTag:w,DownloadFailed:b,DownloadingPhotos:y,DownloadingPhotosViaServer:j,FileNotSupportedError:L,IgnoredFilesMore:P,IgnoredFilesTitle:N,MultiFileDownload:k,UploadFilesTitle:S}=window.Resources.PhotoOperations,T=6e4,A=2147483648;function E(e,t){return(0,m.Q)("favoritePhoto",e,((n,o)=>{const r=n(d.a3,{name:"favoritePhoto"});return o({changeType:"favoriteChange",data:{photoIds:t,isFavorite:!0}}),r(t).catch((n=>{o({changeType:"favoriteChange",data:{photoIds:t,isFavorite:!1}}),e.dispatchEvent("showMessage",{messageType:"error",timeout:5e3,title:n})}))}))}function M(e,t,n,o,r){return(0,m.Q)("addTag",e,((a,s)=>{const l=a(t.addTag,{name:"addTag"})(n,o,r).then((()=>{s({changeType:"tagAdded",data:{photoId:o,tag:r}})}));return e.dispatchEvent("showMessage",{messageType:"fyi",promise:l,title:(0,i.WU)(g,{tag:r})}),l}),{customerPromise:{perfGoal:2e3,pillar:"Edit"}})}function D(e,t,n){const r=new o.fA(0),a={completedWork:r,messageType:"progress",title:C,totalWork:n.length},i={customerPromise:{perfGoal:2e3*n.length,pillar:"Delete"}};return e.dispatchEvent("showMessage",a),(0,m.Q)("deletePhotos",e,((o,i,s)=>{const c=o(d.JJ,{name:"deletePhoto"}),u=(0,l.y)(1),h=n.map((e=>u.queueTask((()=>c(t,e).finally((()=>r.value=r.value+1))))));return Promise.allSettled(h).then((t=>{const o=t.filter((e=>"fulfilled"===e.status)).map(((e,t)=>n[t]));return o.length&&i({changeType:"photosDeleted",data:{photoIds:o}}),s.log({deletedIds:o}),e.dispatchEvent("hideMessage",a),t}))}),i)}function R(e,t,n,o,r){return(0,m.Q)("deleteTag",e,((a,s)=>{const l=a(t.deleteTag,{name:"deleteTag"})(n,o,r).then((()=>{s({changeType:"tagDeleted",data:{photoId:o,tag:r.name}})}));return e.dispatchEvent("showMessage",{messageType:"fyi",promise:l,title:(0,i.WU)(w,{tag:r.name})}),l}),{customerPromise:{perfGoal:2e3,pillar:"Edit"}})}function I(e,t,r,i,c,p,g){if("business"===i.accountType)return function(e,t,n){const o="downloadPhotosODB";for(let i=0;i<n.length;i++){var r,a;const t=n[i];if(null===(r=t.sharepointIds)||void 0===r||!r.listItemId||null===(a=t.sharepointIds)||void 0===a||!a.siteUrl)return e.dispatchEvent("telemetryAvailable",{action:"exception",error:{code:"SharepointInfoMissing"},name:o}),e.dispatchEvent("showMessage",{messageType:"error",title:f}),Promise.resolve()}return(0,h.x)(t,{command:{command:"download",items:n},eventName:o,eventDispatch:e}).then((e=>{})).catch(s.Z)}(e,r,c);return function(e,t,r,i,s){let c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:A;const h=new o.fA(0),p=!r.migrated&&s?new o.fA(`${y}. ${j}`):new o.fA(y),f={completedWork:h,messageType:"progress",title:(0,v.jsx)(a.Q,{values:{title:p},children:e=>{let{title:t}=e;return(0,v.jsx)("span",{children:t})}}),totalWork:i.length};return e.dispatchEvent("showMessage",f),(0,m.Q)("downloadPhoto",e,((o,a,m)=>{const v=r.authenticated(),g=o(d.DH,{name:"downloadPhoto"});let C,w=0;if(1===i.length)C=g(r.driveId,i[0].id,{photoScale:"full"}).then((e=>(h.value=h.value+1,m.log({downloadSize:e.size,fileCount:1}),window.URL.createObjectURL(e))));else{if(!r.migrated&&s){const e=2097152,n=[];let o=0;i.forEach((t=>{var r;o+=null!==(r=t.size)&&void 0!==r?r:e,n.push(t.id)}));const a=new URL("https://storage.live.com/downloadfiles/V1/Zip?"),s=new URL(window.location.href).searchParams.get("authkey")||void 0;return v?t.accessToken("OneDrive.ReadWrite").then((e=>{a.searchParams.set("access_token",e),j(n.join(";"),a),h.value=i.length})).catch((()=>Promise.reject(b))).finally((()=>{m.log({downloadSize:o,fileCount:i.length,mode:"serverZip"})})):(o>A?((0,u.LD)(),window.location.href=(0,u.Z8)(r,"")):(s&&a.searchParams.set("authkey",s),j(n.join(";"),a)),C=new Promise((e=>e(""))),C.then((()=>{h.value=i.length,m.log({downloadSize:o,fileCount:i.length,mode:"serverZip"})})))}C=n.e(4961).then(n.t.bind(n,14961,23)).then((t=>{const n=(0,l.y)(5);let o=1,a=new t.default,s=0,d=!1;return Promise.all(i.map((i=>{let{name:l,id:u}=i;return n.queueTask((()=>g(r.driveId,u,{photoScale:"full"}).catch((()=>g(r.driveId,u,{photoScale:"full"}))).then((n=>{let r;return h.value=h.value+1,w+=n.size,s&&s+n.size>c&&(d||(d=!0,e.dispatchEvent("showMessage",{completedWork:h,messageType:"fyi",title:k,timeout:1e4})),r=a.generateAsync({type:"blob"}).then((e=>y(window.URL.createObjectURL(e)))),o++,a=new t.default,s=0),s+=n.size,a.file(l||u,n),r}))))}))).catch((()=>(m.log({downloadSize:w,fileCount:i.length,zipCount:o}),Promise.reject(b)))).then((()=>(p.value=x,m.log({downloadSize:w,fileCount:i.length,zipCount:o}),a.generateAsync({type:"blob"})))).then((e=>window.URL.createObjectURL(e)))}))}return C.then(y).finally((()=>{e.dispatchEvent("hideMessage",f)}));function y(e){try{const t=1===i.length?i[0].name||i[0].id:`OneDrive ${Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric"}).format(new Date).replace(",","")}.zip`,n=document.createElement("a");n.setAttribute("class","hidden"),n.setAttribute("download",t),n.setAttribute("href",e),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(t){}window.URL.revokeObjectURL(e)}function j(e,t){const n=document.createElement("form");n.setAttribute("action",t.toString()),n.setAttribute("method","POST"),n.setAttribute("class","hidden"),n.setAttribute("target","_self");const o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","resids"),o.setAttribute("value",e),n.appendChild(o),document.body.appendChild(n),n.submit(),window.setTimeout((function(){document.body.removeChild(n)}),T)}}))}(e,t,i,Array.from(c,(e=>({name:e.name,id:e.id,size:e.size}))),p,g)}function V(e,t,n,o){return(0,m.Q)("getPhotoDetails",e,((e,r)=>e(d.sU,{name:"getPhotoDetails"})(t,n,o).then((e=>{var t,n;r({changeType:"photoUpdated",data:{photo:{...e,detectedEntities:null!==(t=e.detectedEntities)&&void 0!==t?t:[],tags:null!==(n=e.tags)&&void 0!==n?n:[]}}})}))))}function F(e,t,n){var o,r;const a="openPhotoODB";if(null!==(o=n.sharepointIds)&&void 0!==o&&o.listItemId&&null!==(r=n.sharepointIds)&&void 0!==r&&r.siteUrl){const o={command:"open",items:[n]};return(0,h.x)(t,{command:o,eventName:a,eventDispatch:e}).catch(s.Z)}return e.dispatchEvent("telemetryAvailable",{action:"exception",error:{code:"SharepointInfoMissing"},name:a}),e.dispatchEvent("showMessage",{messageType:"error",title:f}),Promise.resolve()}function O(e,t){return(0,m.Q)("removeFavoritePhoto",e,((n,o)=>{const r=n(d.Ni,{name:"removeFavoritePhoto"});return o({changeType:"favoriteChange",data:{photoIds:t,isFavorite:!1}}),r(t).catch((n=>{o({changeType:"favoriteChange",data:{photoIds:t,isFavorite:!0}}),e.dispatchEvent("showMessage",{messageType:"error",timeout:5e3,title:n})}))}))}function U(e,t,n,o){return(0,m.Q)("updatePhoto",e,((e,r)=>e(d.tU,{name:"updatePhoto"})(t,n,o).then((e=>(r({changeType:"photoUpdated",data:{photo:e}}),e)))),{customerPromise:{perfGoal:2e3,pillar:"Social",name:"savePhotoUpdate"}})}function B(e,t,n,o,r){return(0,m.Q)("uploadPhoto",e,((a,i)=>{const s=a(d.mJ,{name:"uploadPhoto"});if((0,p.n_)(n)){const e=`root:${(0,p.ZQ)(o)}`;return s(t,n,e).then((e=>(r&&(e.dimensions=r),i({changeType:"photoCreated",data:{photo:e}}),e)))}{const t=Z([n]);return e.dispatchEvent("showMessage",{messageType:"fyi",timeout:5e3,title:t}),Promise.reject(L)}}))}function H(e,t,n,a){return(0,m.Q)("uploadPhotos",e,((i,s)=>{const l=i(c.Z6,{name:"getSpecialFolder"}),u=a&&i(a,{name:"getTargetFolder"}),h=i(d.mJ,{name:"uploadPhoto"}),m=[],v=[];let f=0;for(let e=0;e<n.length;e++){const t=n[e];(0,p.n_)(t)?(v.push(t),f+=t.size):m.push(t)}if(m.length){const t=Z(m);e.dispatchEvent("showMessage",{messageType:"fyi",timeout:5e3,title:t})}if(v.length){const n=(u?u():l(t,"photos").then((e=>`root:${(0,p.ZQ)(e.parentReference)}/${e.name}`))).then((e=>{const n=[];return v.forEach((o=>{const r=h(t,o,e).then((e=>(a.value=a.value+o.size,e))).catch((e=>{throw a.value=a.value+o.size,e}));n.push(r)})),Promise.allSettled(n).then((e=>((0,r.unstable_batchedUpdates)((()=>{for(let t=0;t<e.length;t++){const n=e[t];"fulfilled"===n.status&&s({changeType:"photoCreated",data:{photo:n.value}})}})),e)))})),a=new o.fA(0),i={completedWork:a,messageType:"progress",promise:n,title:S,totalWork:f};return e.dispatchEvent("showMessage",i),n}return Promise.resolve([])}))}function Z(e){return(0,v.jsxs)("div",{className:"flex-column",children:[(0,v.jsx)("span",{className:"font-weight-semibold",children:N}),e.slice(0,3).map((e=>(0,v.jsx)("span",{children:e.name},e.name))),e.length>3&&(0,v.jsx)("span",{className:"padding-top-8",children:(0,i.WU)(P,{count:e.length-3})})]})}},29993:(e,t,n)=>{n.d(t,{F:()=>a,P:()=>r});var o=n(81284);function r(e){return{...e,value:e.value.filter((e=>!e.tags||!e.tags.find((e=>"__Auto"===e.name))))}}function a(e,t,n){const r=[],a=[],i=[];let s=!1;return e.forEach(((e,l)=>{"fulfilled"===e.status?e.value.value.forEach((e=>{e.error?"copiedAlbumItemNotFound"===e.error.code?(s=!0,r.push({status:"fulfilled",value:void 0}),a.push(e.id)):r.push({status:"rejected",reason:e.error.code}):(r.push({status:"fulfilled",value:void 0}),a.push(e.id),e.copiedItem&&i.push((0,o.k)(e.copiedItem)))})):t.slice(l*n,(l+1)*n).forEach((t=>{r.push({status:"rejected",reason:e.reason})}))})),{flattenedResult:r,modifiedPhotoIds:a,addedPhotos:i,shouldReloadAlbum:s}}},53199:(e,t,n)=>{n.d(t,{JX:()=>r,qS:()=>a});var o=n(50956);function r(e,t){var n;const{children:o,result:a,scenarioName:i,scenarioType:s}=e;var l,c,d,u,h,m,p;"rejected"!==(null===a||void 0===a?void 0:a.status)||null!==(n=a.reason)&&void 0!==n&&n.isCanceled||t.push({name:i,code:(null===(l=a.reason)||void 0===l||null===(c=l.error)||void 0===c?void 0:c.code)||(null===(d=a.reason)||void 0===d?void 0:d.message)||"noErrorCode",message:(null===(u=a.reason)||void 0===u||null===(h=u.error)||void 0===h?void 0:h.message)||(null===(m=a.reason)||void 0===m?void 0:m.message)||JSON.stringify(a.reason),pillar:null===(p=e.properties)||void 0===p?void 0:p.pillar,type:s});if(o)for(const f of o){var v;null!==(v=f.properties)&&void 0!==v&&v.pillar||r(f,t)}return t}function a(e){var t;const n=[],a=r((0,o.f)("scenarioComplete",e),[]);switch(null===(t=e.properties)||void 0===t?void 0:t.pillar){case"Boot":for(const e of a)e.code.includes("Loading chunk")||e.code.includes("Loading CSS chunk")?n.push({name:"BootChunkLoadError",errorCode:e.code.includes("CSS")?"CSSChunkLoadError":"JSChunkLoadError"}):n.push({name:"PhotosWebAppUnknownBootError",errorCode:e.code});break;case"Create":for(const e of a)n.push(s(e));break;case"Delete":for(const e of a)n.push(l(e));break;case"Edit":for(const e of a)n.push(c(e));break;case"Social":for(const e of a)n.push(d(e));break;case"View":for(const e of a)switch(e.type){case"componentRender":n.push({name:"ComponentRenderFailure",errorCode:e.code});break;case"imageLoad":n.push({name:"ImageLoadError",errorCode:e.code.includes("Image")?"Image failed to load":"Content failed to load"});break;case"networkRequest":n.push(i(e));break;case"scriptDownload":n.push({name:"ChunkLoadError",errorCode:e.code.includes("CSS")?"CSSChunkLoadError":"JSChunkLoadError"});break;default:n.push({name:"PhotosWebAppUnknownError",errorCode:e.code})}}return n}function i(e){const t={name:"UnknownNetworkRequestError",errorCode:e.code};switch(t.errorCode.toLowerCase()){case"activitylimitreached":case"throttledrequest":t.name="UserRequestThrottled";break;case"accessdenied":case"invalidrequest":case"nonjsonerror":case"notsupported":t.name="BadRequest";break;case"itemnotfound":case"itemdoesnotexist":t.name="ResourceNotFound";break;case"failed to fetch":case"load failed":case"networkerror when attempting to fetch resource.":case"preparationfailed":t.name="NetworkError";break;case"unauthenticated":t.name="UserUnauthenticated";break;case"generalexception":case"unexpectedstatus":t.name="GeneralException"}return t}function s(e){const t={name:"PhotosWebAppUnknownCreateError",errorCode:e.code};if("networkRequest"===e.type){const n=`Create${i(e).name}`;t.name=n}return t}function l(e){const t={name:"PhotosWebAppUnknownDeleteError",errorCode:e.code};if("networkRequest"===e.type)if("itemnotfound"===t.errorCode.toLowerCase())t.name="DeleteItemNotFound";else{const n=`Delete${i(e).name}`;t.name=n}return t}function c(e){const t={name:"PhotosWebAppUnknownEditError",errorCode:e.code};if("networkRequest"===e.type){const n=`Edit${i(e).name}`;t.name=n}return t}function d(e){const t={name:"PhotosWebAppUnknownSocialError",errorCode:e.code};if("networkRequest"===e.type){const n=`Social${i(e).name}`;t.name=n}return t}},25256:(e,t,n)=>{n.d(t,{x:()=>r});const{LoadFailure:o}=window.Resources.Common;function r(e,t){const{command:n,eventName:r,eventDispatch:a}=t,i=Date.now();if(e.hostClient)return e.hostClient.ready.then((()=>e.hostClient.sendCommand(n,{timeoutDelayMs:12e4}).then((e=>{const t=Date.now();let n="success"===e.result?{result:{status:"fulfilled"}}:{result:{status:"rejected",reason:{error:{code:e.error.code,message:e.error.message},expectedFailure:e.isExpected}}};return a.dispatchEvent("telemetryAvailable",{action:"commandComplete",duration:t-i,name:r,...n}),e})))).catch((e=>(a.dispatchEvent("telemetryAvailable",{name:r,action:"exception",error:e}),a.dispatchEvent("showMessage",{messageType:"error",title:o}),Promise.reject({result:"error",isExpected:!1,error:{code:e.name,message:e.message}}))));{const e="HostClientMissing";return a.dispatchEvent("telemetryAvailable",{name:r,action:"exception",error:{code:e}}),a.dispatchEvent("showMessage",{messageType:"error",title:o}),Promise.reject({result:"error",isExpected:!1,error:{code:e,message:o}})}}},64695:(e,t,n)=>{n.d(t,{$9:()=>s,hG:()=>i,si:()=>l});var o=n(98444),r=n(22481);const a=new Map([["Content-Length","contentLength"],["ms-cv","ms_cv"],["RateLimit-Limit","rateLimitLimit"],["RateLimit-Remaining","rateLimitRemaining"],["RateLimit-Reset","rateLimitReset"],["sprequestguid","spRequestGuid"],["sprequestduration","spRequestDuration"],["X-Cache-Origin","cacheOrigin"],["X-Msedge-Ref","msEdgeRef"]]);function i(e,t){return(0,r.h)(e,{retryCallback:s,...t})}function s(e,t,n,r){let a=!1;if(401===n.status||403===n.status){const n=new Headers(t.headers);if(e.indexOf("ump=1")>=0||n.has("Authorization")){const e=(0,o.$1)();for(let t in e)0===t.indexOf("AccessToken-")&&(0,o.kT)(t);a=!0}}return Promise.resolve(a)}function l(e){const{response:t,telemetryProperties:n}=e;n.httpStatus=t.status,a.forEach(((e,o)=>{const r=t.headers.get(o);r&&(n[e]=r)}))}},62216:(e,t,n)=>{n.d(t,{$9:()=>a,BU:()=>d,LU:()=>i,RA:()=>u,T7:()=>s,ib:()=>h});const{PhotoLabelPrefix:o,VideoLabelPrefix:r}=window.Resources.Common;function a(e){const t=e.video?r:o,n=e.tags.filter((e=>"ObjectDetectorsUICategory"!==e.source)).map((e=>e.name)).join(", ");return t.concat(n)}function i(e){const{hours:t,minutes:n,seconds:o}=h(e);let r="";return t&&(r+=t+":"),n?(r.length&&n<10&&(r+="0"),r+=n+":"):r+=r.length?"00:":"0:",o<10&&(r+="0"),r+o}function s(e){const{address:t,displayName:n}=e;if(t){const{city:e,locality:n,state:o}=t;return o?`${e||n}, ${o}`:e||n}return n}const l=new Intl.NumberFormat(void 0,{maximumSignificantDigits:3}),c=["B","KB","MB","GB","TB","PB"];function d(e){let t=0;for(;e>1024&&t<c.length-1;)t++,e/=1024;return`${l.format(Math.floor(10*e)/10)} ${c[t]}`}function u(e){return e>1073741824?d(e):e<107374182?"< 0.1 GB":Math.floor(e/1073741824*10)/10+" GB"}function h(e){let t=0,n=0,o=Math.floor(e/1e3),r=0;return o>=3600&&(t=Math.floor(o/3600),o-=3600*t),o>=60&&(n=Math.floor(o/60),o-=60*n),r=o,{hours:t,minutes:n,seconds:r}}},15690:(e,t,n)=>{n.d(t,{Cc:()=>f,FT:()=>v,Ig:()=>r,KC:()=>p,OK:()=>m,Wl:()=>c,ck:()=>s,d9:()=>u,pG:()=>a,uW:()=>d,x:()=>g,xJ:()=>i,yp:()=>h});var o=n(69176);function r(e,t,n){const o=Math.min(n.width/t.width,1),r=Math.min(n.height/t.height,1);return{height:e.height*r,width:e.width*o}}function a(e,t,n){const o=null!==n&&void 0!==n?n:e,r=e.height/o.height,a=e.width/o.width;return{height:t.height/r,left:t.left/a,top:t.top/r,width:t.width/a}}function i(e,t,n,o,r){return new Promise(((a,i)=>{const s=new Image;s.src=e,s.onload=e=>{if(Math.abs(r.width-s.naturalWidth)>1){const e=s.naturalHeight/r.height,n=s.naturalWidth/r.width;t.height*=e,t.left*=n,t.top*=e,t.width*=n}if(o.current){const e=o.current.getContext("2d");e&&(e.clearRect(0,0,n.width,n.height),e.drawImage(s,t.left,t.top,t.width,t.height,0,0,n.width,n.height))}a(e)},s.onerror=i}))}function s(e,t,n,o){return new Promise(((r,i)=>{const s=new Image;s.src=e,s.onload=()=>{const e=[];t.forEach((t=>{if(t.recognizedEntity){const r=document.createElement("canvas");r.width=n.width,r.height=n.width;const{boundingBoxLeft:i,boundingBoxTop:l,boundingBoxWidth:c,boundingBoxHeight:d}=t,u={left:c<d?i-(d-c)/2:i,top:c>d?l-(c-d)/2:l,width:Math.max(d,c),height:Math.max(d,c)},h=a(o,u,{height:s.height,width:s.width}),m=r.getContext("2d");m&&(m.drawImage(s,h.left,h.top,h.width,h.height,0,0,80,80),e.push({id:t.recognizedEntity.id,name:t.recognizedEntity.identity.user.displayName,url:r.toDataURL()}))}})),r(e)},s.onerror=i}))}const l={crop:!1};function c(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l;const{crop:a=!1}=r,i=e/n,s=t/o;return a&&i&&s?i<s?{height:n*s,width:o*s}:{height:n*i,width:o*i}:i&&(i<s||!s)?{height:n*i,width:o*i}:s?{height:n*s,width:o*s}:{height:0,width:0}}function d(e){return"image/heic"!==e}function u(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n&&e&&t){const n=e<t?(e-(e+25)%25+50)/e:(t-(t+25)%25+50)/t;t*=n,e*=n}return`c${Math.ceil(t)}x${Math.ceil(e)}`}function h(e){const{createdDateTime:t,fileSystemInfo:n,lastModifiedDateTime:o}=e,{takenDateTime:r}=e.photo||{};if(r)return new Date(r.replace("Z",""));if(n){const e=new Date(n.createdDateTime.replace("Z","")),t=new Date(n.lastModifiedDateTime.replace("Z",""));return t.getTime()<e.getTime()?t:e}return t?new Date(t):o?new Date(o):new Date}function m(e,t,n,o,r){const a=new URLSearchParams,i=new URL(window.location.href),s=i.searchParams.get("authkey")||"",l=i.searchParams.get("cid")||"",c=i.searchParams.get("migratedtospo")||"";t&&a.append("view",`${t}${n?`,${n}`:""}`);for(let u=1;u<e.length;u++)a.append("id",e[u].id);o&&a.append("fallback",o),r&&r.shared&&(a.append("authkey",s),a.append("ithint",r.isVideo?"video":"photo"),a.append("cid",l),c&&a.append("migratedtospo",c));const d=a.toString();return`/${null!==r&&void 0!==r&&r.shared?"share":"photo"}/${e[0].id}${d&&"?"}${d}`}function p(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;return(0,o.NN)(h(e)).getTime()===(0,o.NN)(h(t)).getTime()}function v(e,t){return!e&&!t||!(!e||!t)&&h(e).getFullYear()===h(t).getFullYear()}function f(e,t){var n,o,r,a;return!(!e||!t)&&(!e.video&&!t.video&&("image/gif"!==(null===(n=e.file)||void 0===n?void 0:n.mimeType)&&"image/gif"!==(null===(o=t.file)||void 0===o?void 0:o.mimeType)&&(!(null===(r=e.photo)||void 0===r||!r.takenDateTime||null===(a=t.photo)||void 0===a||!a.takenDateTime||Math.abs(Date.parse(e.photo.takenDateTime)-Date.parse(t.photo.takenDateTime))>1e4)&&!(!e.dimensions.width||!t.dimensions.height||Math.abs(e.dimensions.width/e.dimensions.height-t.dimensions.width/t.dimensions.height)>.01))))}function g(e,t){return{id:"0",large:n(800),medium:n(176),small:n(96)};function n(n){const{height:o,width:r}=c(Math.min(n,t.height),Math.min(n,t.width),t.height,t.width);return{height:Math.round(o),sourceItemId:e,width:Math.round(r)}}}},71197:(e,t,n)=>{n.d(t,{Id:()=>d,Vx:()=>s,aW:()=>l,hb:()=>a,oU:()=>c,xW:()=>i});n(72243);var o=n(38997),r=n(82435);const a={bottom:0},i={bottom:44};function s(){const{innerWidth:e}=window;return e<640?"mobile":e<1024?"tablet":"desktop"}function l(){return void 0!==document.fullscreenElement&&window===window.top}const c=(e,t,n)=>(0,r.jsx)(o.V,{className:"absolute",rect:e},`placeholder-${n}`),d=(e,t,n)=>(0,r.jsx)(o.t,{className:"absolute",padding:t,rect:e},`placeholder-${n}`)},90174:(e,t,n)=>{n.d(t,{Q:()=>s});var o=n(63693),r=n(50956),a=n(53199),i=n(64695);function s(e,t,n,s){const{promise:l,reject:c,resolve:d}=(0,o.PQ)(),{customerPromise:u}=s||{},h=(0,r.x)(l,{scenarioName:e,scenarioType:"operationExecute"},(e=>{u&&function(e){const n=e.endTime-e.startTime,o={action:"customerPromise",duration:n,properties:e.properties,pillar:u.pillar,resultType:"Success",scenarioName:e.scenarioName};e.properties.pillar=u.pillar;const r=(0,a.qS)(e);n>u.perfGoal&&r.push({name:`${u.pillar}PerformanceGoalNotMet`,errorCode:"Performance goal not met"});null!==u&&void 0!==u&&u.modifyVetoes&&u.modifyVetoes(e,r);if(r.length>0){const e=r[Math.floor(Math.random()*r.length)];Object.assign(o,{resultType:"Failure",veto:e})}t.dispatchEvent("telemetryAvailable",o)}(u.name?{...e,scenarioName:u.name}:e),t.dispatchEvent("telemetryAvailable",(0,r.f)("operationComplete",e))}));return n((function(e,n){const o=(0,i.hG)(e,{eventDispatch:t,...n});return function(){const{name:e="__unnamed__"}=n||{},t=Date.now(),r=o(...arguments);return h.waitUntil(r,{scenarioName:e,scenarioType:"networkRequest",startTime:t}),r}}),(function(e){t.dispatchEvent("dataChanged",e)}),h).then(d,c),h.scenarioPromise}},87579:(e,t,n)=>{n.d(t,{aO:()=>d,e_:()=>p});n(72243);var o=n(51150),r=n(16499),a=n(64126),i=n(6558),s=n(82435);const{RecentPlacesSubtitle:l}=window.Resources.Common,c=Math.PI/180;function d(e){if(null===e||void 0===e||!e.length)return[];const t=[],n=[],c=new Map;let d=0;for(let o=0;o<e.length&&3!==d;o++){const t=e[o],n=h(t)?t.location:void 0;if(n){var v;const e=n.displayName,o=[...null!==(v=c.get(e))&&void 0!==v?v:[],t];d+=5===o.length?1:0,c.set(e,o)}}const f=Array.from(c.values()).filter((e=>e.length>=5)),[g,...x]=f.map((e=>e[0]));if(g){const e=g.location;for(const t of x)t&&u(e)&&u(t.location)&&m(e,t.location)&&n.push(t);n.unshift(g)}return n.forEach(((e,n)=>{var c;const d=p(e.location),u=null===(c=e.location)||void 0===c?void 0:c.address,h={};null!==u&&void 0!==u&&u.countryOrRegion&&(h.country=null===u||void 0===u?void 0:u.countryOrRegion),null!==u&&void 0!==u&&u.state&&(h.state=null===u||void 0===u?void 0:u.state),null!==u&&void 0!==u&&u.city&&(h.city=null===u||void 0===u?void 0:u.city);const m={details:{getPhotoContent:(0,a.a)(o.DH),href:(0,i.X8)("/recent?{{parameters}}",{parameters:new URLSearchParams(h)}),photo:e,title:d,subtitle:l},id:e.id,order:70+n,render:e=>(0,s.jsx)(r.yt,{...e},`recentPlaces-${n}`)};t.push(m)})),t}function u(e){return Boolean(e.latitude&&e.longitude)}function h(e){return Boolean(e.location&&e.location.displayName&&e.location.latitude&&e.location.longitude)}function m(e,t){const n=(t.latitude-e.latitude)*c,o=(t.longitude-e.longitude)*c,r=Math.pow(Math.sin(n/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(e.latitude*c)*Math.cos(t.latitude*c);return 3959*Math.asin(Math.sqrt(r))*2>=10}function p(e){var t;const n=e.address,o=e.displayName||"";if(!n)return o;const r=n.countryOrRegion,a=n.state,i=null!==(t=n.city)&&void 0!==t?t:"",s=[];return i&&s.push(i),a&&s.push(a),r&&s.push(r),s.length>1?s[0]+", "+s[s.length-1]:o}},67397:(e,t,n)=>{n.d(t,{Og:()=>C,Xy:()=>L,_8:()=>j});var o=n(6558),r=n(51150),a=n(16499),i=n(64126),s=n(82435);const{MemoriesSubtitle:l,MemoriesTitle:c,LastWeekSubtitle:d,LastWeekTitle:u,OnThisDaySubtitle:h,OnThisDayTitle:m,PreviousMonthTitle:p,RecentHighlightsTitle:v,RecentHighlightsSubtitle:f,RecentPhotosTitle:g,RecentPlacesSubtitle:x}=window.Resources.Common;function C(e){return e.value.map(((e,t)=>{const{id:n,recommendation:l,thumbnails:c}=e,{count:d,recommendationType:u,startDate:h,subtitle:m,title:p}=l,{large:v}=c[0],f=j(u,m,h),g=L(u,p,h),x={title:g,subtitle:f};d&&(x.count=d.toString());return{details:{href:(0,o.X8)("/moments/{{recommendationType}}/{{id}}?{{parameters}}",{id:n,parameters:new URLSearchParams(x),recommendationType:u}),getPhotoContent:(0,i.a)(r.DH),photo:{dimensions:{height:v.height,width:v.width},id:v.sourceItemId},subtitle:f,title:g},id:n,order:"OnThisDay"===u?30:50+t,render:e=>(0,s.jsx)(a.yt,{...e,type:u},`recommendation-${t}`)}}))}const w={OnLastWeek:d,OnThisDay:h,RecentHighlights:v,RecentPlaces:x},b={OnLastWeek:u,OnThisDay:m,RecentHighlights:f,RecentPhotos:g,RecentPlaces:x},y=Intl.DateTimeFormat(void 0,{month:"long"});function j(e,t,n){let o=t||w[e];return o||(o="PreviousMonth"===e&&n?new Date(n).getFullYear().toString():"ExploreThings"===e||"ExploreLocations"===e?"":l),o}function L(e,t,n){let r=t||b[e];return t||"PreviousMonth"===e&&n&&(r=(0,o.WU)(p,{month:y.format(new Date(n))})),r||c}},69176:(e,t,n)=>{n.d(t,{Ak:()=>l,EI:()=>c,GO:()=>u,NN:()=>x,RV:()=>w,SR:()=>d,Xq:()=>i,ZQ:()=>s,gc:()=>v,mX:()=>f,my:()=>r,n_:()=>C,sg:()=>a,u4:()=>g});var o=n(21650);function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.left+e.width/2,a=e.top+e.height/2;let i=Math.max(e.width,e.height)*n,s=i/2;if(!o){const e=r-s,n=a-s,o=t.width-(r+s),l=t.height-(a+s),c=Math.min(e,n,o,l);c<0&&(i+=2*c,s=i/2)}return{left:r-s,top:a-s,width:i,height:i}}function a(e){Array.from(e.searchParams.keys()).forEach((t=>{e.searchParams.delete(t),e.searchParams.set(t,"")})),e.hostname.indexOf(".files.1drv.com")>0&&(e.pathname="--preauth--");const t=e.pathname.indexOf("/content/");return t>=0&&(e.pathname=e.pathname.substring(0,t+8)),e}function i(e){const t=e.getPage().current;return("Search"===t||"FlorenceSearch"===t)&&new URLSearchParams(window.location.search).get("q")||""}function s(e){const t=null===e||void 0===e?void 0:e.driveId;let n=decodeURIComponent((null===e||void 0===e?void 0:e.path)||"");if(0===n.indexOf("/drive/root:"))n=n.substring(12);else if(t&&n){const e=`/drives/${t}/root:`;0===n.indexOf(e)&&(n=n.substring(e.length))}return n}function l(e){const t=[];if(e.duplicates&&e.duplicates.length>0){const n=[s(e.parentReference)];for(const o of e.duplicates){const{parentReference:e}=o;if(e){const{driveId:o,id:r}=e;if(r){const a=s(e);-1===n.indexOf(a)&&(n.push(a),t.push({driveId:o,id:r,relativePath:a}))}}}}return t}function c(e,t){const n=[];return Array.from(e.value).forEach((e=>{const o=t(e);o&&(n.push(o),o.duplicates&&n.push(...o.duplicates))})),n}function d(e,t){const n=[];return Array.from(e.value).forEach((e=>{const o=t(e);o&&n.push(...u(o))})),n}function u(e){const t=[];return e.duplicates&&e.duplicates.forEach((e=>{if(e.parentReference&&e.parentReference.path){const n=e.parentReference.path.split("/");t.push(n[n.length-1])}})),t}const h=/\(([^)]*)\)/gi,m=/\([^)]*\)|[\0-\u001F!-/:-@[-`{-\u00BF\u0250-\u036F\uD800-\uFFFF]/gi,p=/\s+/gi;function v(e){let t="";if(!e)return t;let n=(e=(e=(e=(e=e.replace(h,"")).replace(m,"")).replace(p," ")).trim()).split(" ");return n.length>=2?(t+=n[0].charAt(0).toUpperCase(),t+=n[n.length-1].charAt(0).toUpperCase()):1===n.length&&(t+=n[0].charAt(0).toUpperCase()),t}function f(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=o.AL.dimension160Rect;if(e){const o=e.source;if(a={width:o.width,height:o.height},o.sourceCropRegions&&o.sourceCropRegions.length){const e=o.sourceCropRegions[0];t=r({left:e.boundingBoxX,height:e.boundingBoxHeight,top:e.boundingBoxY,width:e.boundingBoxWidth},a,n)}}return{cropRect:t,imageDimensions:a}}function g(e,t){const n=(e,t)=>t?n(t,e%t):e,o=n(e,t);return[e/o,t/o]}function x(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function C(e){return e.type.startsWith("image/")||e.type.startsWith("video/")||e.name.endsWith(".heic")}function w(e){return!/^.*[:?|<>*/\\].*$|.*\.$/g.test(e)}},90506:(e,t,n)=>{n.d(t,{G:()=>r});const o=["grid","masonry","river"];function r(e){if(e)for(let t=0;t<o.length;t++)if(e===o[t])return e}},99649:()=>{},85200:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"static/media/avatar.00d4ecf9.png"},48288:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"static/media/photo-80.a5d5c1aa.png"}},e=>{e.O(0,[179],(()=>{e.E(4345),e.E(9667)}),5);e.O(0,[2449],(()=>{return t=29075,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main.36f390f0.js.map